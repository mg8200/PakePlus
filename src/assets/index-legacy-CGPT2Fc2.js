!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,l,a,c=[],o=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(r=l.call(n)).done)&&(c.push(r.value),c.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{if(!o&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./engineering-data-inquiry-legacy-dLfUXwjS.js","./table-legacy-BfQK1xrs.js","./index-legacy-BH1Y34Mi.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./resetTableRef-legacy-BB5avnzc.js","./modal.vue_vue_type_style_index_0_lang-legacy-DP5xhvDE.js","./pdf-viewer-legacy-DG9HKUu-.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js","./index-legacy-JzSJVdOM.js"],(function(t,n){"use strict";var r,i,l,a,c,o,s,u,d,p,m,f,g,h,y,k,x;return{setters:[function(e){r=e.b,i=e._},function(e){l=e._},function(e){a=e.r,c=e.o,o=e.e,s=e.g,u=e.i,d=e.V,p=e.w,m=e.h,f=e.f,g=e.aa,h=e._,y=e.B},function(e){k=e._},function(e){x=e.u},null,null,null,null,null],execute:function(){var n={class:"h-full min-h-500px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},v=["onClick"],w=["onClick"],I=["onClick"],b=["onClick"],_=["onClick"];t("default",Object.assign({name:"engineering-manage_engineering-information"},{__name:"index",setup:function(t){var N=a(null),C=e(x({moduleNo:null,moduleNoState:"8"}),2),S=C[0],F=C[1],P={0:"编写",1:"更改",2:"待处理",3:"编写中",4:"暂停",5:"已回退",6:"反审核",7:"审核中",8:"已上网",9:"完成",10:"取消",11:"外部ECN",12:"外部ECN待处理",13:"内部ECN",19:"样板转生产",20:"ENC更改",25:"报废",27:"申请",28:"入库",29:"发放",34:"归还",35:"接收",36:"审核",37:"确认",100:"PPC审核"},j=a(null),R=[{type:"input",key:"moduleNo",label:"生产型号",span:24,md:12,lg:8,xl:8,xxl:4,placeholder:"请输入生产型号",showTime:!0},{type:"select",key:"moduleNoState",label:"状态",placeholder:"请选择状态",span:24,md:12,lg:8,xl:8,xxl:4,selectOptions:Object.entries(P).map((function(t){var n=e(t,2),r=n[0],i=n[1];return 8===r?{label:"已上网",value:r}:{label:i,value:r}}))}];function A(e){var t=Number(e);switch(140917104644e4===t||160913164544e4===t?t=2:140917104654e4===t||140919111754e4===t?t=3:161013095348e4!==t&&140919111738e4!==t||(t=4),Number(t)){case-1:return"#FF0000";case 0:return"#0080FF";case 1:return"#FFA500";case 2:return"#FF8000";case 3:return"#B15BFF";case 4:return"#73BF00";case 5:return"#8E8E8E";case 6:return"#BEBEBE";case 7:return"#FF0000";case 8:return"#4682B4";case 9:return"#0000FF";case 10:return"#007500";default:return"#0000FF"}}var D=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,customFilterDropdown:!0,width:130,onFilter:function(e,t){var n=Number(t.state);return 140917104644e4===n||160913164544e4===n?n=2:140917104654e4===n||140919111754e4===n?n=3:161013095348e4!==n&&140919111738e4!==n||(n=4),!e||Number(e)===Number(n)},customRender:function(e){var t=e.record,n=Number(t.state);return 140917104644e4===n||160913164544e4===n?n=2:140917104654e4===n||140919111754e4===n?n=3:161013095348e4!==n&&140919111738e4!==n||(n=4),8===n?s("div",{class:"h-full w-full",title:"已上网",style:{color:A(t.state)}},[m("已上网")]):s("div",{class:"h-full w-full",title:P[n]||"",style:{color:A(t.state)}},[P[n]||""])}},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return s("span",{class:"fonw-800 color-#646cff"},[t.moduleNo])}},{key:"pnType",dataIndex:"pnType",title:"类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodType",dataIndex:"prodType",title:"产品类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"surfTrea1",dataIndex:"surfTrea1",title:"表面处理1",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peType",dataIndex:"peType",title:"板类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peDifficulty",dataIndex:"peDifficulty",title:"开发等级",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peState",dataIndex:"peState",title:"生产稿状态",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peSpecial",dataIndex:"peSpecial",title:"特殊周期",align:"center",checked:!0,ellipsis:!0,width:130},{key:"pemark",dataIndex:"pemark",title:"水印",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peRemark",dataIndex:"peRemark",title:"工程备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"targetName",dataIndex:"targetName",title:"终端客户",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custNo",dataIndex:"custNo",title:"客户编码",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNo",dataIndex:"custProdNo",title:"客户型号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNoAdd",dataIndex:"custProdNoAdd",title:"物料号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peActive",dataIndex:"peActive",title:"PE状态",align:"center",checked:!0,ellipsis:!0,width:130,customRender:function(e){return e.record.peactive?"有效":"过期"}},{key:"activeRemark",dataIndex:"activeRemark",title:"操作备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"mktActive",dataIndex:"mktActive",title:"MIKT投产",align:"center",checked:!0,ellipsis:!0,width:130,customRender:function(e){return e.record.mktactive?"是":"否"}},{key:"weight",dataIndex:"weight",title:"单重",align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return g(t.createDate).format("YYYY-MM-DD HH:mm:ss")}},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return g(t.updateDate).format("YYYY-MM-DD HH:mm:ss")}}],T=a(null);function E(e){T.value=e}function B(){j.value.getData(1)}function M(){F(),B()}var O="localhost"===window.location.hostname,Y=a(!1),z=a(null),H=a(null);function J(e){var t;t=e?e.record:T.value,r({prodId:t.prodId},t.moduleNo),e.hidePopup()}function U(e){var t;t=e?e.record:T.value,Y.value=!0,H.value="".concat(t.moduleNo,"MI文件.pdf 预览"),z.value="".concat(O?"http://192.168.166.169:9999/prod-api/":"/prod-api/","erpsyncmes/mi/print/getMiPdf?prodId=").concat(t.prodId),e&&e.hidePopup()}function $(e){var t;if(t=e?e.record:T.value){var n=JSON.parse(sessionStorage.getItem("mi-data"));n?n[t.prodId]=t:(n={})[t.prodId]=t,sessionStorage.setItem("mi-data",JSON.stringify(n)),e&&e.hidePopup(),window.open("/mi-design/engineering-design?prodId=".concat(t.prodId),"_blank")}else window.$message.error("请选择一条数据")}function q(e){var t;if(t=e?e.record:T.value){var n=JSON.parse(sessionStorage.getItem("mi-data"));n?n[t.prodId]=t:(n={})[t.prodId]=t,sessionStorage.setItem("mi-data",JSON.stringify(n)),e&&e.hidePopup(),window.open("/mi-design/engineering-design?prodId=".concat(t.prodId),"_blank")}else window.$message.error("请选择一条数据")}return function(e,t){var r=k,a=h,g=y,x=l,C=i;return c(),o("div",n,[s(r,{ref_key:"commonSearchRef",ref:N,searchParams:u(S),"onUpdate:searchParams":t[0]||(t[0]=function(e){return d(S)?S.value=e:null}),"form-list":R,onSearch:B,onReset:M},null,8,["searchParams"]),s(x,{ref_key:"tableRef",ref:j,searchParams:u(S),"onUpdate:searchParams":t[5]||(t[5]=function(e){return d(S)?S.value=e:null}),column:D,"show-row-selection":!1,"row-key":"prodId",scroll:{y:"auto"},"is-init-get-data":"",url:"/erpsyncmes/Mi/findModuleNo","auto-generate-uuid":!1,class:"h-full","default-expand-all-rows":!0,onTableRowClick:E},{title:p((function(){return[s(g,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[1]||(t[1]=function(e){return $(null)})},{icon:p((function(){return[s(a,{"local-icon":"engineering-design",class:"ml-4px mr-4px text-16px"})]})),default:p((function(){return[t[7]||(t[7]=m(" 工程设计 "))]})),_:1}),s(g,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[2]||(t[2]=function(e){return q(null)})},{icon:p((function(){return[s(a,{"local-icon":"view",class:"ml-4px mr-4px text-16px"})]})),default:p((function(){return[t[8]||(t[8]=m(" 工程查看 "))]})),_:1}),s(g,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[3]||(t[3]=function(e){return U(null)})},{icon:p((function(){return[s(a,{"local-icon":"preview",class:"ml-4px mr-4px text-16px"})]})),default:p((function(){return[t[9]||(t[9]=m(" 预览 "))]})),_:1}),s(g,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[4]||(t[4]=function(e){return J(null)})},{icon:p((function(){return[s(a,{"local-icon":"download",class:"ml-4px mr-4px text-16px"})]})),default:p((function(){return[t[10]||(t[10]=m(" 下载 "))]})),_:1})]})),"contextmenuPopup-orter":p((function(e){var n=e.args;return[f("li",{class:"popup-item",onClick:function(e){return J(n)}},[s(a,{"local-icon":"download",class:"text-16px"}),t[11]||(t[11]=m(" 下载 "))],8,v),f("li",{class:"popup-item",onClick:function(e){return U(n)}},[s(a,{"local-icon":"preview",class:"text-16px"}),t[12]||(t[12]=m(" 预览 "))],8,w),f("li",{class:"popup-item",onClick:function(e){return $(n)}},[s(a,{"local-icon":"engineering-design",class:"text-16px"}),t[13]||(t[13]=m(" 工程设计 "))],8,I),f("li",{class:"popup-item",onClick:function(e){return q(n)}},[s(a,{"local-icon":"view",class:"text-16px"}),t[14]||(t[14]=m(" 工程查看 "))],8,b),f("li",{class:"popup-item",onClick:function(e){return q(n)}},[s(a,{"local-icon":"examine",class:"text-16px"}),t[15]||(t[15]=m(" 审核 "))],8,_)]})),_:1},8,["searchParams"]),s(C,{visible:Y.value,"onUpdate:visible":t[6]||(t[6]=function(e){return Y.value=e}),url:z.value,type:"pdf","pdf-use-iframe":"",title:H.value},null,8,["visible","url","title"])])}}}))}}}))}();
