import{_ as e}from"./table-DoFSI9NT.js";import{_ as t}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{r as a,o as s,e as l,g as r,w as c,i,V as n,f as d,aa as o,a5 as u,N as h,Q as p}from"./index-B3PZsRwT.js";import{u as m}from"./resetTableRef-DZjcvemm.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const k={class:"h-full w-full"},y=Object.assign({name:"work-order-management_lotno-management"},{__name:"index",setup(y){const f=a(null),[w,g]=m({moduleNo:null}),x={0:"新录入",1:"更改",2:"待处理",3:"处理中",4:"暂停",5:"拒审",6:"反审核",7:"审核中",8:"生效",9:"完成",10:"取消",11:"外部ECN",12:"外部ECN处理中",13:"内部ECN处",19:"样板转生产",21:"改变",22:"待投料",23:"已投料"};function I(e){switch(Number(e)){case 0:return"#0080FF";case 1:return"#E1E100";case 2:return"#FF8000";case 3:return"#B15BFF";case 4:return"#73BF00";case 5:return"#8E8E8E";case 6:case 8:return"#BEBEBE";case 7:return"#FF0000";case 9:default:return"#0000FF";case 10:return"#007500";case 21:return"#FF4500"}}const D=[{type:"input",key:"moduleNo",label:"生产型号",span:9,placeholder:"请输入生产型号"}],_=a(null),N=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,width:70,customRender:({record:e})=>{return r("div",{style:{color:I(Number(e.ppcState))},class:"h-full w-full font-800"},[(t=Number(e.state),x[t]||"")]);var t}},{key:"issueNo",dataIndex:"issueNo",title:"投料单号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",width:120,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>r("div",{class:"fonw-800 color-#646cff"},[e.moduleNo])},{key:"issueType",dataIndex:"issueType",title:"发料类型",width:120,align:"center",checked:!0,ellipsis:!0},{key:"issPcsQty",dataIndex:"issPcsQty",title:"PNL数",width:120,align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"发料日期",width:170,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>e.createDate&&o(e.createDate).format("YYYY-MM-DD HH:mm:ss")},{key:"workType",dataIndex:"workType",title:"工单类型",width:120,align:"center",checked:!0,ellipsis:!0},{key:"sheetQty",dataIndex:"sheetQty",title:"大料数量",width:160,align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"发料人员",width:160,align:"center",checked:!0,ellipsis:!0}];function v(){_.value.getData()}function P(){g(),u((()=>{v()}))}const B=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"lotNo",dataIndex:"lotNo",title:"批卡号",width:160,align:"center",checked:!0,ellipsis:!0},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",width:160,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>r("div",{class:"fonw-800 color-#646cff"},[e.moduleNo])},{key:"dateCode",dataIndex:"dateCode",title:"生产周期",width:100,align:"center",checked:!0,ellipsis:!0},{key:"prodOrderNo",dataIndex:"prodOrderNo",title:"工单号码",width:150,align:"center",checked:!0,ellipsis:!0},{key:"scrapCharacteristic",dataIndex:"scrapCharacteristic",title:"报废特性",width:100,align:"center",checked:!0,ellipsis:!0},{key:"qty",dataIndex:"qty",title:"批卡数量",width:100,align:"center",checked:!0,ellipsis:!0},{key:"unit",dataIndex:"unit",title:"批卡单位",width:100,align:"center",checked:!0,ellipsis:!0},{key:"planDays",dataIndex:"planDays",title:"计划生产天数",width:150,align:"center",checked:!0,ellipsis:!0},{key:"workDays",dataIndex:"workDays",title:"生产时长",width:100,align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"入账员",width:100,align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"创建日期",width:170,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>e.createDate&&o(e.createDate).format("YYYY-MM-DD HH:mm:ss")},{key:"updateDate",dataIndex:"updateDate",title:"最后更改日期",width:170,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>e.updateDate&&o(e.updateDate).format("YYYY-MM-DD HH:mm:ss")}],F=a({issueId:null}),R=a(null);function b(e){F.value.issueId=e.issueId,u((()=>R.value.getData()))}function Y(e){e.length&&(_.value.setCurrentRowId(e[0]),b(e[0]))}return(a,o)=>{const u=t,m=e,y=h,g=p;return s(),l("div",k,[r(g,{gutter:16,class:"h-full"},{default:c((()=>[r(y,{span:12,class:"h-full min-h-500px w-430px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},{default:c((()=>[r(u,{ref_key:"commonSearchRef",ref:f,searchParams:i(w),"onUpdate:searchParams":o[0]||(o[0]=e=>n(w)?w.value=e:null),"form-list":D,onSearch:v,onReset:P},null,8,["searchParams"]),r(m,{ref_key:"leftTableRef",ref:_,searchParams:i(w),"onUpdate:searchParams":o[1]||(o[1]=e=>n(w)?w.value=e:null),column:N,"show-row-selection":!1,"auto-generate-uuid":"","row-key":"screenId",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/mes/BasePpcprodissue/select",onTableRowClick:b,onTableDataLoadSucess:Y},{title:c((()=>o[3]||(o[3]=[d("span",{class:"color-#646cff"},"生产工单",-1)]))),_:1},8,["searchParams"])])),_:1}),r(y,{span:12,class:"h-full"},{default:c((()=>[r(m,{ref_key:"rightTableRef",ref:R,searchParams:F.value,"onUpdate:searchParams":o[2]||(o[2]=e=>F.value=e),column:B,"show-row-selection":!1,"auto-generate-uuid":"","row-key":"screenId",scroll:{y:"auto"},"is-init-get-data":!1,class:"h-full","is-pagination":!1,url:"/mes/BasePpclotcard/select"},null,8,["searchParams"])])),_:1})])),_:1})])}}});export{y as default};
