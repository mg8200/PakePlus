import{_ as e}from"./modal.vue_vue_type_style_index_0_lang-Gjmj9w7c.js";import{U as t,r as a,p as l,g as r,S as n,o as s,e as i,i as c,V as d,w as p,f as o,t as u,h as y,c as h,W as k,B as m,J as g}from"./index-B3PZsRwT.js";import{_ as b}from"./table-DoFSI9NT.js";import{_ as x}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{u as w}from"./resetTableRef-DZjcvemm.js";import{u as f}from"./searchData-DpjdfxBw.js";import{v as I}from"./index-DqnulfE2.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const v={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},_={style:{"font-size":"16px","font-weight":"400"}},N={style:{"font-size":"16px","font-weight":"400"}},T={style:{"font-size":"16px","font-weight":"400"}},D={key:0,class:"event-form"},P={key:1,class:"event-form"},C={class:"modal-footer"},S=g(Object.assign({name:"business-anagement_order-management_order-entry"},{__name:"index",setup(g){t((e=>({"4fb232ec":e.footerHeight})));const[S,B]=w({moduleNo:null,state:null,time:null}),F=a(null),E=a(null),j=f(S);a([]);const A=[{type:"input",key:"contract",label:"合同号",span:24,md:12,lg:10,xl:4,xxl:4,placeholder:"请输入合同号",showTime:!0},{type:"input",key:"prodNo",label:"生产型号",span:24,md:12,lg:10,xl:4,xxl:4,placeholder:"请输入生产型号",showTime:!0},{type:"input",key:"batchNo",label:"工单号",span:24,md:12,lg:10,xl:4,xxl:4,placeholder:"请输入工单号",showTime:!0},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],R=l({current:1,pageSize:25,showSizeChanger:!0,pageSizeOptions:["50","100","200","300","500"],showQuickJumper:!0,showTotal:e=>"共".concat(e,"条"),total:0,onChange:async(e,t)=>{R.current=e,R.pageSize=t,getData()}}),O=a([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:100,align:"center",checked:!0},{key:"state",dataIndex:"state",title:"状态",sorter:!0,align:"center",checked:!0,ellipsis:!0,customRender:e=>r("div",{style:{color:L(e.record.state)}},[$(e.record.state)])},{key:"orderNo",dataIndex:"orderNo",title:"订单号码",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"contract",dataIndex:"contract",title:"合同号",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"contractDate",dataIndex:"contractDate",title:"合同日期",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建人",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"创建日期",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"updateDate",dataIndex:"updateDate",title:"最后修改日期",sorter:!0,align:"center",checked:!0,ellipsis:!0},{key:"orgName",dataIndex:"orgName",title:"订单来源",sorter:!0,align:"center",checked:!0,ellipsis:!0}]),U=a([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:100,align:"center",checked:!0},{key:"state",dataIndex:"state",title:"状态",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130,customRender:e=>r("div",{style:{color:L(e.record.state)}},[$(e.record.state)])},{key:"batchNo",dataIndex:"batchNo",title:"工单号",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"odrType",dataIndex:"odrType",title:"订单类型",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"mantissaPercent",dataIndex:"mantissaPercent",title:"尾数板比率",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodNo",dataIndex:"prodNo",title:"生产型号",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNo",dataIndex:"custProdNo",title:"客户型号",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNoAdd",dataIndex:"custProdNoAdd",title:"物料号",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"batchType",dataIndex:"batchType",title:"批次类型",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"qty",dataIndex:"qty",title:"数量(PSC)",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"backupQty",dataIndex:"backupQty",title:"备品数量(PSC)",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"enableDelivery",dataIndex:"enableDelivery",title:"允许交货",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"setPcs",dataIndex:"setPcs",title:"1Set=?Pcs",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"currency",dataIndex:"currency",title:"币别",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"price",dataIndex:"price",title:"含税单价",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"contractPrice",dataIndex:"contractPrice",title:"合同单价",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"amount",dataIndex:"amount",title:"金额",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"deliveryDate",dataIndex:"deliveryDate",title:"客户交期",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"mktDate",dataIndex:"mktDate",title:"市场交期",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"address",dataIndex:"address",title:"送货地址",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:180},{key:"targetName",dataIndex:"targetName",title:"终端客户",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"targetContract",dataIndex:"targetContract",title:"终端合同号",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark1",dataIndex:"remark1",title:"订单说明",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"applyName",dataIndex:"applyName",title:"业务员",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"merchandiser",dataIndex:"merchandiser",title:"跟单员",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark",dataIndex:"remark",title:"备注",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark2",dataIndex:"remark2",title:"备注2",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"rmbAmount",dataIndex:"rmbAmount",title:"金额(RMB)",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"contractAmount",dataIndex:"contractAmount",title:"合同金额",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"deliveryUnit",dataIndex:"deliveryUnit",title:"交货单位",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"returnDate",dataIndex:"returnDate",title:"结批日期",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"shippingType",dataIndex:"shippingType",title:"货运方式",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"sellType",dataIndex:"sellType",title:"销售方式",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodType",dataIndex:"prodType",title:"加工类型",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodType1",dataIndex:"prodType1",title:"安全投产",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"invoice",dataIndex:"invoice",title:"开发票",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建者",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",sorter:!0,align:"center",checked:!0,ellipsis:!0,width:130}]),z=[{type:"input",key:"state",label:"状态",placeholder:"请选择状态",span:8},{type:"input",key:"mktAllowed",label:"mkt可投产",placeholder:"请选择是否mkt可投产",span:8},{type:"input",key:"allowed",label:"可投产",placeholder:"请选择是否可投产",span:8},{type:"input",key:"takeMaterials",label:"可领料",placeholder:"请选择是否可领料",span:8},{type:"input",key:"consignment",label:"寄售",placeholder:"请输入寄售",span:8},{type:"input",key:"quotationOrderNo",label:"报价单号",placeholder:"请输入报价单号",span:8},{type:"input",key:"customerCode",label:"客户编码",placeholder:"请输入客户编码",span:8},{type:"input",key:"customerName",label:"客户名称",placeholder:"请输入客户名称",span:8},{type:"input",key:"terminalCustomer",label:"终端客户",placeholder:"请输入终端客户",span:8},{type:"input",key:"company",label:"公司主体",placeholder:"请输入公司主体",span:8},{type:"input",key:"factory",label:"生产厂区",placeholder:"请输入生产厂区",span:8},{type:"input",key:"layer",label:"层数",placeholder:"请输入层数",span:8},{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:8},{type:"input",key:"customerModel",label:"客户型号",placeholder:"请输入客户型号",span:8},{type:"input",key:"materialNo",label:"物料号",placeholder:"请输入物料号",span:8},{type:"input",key:"terminalModel",label:"终端型号",placeholder:"请输入终端型号",span:8},{type:"input",key:"terminalVersion",label:"终端版本",placeholder:"请输入终端版本",span:8},{type:"input",key:"sowFile",label:"sow文件",placeholder:"请输入sow文件",span:8},{type:"input",key:"otherAdditions",label:"其他附加",placeholder:"请输入其他附加",span:8},{type:"input",key:"ptlNum",label:"ptl数量",placeholder:"请输入ptl数量",span:8},{type:"input",key:"ptlRemark",label:"ptl备注",placeholder:"请输入ptl备注",span:8},{type:"input",key:"ptlSquareMetre",label:"ptl平米",placeholder:"请输入ptl平米",span:8},{type:"input",key:"modelType",label:"型号类型",placeholder:"请输入型号类型",span:8},{type:"input",key:"productType",label:"产品类型",placeholder:"请输入产品类型",span:8},{type:"input",key:"surfaceTreatment",label:"表面处理",placeholder:"请输入表面处理",span:8},{type:"input",key:"surfaceTreatment1",label:"表面处理1",placeholder:"请输入表面处理1",span:8},{type:"input",key:"surfaceTreatment2",label:"表面处理2",placeholder:"请输入表面处理2",span:8},{type:"input",key:"specialProcess",label:"特殊工艺",placeholder:"请输入特殊工艺",span:8},{type:"input",key:"unit",label:"单位",placeholder:"请输入单位",span:8},{type:"input",key:"customerShipUnit",label:"客户出货单位",placeholder:"请输入客户出货单位",span:8},{type:"input",key:"unitWeight",label:"单重",placeholder:"请输入单重",span:8},{type:"input",key:"unitArea",label:"单元面积",placeholder:"请输入单元面积",span:8},{type:"input",key:"commonModel",label:"共同型号",placeholder:"请输入共同型号",span:8},{type:"input",key:"plateThickness",label:"板厚",placeholder:"请输入板厚",span:8},{type:"input",key:"plateMaterial",label:"板材",placeholder:"请输入板材",span:8},{type:"input",key:"tg",label:"tg",placeholder:"请输入tg",span:8},{type:"input",key:"cti",label:"cti",placeholder:"请输入cti",span:8},{type:"input",key:"environmental",label:"环保料",placeholder:"请输入环保料",span:8},{type:"input",key:"setToPcs",label:"1set=?pcs",placeholder:"请输入1set=?pcs",span:8},{type:"input",key:"customerPanelAssembly",label:"客户拼板",placeholder:"请输入客户拼板",span:8},{type:"input",key:"setL",label:"set长",placeholder:"请输入set长",span:8},{type:"input",key:"setW",label:"set宽",placeholder:"请输入set宽",span:8},{type:"input",key:"sampleApprovalTime",label:"样板承认时间",placeholder:"请输入样板承认时间",span:8},{type:"input",key:"massProductionTime",label:"量产时间",placeholder:"请输入量产时间",span:8},{type:"input",key:"hdi",label:"hdi",placeholder:"请输入hdi",span:8},{type:"input",key:"hdiStructure",label:"hdi结构",placeholder:"请输入hdi结构",span:8},{type:"input",key:"mechanicalBlindHole",label:"机械盲孔",placeholder:"请输入机械盲孔",span:8},{type:"input",key:"flexibleBoard",label:"软板",placeholder:"请输入软板",span:8},{type:"input",key:"productFeatures",label:"产品特征",placeholder:"请输入产品特征",span:8},{type:"input",key:"wb",label:"WB",placeholder:"请输入WB",span:8},{type:"input",key:"safetyClimbManagement",label:"安全爬坡管理",placeholder:"请输入安全爬坡管理",span:8},{type:"input",key:"safetyComponent",label:"安全件",placeholder:"请输入安全件",span:8},{type:"input",key:"rpoth",label:"通孔塞树脂",placeholder:"请输入通孔塞树脂",span:8},{type:"input",key:"scheduledScrapping",label:"预定报废",placeholder:"请输入预定报废",span:8},{type:"input",key:"remark",label:"备注",placeholder:"请输入备注",span:8},{type:"input",key:"createBy",label:"创建者",placeholder:"请输入创建者",span:8}],M=a([]),W=a(!1),q=a({pageNum:1,pageSize:25,custOrderId:""}),Q=a(""),H=a(""),J=a("");function V(){I("/jlerp/prodInfo/update",Q.value).then((({data:e,error:t})=>{var a;t||(W.value=!1,Q.value="",null==(a=window.$message)||a.success("修改成功"),M.value=[],getData())}))}function $(e){switch(Number(e)){case-1:return"无ICS";case 0:return"新录入";case 1:return"更改";case 2:return"待处理";case 3:return"处理中";case 4:return"暂停";case 5:return"拒审";case 6:return"反审核";case 7:return"审核中";case 8:return"生效";case 9:return"完成";case 10:return"取消";case 11:return"外部ECN";case 12:return"外部ECN处理中";case 13:return"内部ECN处";case 19:return"样板转生产";case 21:return"改变";case 22:return"待投料";case 23:return"已投料";case 25:return"失效";case 999:return"系统完成";default:return 150331113231e4==e?"初审":(idx=me.store.find("audId",e),idx>=0?me.store.getAt(idx).get("audName"):'Error:"audId" not found')}}function L(e){switch(Number(e)){case 0:return"#0080FF";case 1:return"#E1E100";case 2:return"#FF8000";case 3:return"#B15BFF";case 4:return"#73BF00";case 5:return"#8E8E8E";case 6:case 8:return"#BEBEBE";case 7:return"#FF0000";case 9:default:return"#0000FF";case 10:return"#007500";case 21:return"#FF4500";case 25:return"#00CED1"}}function G(){I("/jlerp/prodInfo/add",H.value).then((({data:e,error:t})=>{var a;t||(W.value=!1,H.value="",null==(a=window.$message)||a.success("新增成功"),M.value=[],getData())}))}function K(){F.value.getData(1)}function X(){B(),K()}function Y(e){M.value=e,q.value.custOrderId=e[0].custOrderID}function Z(e){q.value.custOrderId=e.custOrderID,E.value.getData()}return(t,a)=>{const l=x,g=b,w=n("STableSummaryCell"),f=n("STableSummaryRow"),I=k,B=m,R=e;return s(),i("div",v,[r(l,{searchParams:c(S),"onUpdate:searchParams":a[0]||(a[0]=e=>d(S)?S.value=e:null),"form-list":A,onSearch:K,onReset:X},null,8,["searchParams"]),r(g,{ref_key:"tableRef",ref:F,searchParams:c(j),"onUpdate:searchParams":a[1]||(a[1]=e=>d(j)?j.value=e:null),column:O.value,"show-row-selection":!1,"auto-generate-uuid":!0,scroll:{y:"auto"},"is-init-get-data":"",url:"/rcerp/orderInfo/findCustOrder",onTableSelectChange:Y,onTableRowClick:Z},null,8,["searchParams","column"]),r(g,{ref_key:"tableRefs",ref:E,searchParams:q.value,"onUpdate:searchParams":a[2]||(a[2]=e=>q.value=e),column:U.value,"show-row-selection":!1,"auto-generate-uuid":!1,"row-key":"suborderID",scroll:{y:"auto"},url:"/rcerp/orderInfo/findDetailCustOrder","is-init-get-data":!1,"summary-fixed":!0},{summary:p((()=>[r(f,null,{default:p((()=>[r(w,{index:14,"col-span":2,class:"text-center"},{default:p((()=>a[7]||(a[7]=[o("div",null,[o("span",{style:{"font-size":"22px","font-weight":"600"}},"本页合计:")],-1)]))),_:1}),r(w,{index:16,class:"text-center"},{default:p((({total:e})=>[o("span",_,u(e),1)])),_:1}),r(w,{index:27,class:"text-center"},{default:p((({total:e})=>[o("span",N,u(e),1)])),_:1}),r(w,{index:28,class:"text-center"},{default:p((({total:e})=>[o("span",T,u(e),1)])),_:1})])),_:1})])),_:1},8,["searchParams","column"]),r(R,{visible:W.value,"onUpdate:visible":a[6]||(a[6]=e=>W.value=e),"destroy-on-close":!0,centered:!0,title:J.value,width:"1050px",height:"550px"},{footer:p((()=>[o("div",C,[r(B,{onClick:a[5]||(a[5]=e=>W.value=!1)},{default:p((()=>a[8]||(a[8]=[y("关闭")]))),_:1}),"型号定义修改"==J.value?(s(),h(B,{key:0,onClick:V},{default:p((()=>a[9]||(a[9]=[y("保存")]))),_:1})):(s(),h(B,{key:1,onClick:G},{default:p((()=>a[10]||(a[10]=[y("保存")]))),_:1}))])])),default:p((()=>["型号定义修改"==J.value?(s(),i("div",D,[r(I,{model:Q.value,"onUpdate:model":a[3]||(a[3]=e=>Q.value=e),"form-list":z},null,8,["model"])])):(s(),i("div",P,[r(I,{model:H.value,"onUpdate:model":a[4]||(a[4]=e=>H.value=e),"form-list":z},null,8,["model"])]))])),_:1},8,["visible","title"])])}}}),[["__scopeId","data-v-40815376"]]);export{S as default};
