import{_ as e}from"./round-edit-DZi1TDWc.js";import{_ as t}from"./table-DoFSI9NT.js";import{_ as a}from"./round-delete-DScxCu5A.js";import{_ as l}from"./round-add-MytOGm9O.js";import{_ as i}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{K as n,L as r,r as o,u as s,aa as d,b as u,g as c,dJ as p,e0 as v,ab as m,I as y,a0 as h,o as f,c as g,w as k,f as x,h as b,a6 as D,e as w,i as Y,ah as I,ai as _,W as Q,B as T,J as M,a9 as C,j as N,a2 as P,a3 as R,ac as S,a5 as j,N as z,Q as q}from"./index-B3PZsRwT.js";import{g as B,p as A}from"./api-By23aosn.js";import{g as U}from"./form-setup-CpeSHwGr.js";import{u as O,p as E,a as F}from"./pp-trace-Bf2HPMWF.js";import{_ as W}from"./modal.vue_vue_type_style_index_0_lang-Gjmj9w7c.js";import{u as V,a as $,b as H}from"./audited-C8QoJi4k.js";import{_ as J}from"./index-Cn-BWYp5.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./index-BThgVJ70.js";import"./fromPairs-BI-MgVCs.js";const L={class:"add-v-cut-tool-record-form"},G={key:0,class:"state"},K=["src"],X=["src"],Z=["src"],ee={style:{"max-height":"403px","overflow-y":"auto"}},te={class:"modal-footer"},ae=M({__name:"add-pp-user",props:n({operateType:{type:String,default:"add"},rowData:{type:Object,default:null}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:n(["handleAddModalClose","postSuccess"],["update:visible"]),setup(e,{emit:t}){const a=r(e,"visible"),l=e,i=o(l.rowData),n=s(),M=t,C=o(!1),N=o([{type:"tabs",span:24,name:"状态信息"},{type:"datePicker",key:"createDate",label:"日期",span:6,rule:{required:!0,message:"请选择日期",trigger:"change"},disabled:C,defaultValue:d().format("YYYY-MM-DD")},{type:"input",key:"operator",label:"操作员",defaultValue:n.userInfo.user.nickName||n.userInfo.user.userName,disabled:!0,span:6},{type:"input",key:"foreman",label:"领班审核",disabled:!0,span:6},{type:"input",key:"examiner",label:"主管审核",disabled:!0,span:6}]),P=[{key:"ppSize",dataIndex:"ppSize",title:"PP规格",width:70,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>(l.operateType,null==e?void 0:e.ppSize)},{key:"glueContent",dataIndex:"glueContent",title:"RC(%)",width:50,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>(l.operateType,null==e?void 0:e.glueContent)}],R=u((()=>"add"===l.operateType?[...P,{key:"produceDate",dataIndex:"produceDate",title:"生产日期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>c("div",{style:{minWidth:"100px"}},[c(p,{value:e.produceDate,style:{width:"100%"},placeholder:"请选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:t=>{e.produceDate=t?d(t).format("YYYY-MM-DD"):null}},null)])},{key:"expirationDate",dataIndex:"expirationDate",title:"有效期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>c("div",{style:{minWidth:"100px"}},[c(p,{value:e.expirationDate,style:{width:"100%"},placeholder:"请选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:t=>{e.expirationDate=t?d(t).format("YYYY-MM-DD"):null}},null)])},{key:"dateInventory",dataIndex:"dateInventory",title:"当日工序库存(卷)",align:"center",width:100,checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.dateInventory]):c(y,{style:"height: 22px !important;",value:e.dateInventory,onChange:t=>{const a=t.target.value;e.dateInventory=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.dateInventory=null);e.dateInventory=Number(a),ae(e)}},null)},{key:"receiveQty",dataIndex:"receiveQty",title:"领用数量(卷)",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.receiveQty]):c(y,{style:"height: 22px !important;",value:e.receiveQty,onChange:t=>{const a=t.target.value;e.receiveQty=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.receiveQty=null);e.receiveQty=Number(a),ae(e)}},null)},{key:"useQty",dataIndex:"useQty",title:"使用数量(卷)",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.useQty]):c(y,{style:"height: 22px !important;",value:e.useQty,onChange:t=>{const a=t.target.value;e.useQty=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.useQty=null);e.useQty=Number(a),ae(e)}},null)},{key:"inventoryQty",dataIndex:"inventoryQty",title:"库存数量(卷)",disabled:!0,width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.inventoryQty]):c(y,{style:"height: 22px !important;",value:e.inventoryQty,disabled:!0},null)},{key:"remark",dataIndex:"remark",title:"备注",width:130,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.remark]):c(y,{style:"height: 22px !important;",value:e.remark,"onUpdate:value":t=>e.remark=t},null)}]:[...P,{key:"produceDate",dataIndex:"produceDate",title:"生产日期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>c("div",{style:{minWidth:"100px"}},[c(p,{value:e.produceDate,style:{width:"100%"},placeholder:"请选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:t=>{e.produceDate=t?d(t).format("YYYY-MM-DD"):null}},null)])},{key:"expirationDate",dataIndex:"expirationDate",title:"有效期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>c("div",{style:{minWidth:"100px"}},[c(p,{value:e.expirationDate,style:{width:"100%"},placeholder:"请选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:t=>{e.expirationDate=t?d(t).format("YYYY-MM-DD"):null}},null)])},{key:"dateInventory",dataIndex:"dateInventory",title:"当日工序库存(卷)",align:"center",width:100,checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.dateInventory]):c(y,{style:"height: 22px !important;",value:e.dateInventory,onChange:t=>{const a=t.target.value;e.dateInventory=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.dateInventory=null);e.dateInventory=Number(a),ae(e)}},null)},{key:"receiveQty",dataIndex:"receiveQty",title:"领用数量(卷)",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.receiveQty]):c(y,{style:"height: 22px !important;",value:e.receiveQty,onChange:t=>{const a=t.target.value;e.receiveQty=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.receiveQty=null);e.receiveQty=Number(a),ae(e)}},null)},{key:"useQty",dataIndex:"useQty",title:"使用数量(卷)",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.useQty]):c(y,{style:"height: 22px !important;",value:e.useQty,onChange:t=>{const a=t.target.value;e.useQty=Number(a),ae(e)},onBlur:t=>{const a=t.target.value;if(!v(Number(a).toString())||!Number(a>=0))return m.error("请输入正数"),void(e.useQty=null);e.useQty=Number(a),ae(e)}},null)},{key:"inventoryQty",dataIndex:"inventoryQty",title:"库存数量(卷)",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.inventoryQty]):c(y,{style:"height: 22px !important;",value:e.inventoryQty,disabled:!0},null)},{key:"remark",dataIndex:"remark",title:"备注",width:130,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"look"===l.operateType?c("div",{style:"min-width:150px"},[e.remark]):c(y,{style:"height: 22px !important;",value:e.remark,onChange:t=>{e.remark=t.target.value}},null)}])),S=o([]),j=o(!1),z=o(!1),q=o(null),A=o(null),U=o(F(N.value));function F(e){const t={};return e.forEach((e=>{var a;t[e.key]=e.defaultValue||null,(null==l?void 0:l.rowData)&&"edit"===(null==l?void 0:l.operateType)&&(t[e.key]=null==(a=null==l?void 0:l.rowData)?void 0:a[e.key]),e.tansfromDisabled&&(e.disabled=e.tansfromDisabled(l.operateType))})),t}function ae(e){null!==e.dateInventory&&null!==e.receiveQty&&null!==e.useQty&&(e.inventoryQty=e.dateInventory+e.receiveQty-e.useQty)}function le(){a.value=!1,U.value=F(N.value),M("handleAddModalClose")}async function ie(){var e;const t={...q.value,...A.value},a=S.value.map((e=>({...e,ppSize:e.ppSize,glueContent:e.glueContent,useDate:e.useDate,expirationDate:e.expirationDate,dateInventory:e.dateInventory,receiveQty:e.receiveQty,useQty:e.useQty,inventoryQty:e.inventoryQty,produceDate:e.produceDate,expirationDate:e.expirationDate,remark:e.remark}))),{createDate:n,operator:r}=U.value,o={createDate:n,operator:r,ppdata:a};await t.validateForm();const s={add:"新增",edit:"修改"};let d;await t.validateForm(),j.value=!0,z.value=!0,d="edit"===l.operateType?O({...o,id:null==(e=i.value)?void 0:e.leftTableId}):E(o);try{const{error:e}=await d;e||(m.success("".concat(s[l.operateType],"成功")),M("postSuccess"),le())}catch(u){m.error("请求失败，请重试。")}finally{z.value=!1,j.value=!1}}const ne=o(l.operateType);return h((()=>[l.operateType,l.rowData]),(([e,t])=>{i.value=null,ne.value=e,"add"===e?(C.value=!1,a.value&&(j.value=!0,S.value=[],B("qms/press/PPout/selectPPoutIndex").then((({data:e,error:t})=>{t||(e.forEach(((e,t)=>{e.index=t+1,e.expirationDate=e.expirationDate?d(e.expirationDate).format("YYYY-MM-DD"):null,e.produceDate=e.produceDate?d(e.produceDate).format("YYYY-MM-DD"):null})),S.value=e)})).finally((()=>{j.value=!1})))):(i.value=t,C.value=!0,S.value=t.list),U.value=F(N.value)}),{deep:!0}),(e,t)=>{const i=I,n=_,r=J,o=Q,s=T;return f(),g(W,{visible:a.value,"onUpdate:visible":t[3]||(t[3]=e=>a.value=e),title:"".concat({add:"新增",edit:"编辑",look:"查看"}[l.operateType],"PP先进先出记录表"),height:"85vh",width:"75vw","destroy-on-close":!0,centered:!0,onClose:le},{footer:k((()=>[x("div",te,["add"==l.operateType?(f(),g(s,{key:0,type:"primary",loading:z.value,onClick:t[1]||(t[1]=e=>ie())},{default:k((()=>t[4]||(t[4]=[b(" 保 存 ")]))),_:1},8,["loading"])):D("",!0),"edit"==l.operateType?(f(),g(s,{key:1,type:"primary",loading:z.value,onClick:t[2]||(t[2]=e=>ie())},{default:k((()=>t[5]||(t[5]=[b(" 修 改 ")]))),_:1},8,["loading"])):D("",!0),c(s,{onClick:le},{default:k((()=>t[6]||(t[6]=[b("关 闭")]))),_:1})])])),default:k((()=>[x("div",L,["add"!==l.operateType?(f(),w("div",G,[0===l.rowData.state?(f(),w("img",{key:0,src:Y(V),alt:"examine-icon"},null,8,K)):D("",!0),2===l.rowData.state||4===l.rowData.state?(f(),w("img",{key:1,src:Y($),alt:"examine-icon"},null,8,X)):D("",!0),3===l.rowData.state?(f(),w("img",{key:2,src:Y(H),alt:"examine-icon"},null,8,Z)):D("",!0)])):D("",!0),c(n,null,{default:k((()=>[c(i,{key:"1",tab:"基本信息"})])),_:1}),x("div",ee,[c(r,{columns:R.value,pagination:!1,"data-source":S.value,loading:j.value,size:"small",bordered:"","row-key":"id",scroll:{x:"auto"}},null,8,["columns","data-source","loading"])]),c(o,{ref_key:"topFormRef",ref:q,model:U.value,"onUpdate:model":t[0]||(t[0]=e=>U.value=e),"form-list":N.value},null,8,["model","form-list"])])])),_:1},8,["visible","title"])}}},[["__scopeId","data-v-8fcf4fa8"]]),le={class:"check-inventory-records-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},ie=220,ne=M(Object.assign({name:"production-management_pp-requisition-record"},{__name:"index",setup(n){const r=o(null),s=o(null),p=o(!1),{height:v}=C(s),y=o([]),h=o({serialNum:null,state:null,shiftType:null,time:null}),b=o({});async function D(){const{data:e,error:t}=await U();t||(b.value=null==e?void 0:e.find((e=>e.id===Number(ie))),0===Number(b.value.hasFqa)&&(y.value=[{label:"待领班审核",value:0},{label:"待修改",value:1},{label:"待主管审核",value:2},{label:"审核完成",value:3}]),J())}const I=o({add:"pp-requisition-record:".concat(ie,":add"),del:"pp-requisition-record:".concat(ie,":del"),foremanAudit:"pp-requisition-record:".concat(ie,":foremanAudit"),supervisorAudit:"pp-requisition-record:".concat(ie,":supervisorAudit"),withdrawTrial:"pp-requisition-record:".concat(ie,":withdrawTrial"),update:"pp-requisition-record:".concat(ie,":update"),edit:"pp-requisition-record:".concat(ie,":edit")});N((()=>{D()}));const _=[{type:"select",key:"state",label:"审核状态",placeholder:"请选择审核状态",span:24,md:12,lg:8,xl:8,xxl:5,selectOptions:[{value:"0",label:"待领班审核"},{value:"1",label:"待修改"},{value:"2",label:"待主管审核"},{value:"3",label:"审核完成"}]},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6}],Q=o(null),M=u((()=>{var e,t;const a={...h.value};return(null==(t=null==(e=h.value)?void 0:e.time)?void 0:t[0])&&(a.startTime=d(h.value.time[0]).format("YYYY-MM-DD"),a.endTime=d(h.value.time[1]).format("YYYY-MM-DD")),delete a.time,a})),O=o([]),E=o([]),W=o(null);function V(e){O.value=e}function $(e){E.value=e}const H=o([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:60,align:"center",checked:!0,fixed:"left",ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"日期",width:120,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"operator",dataIndex:"operator",title:"制表人",width:100,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",width:120,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>["待领班审核","待修改","待主管审核","审核完成"][e.state]},{key:"foreman",dataIndex:"foreman",title:"领班审核",width:100,align:"center",checked:!0,ellipsis:!0},{key:"foremanTime",dataIndex:"foremanTime",title:"领班审核时间",width:160,align:"center",checked:!0,ellipsis:!0},{key:"examiner",dataIndex:"examiner",title:"主管审核",width:120,align:"center",checked:!0,ellipsis:!0},{key:"examinerTime",dataIndex:"examinerTime",title:"主管审核时间",width:180,align:"center",checked:!0,ellipsis:!0},{key:"createTime",dataIndex:"createTime",title:"创建时间",width:180,align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建人",width:120,align:"center",checked:!0,ellipsis:!0},{key:"updateTime",dataIndex:"updateTime",title:"修改时间",width:180,align:"center",checked:!0,ellipsis:!0},{key:"updateBy",dataIndex:"updateBy",title:"修改人",width:120,align:"center",checked:!0,ellipsis:!0}]);function J(){Q.value.getData()}function L(){j((()=>{h.value.serialNum=null,h.value.state=null,h.value.shiftType=null,h.value.time=null,J()}))}const G=o([]),K=o(null),X=o("");function Z(){X.value="edit",K.value={list:E.value,leftTableId:W.value.id,createDate:W.value.createDate,foreman:W.value.foreman,examiner:W.value.examiner,operator:W.value.operator},p.value=!0}function ee(){p.value=!1,Q.value.getData(),m.success("修改成功!")}function te(e){O.value.length||m.error("请选择要审核的数据!");const t={formId:220,list:O.value.map((e=>e.id)),state:e};window.$modal.confirm({title:"确定进行批量审核吗?",onOk:()=>{A("/qms/agv/Exporter/updateBatch",t).then((({data:e,error:t})=>{t||(m.success("批量审核成功!"),J(),Q.value.tableSelectChange([]))}))},onCancel:()=>{}})}function ne(){O.value.length?window.$modal.confirm({title:"确定进行批量删除吗?",onOk:()=>{F([...O.value]).then((({error:e})=>{e||(m.success("批量删除成功!"),s.value.formReset(),Q.value.tableSelectChange([]),G.value=[])}))},onCancel:()=>{}}):m.error("请选择要删除的数据!")}function re(){if(!O.value.length)return void m.error("请选择要撤审的数据!");const e={formId:220,id:O.value[0].id};window.$modal.confirm({title:"确定进行撤审吗?",onOk:()=>{B("/qms/agv/Exporter/Fallback",e).then((({error:e})=>{e||(m.success("撤审成功!"),J(),Q.value.tableSelectChange([]),Q.value.getData(),W.value&&(W.value.state=1))}))},onCancel:()=>{}})}const oe=o(null),se=o([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:50,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"ppSize",dataIndex:"ppSize",title:"PP规格",width:110,align:"center",checked:!0,ellipsis:!0},{key:"glueContent",dataIndex:"glueContent",title:"RC(%)",width:80,align:"center",checked:!0,ellipsis:!0},{key:"produceDate",dataIndex:"produceDate",title:"生产日期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>e.produceDate?d(e.produceDate).format("YYYY-MM-DD"):""},{key:"expirationDate",dataIndex:"expirationDate",title:"有效期",width:100,align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>e.expirationDate?d(e.expirationDate).format("YYYY-MM-DD"):""},{key:"dateInventory",dataIndex:"dateInventory",title:"当日工序库存(卷)",width:130,align:"center",checked:!0,ellipsis:!0},{key:"receiveQty",dataIndex:"receiveQty",title:"领用数量(卷)",width:120,align:"center",checked:!0,ellipsis:!0},{key:"useQty",dataIndex:"useQty",title:"使用数量(卷)",width:120,align:"center",checked:!0,ellipsis:!0},{key:"inventoryQty",dataIndex:"inventoryQty",title:"库存数量(卷)",width:120,align:"center",checked:!0,ellipsis:!0},{key:"remark",dataIndex:"remark",title:"备注",width:150,align:"center",checked:!0,ellipsis:!0}]),de=o({id:null});function ue(e){W.value=e,de.value.id=e.id,E.value=[],de.value.operator=e.operator,oe.value.getData()}function ce(e){e.length&&(Q.value.setCurrentRowId(e[0]),ue(e[0]))}const pe=()=>{p.value=!0,X.value="add"};function ve(){p.value=!1}function me(){p.value=!1,"add"===X.value?J():oe.value.getData()}return(n,o)=>{const d=i,u=l,m=T,y=a,b=t,D=z,C=e,N=q,j=P("hasAuth");return f(),w("div",le,[c(d,{ref_key:"commonSearchRef",ref:s,searchParams:h.value,"onUpdate:searchParams":o[0]||(o[0]=e=>h.value=e),"form-list":_,"is-search":!0,onSearch:J,onReset:L},null,8,["searchParams"]),x("div",{class:"table-content w-full",style:S({height:"calc(100% - ".concat(Y(v),"px)")})},[c(N,{gutter:8,class:"h-full"},{default:k((()=>[c(D,{span:8,class:"h-full"},{default:k((()=>[c(b,{ref_key:"tableRef",ref:Q,searchParams:M.value,"onUpdate:searchParams":o[3]||(o[3]=e=>M.value=e),class:"h-full",column:H.value,"show-row-selection":"","row-key":"id",scroll:{y:"auto"},"is-init-get-data":!0,url:"/qms/press/PPout/selectPPoutMainAjax",onTableSelectChange:V,onTableRowClick:ue,onTableDataLoadSucess:ce},{title:k((()=>[R((f(),g(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:pe},{icon:k((()=>[c(u,{class:"align-sub text-icon"})])),default:k((()=>[o[6]||(o[6]=x("span",{class:"ml-3px"},"新增",-1))])),_:1})),[[j,[I.value.add]]]),R((f(),g(m,{type:"primary",size:"small",danger:"",ghost:"",class:"mini-btn mr-8px",disabled:!O.value.length,onClick:ne},{icon:k((()=>[c(y,{class:"align-sub text-icon"})])),default:k((()=>[o[7]||(o[7]=x("span",{class:"ml-3px"},"删除",-1))])),_:1},8,["disabled"])),[[j,[I.value.del]]]),R((f(),g(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",disabled:!O.value.length,onClick:o[1]||(o[1]=e=>te(2))},{icon:k((()=>o[8]||(o[8]=[x("span",{class:"iconfont icon-shenhe",style:{"font-size":"14px"}},null,-1)]))),default:k((()=>[o[9]||(o[9]=x("span",{class:"ml-3px"},"领班审核",-1))])),_:1},8,["disabled"])),[[j,[I.value.foremanAudit]]]),R((f(),g(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",disabled:!O.value.length,onClick:o[2]||(o[2]=e=>te(3))},{icon:k((()=>o[10]||(o[10]=[x("span",{class:"iconfont icon-shenhe",style:{"font-size":"14px"}},null,-1)]))),default:k((()=>[o[11]||(o[11]=x("span",{class:"ml-3px"},"主管审核",-1))])),_:1},8,["disabled"])),[[j,[I.value.supervisorAudit]]]),R((f(),g(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",disabled:!O.value.length,onClick:re},{icon:k((()=>o[12]||(o[12]=[x("span",{class:"iconfont icon-cheshenanniu",style:{"font-size":"14px"}},null,-1)]))),default:k((()=>[o[13]||(o[13]=x("span",{class:"ml-3px"},"撤审",-1))])),_:1},8,["disabled"])),[[j,[I.value.withdrawTrial]]])])),_:1},8,["searchParams","column"])])),_:1}),c(D,{span:16,class:"h-full"},{default:k((()=>[c(b,{ref_key:"rightTableRef",ref:oe,searchParams:de.value,"onUpdate:searchParams":o[4]||(o[4]=e=>de.value=e),url:"/qms/press/PPout/selectPPoutData",class:"h-full","show-row-selection":"",column:se.value,"auto-generate-uuid":!0,"row-key":"tableUuid",scroll:{y:"auto"},"is-init-get-data":"","is-pagination":!1,onTableSelectChange:$},{title:k((()=>[R((f(),g(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",disabled:!E.value.length,onClick:Z},{icon:k((()=>[c(C,{class:"align-sub text-icon"})])),default:k((()=>[o[14]||(o[14]=x("span",{class:"ml-3px"},"修改",-1))])),_:1},8,["disabled"])),[[j,[I.value.update]]])])),_:1},8,["searchParams","column"])])),_:1})])),_:1}),c(ae,{ref_key:"ppAddUserRef",ref:r,visible:p.value,"onUpdate:visible":o[5]||(o[5]=e=>p.value=e),"operate-type":X.value,"row-data":K.value,onHandleAddModalClose:ve,onPostSuccess:me,onEditSuccess:ee},null,8,["visible","operate-type","row-data"])],4)])}}}),[["__scopeId","data-v-21bf9aaa"]]);export{ne as default};
