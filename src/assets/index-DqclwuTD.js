import{_ as e}from"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import{a as l}from"./index-DqnulfE2.js";import{d as t,K as a,L as i,o as n,c as s,w as d,g as c,f as o,s as r,t as u,I as h,v as m,N as p,M as x,O as k,B as f,P as g,Q as v,F as w,r as y,p as I,S as _,e as b}from"./index-B3PZsRwT.js";import{C as T}from"./index-BThgVJ70.js";const M={class:"w-full flex"},S={class:"flex"},U={class:"w-full flex-y-center justify-end gap-12px"},j={class:"ml-3px"},z={class:"ml-3px"},C=t({__name:"search",props:{model:{required:!0},modelModifiers:{}},emits:a(["search","reset"],["update:model"]),setup(e,{emit:l}){const t=l,a=i(e,"model");function y(){t("search",a.value)}function I(){a.value.lotId=null,a.value.model=null,t("reset",a.value)}return(e,l)=>{const t=h,i=m,_=p,b=x,C=k,N=f,R=g,X=v,Y=w,A=T;return n(),s(A,{title:null,bordered:!1,class:"search-card card-wrapper"},{default:d((()=>[c(Y,{model:a.value,"label-col":{span:5,md:7},class:"search-form"},{default:d((()=>[o("div",M,[c(X,{gutter:[15,8],wrap:"",class:"w-full"},{default:d((()=>[c(_,{span:24,md:12,lg:6,xl:8,xxl:6},{default:d((()=>[c(i,{label:"批卡号",name:"lotId",class:"m-0","label-col":{}},{default:d((()=>[c(t,{value:a.value.lotId,"onUpdate:value":l[0]||(l[0]=e=>a.value.lotId=e),placeholder:"请输入批卡号",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:r(y,["enter"])},null,8,["value"])])),_:1})])),_:1}),c(_,{span:24,md:12,lg:6,xl:8,xxl:6},{default:d((()=>[c(i,{label:"日期",name:"model",class:"m-0","label-col":{}},{default:d((()=>[c(b,{value:a.value.time,"onUpdate:value":l[1]||(l[1]=e=>a.value.time=e),"show-time":"",class:"min-form-control","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["value"])])),_:1})])),_:1}),o("div",S,[c(i,{class:"m-0"},{default:d((()=>[o("div",U,[c(N,{type:"primary",ghost:"",class:"mini-btn",onClick:y},{icon:d((()=>[c(C,{class:"align-sub text-icon"})])),default:d((()=>[o("span",j,u(e.$t("common.search")),1)])),_:1}),c(N,{class:"mini-btn",onClick:I},{icon:d((()=>[c(R,{class:"align-sub text-icon"})])),default:d((()=>[o("span",z,u(e.$t("common.reset")),1)])),_:1})])])),_:1})])])),_:1})])])),_:1},8,["model"])])),_:1})}}}),N={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},R=Object.assign({name:"issuance-management_press-fit_record"},{__name:"index",setup(t){const a=y({lotId:null,time:null}),i=I({current:1,pageSize:200,showSizeChanger:!0,pageSizeOptions:["50","100","200","300","500"],showQuickJumper:!0,showTotal:e=>"共".concat(e,"条"),total:0,onChange:async(e,l)=>{i.current=e,i.pageSize=l,h()}}),s=y([{key:"index",dataIndex:"index",title:"序号",width:70,align:"center",checked:!0},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",width:120,align:"center",checked:!0,ellipsis:!0},{key:"lotId",dataIndex:"lotId",title:"批卡号",width:120,align:"center",checked:!0,ellipsis:!0},{key:"machineNo",dataIndex:"machineNo",title:"机台号",width:120,align:"center",checked:!0,ellipsis:!0},{key:"sendResult",dataIndex:"sendResult",title:"下发状态",width:100,align:"center",checked:!0,ellipsis:!0},{key:"errorReason",dataIndex:"errorReason",title:"错误原因",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat1",dataIndex:"heat1",title:"1#溶接头目标温度",width:150,align:"center",checked:!0},{key:"heat2",dataIndex:"heat2",title:"2#溶接头目标温度",width:150,align:"center",checked:!0},{key:"heat3",dataIndex:"heat3",title:"3#溶接头目标温度",width:150,align:"center",checked:!0},{key:"heat4",dataIndex:"heat4",title:"4#溶接头目标温度",width:150,align:"center",checked:!0},{key:"heat5",dataIndex:"heat4",title:"5#溶接头目标温度",width:150,align:"center",checked:!0},{key:"heat6",dataIndex:"heat6",title:"6#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat7",dataIndex:"heat7",title:"7#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat8",dataIndex:"heat8",title:"8#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat9",dataIndex:"heat9",title:"9#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat10",dataIndex:"heat10",title:"10#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat11",dataIndex:"heat11",title:"11#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"heat12",dataIndex:"heat12",title:"12#溶接头目标温度",width:150,align:"center",checked:!0,ellipsis:!0},{key:"meltTime",dataIndex:"meltTime",title:"熔合时间",width:100,align:"center",checked:!0,ellipsis:!0},{key:"coolTime",dataIndex:"coolTime",title:"冷却时间",width:100,align:"center",checked:!0,ellipsis:!0},{key:"operator",dataIndex:"operator",title:"创建人",width:80,align:"center",checked:!0,ellipsis:!0},{key:"createTime",dataIndex:"createTime",title:"创建时间",width:150,align:"center",checked:!0,ellipsis:!0}]),o=y([]),r=y(!1),u=y([]);function h(){var e;r.value=!0,(null==(e=a.value.time)?void 0:e.length)>0?(a.value.startTime=a.value.time[0],a.value.endTime=a.value.time[1]):delete a.value.time,delete a.value.time,l("/mes/hotMeltXl/list",{pageSize:i.pageSize,pageNum:i.current,...a.value}).then((({data:e,error:l})=>{l||(e.list.forEach(((e,l)=>{e.index=l+1})),o.value=e.list,i.total=e.total)})).finally((()=>{r.value=!1}))}const m=y(null);function p(e){return{style:{background:e.hotMeltXlUuid===m.value?"#BAEAFA":""},onClick:()=>{m.value=e.hotMeltXlUuid},class:e.hotMeltXlUuid===m.value?"jl-table-row-selected":""}}function x(){i.current=1,h()}return h(),(l,t)=>{const h=e,m=_("STable"),k=T;return n(),b("div",N,[c(C,{model:a.value,"onUpdate:model":t[0]||(t[0]=e=>a.value=e),onReset:t[1]||(t[1]=e=>x()),onSearch:t[2]||(t[2]=e=>x())},null,8,["model"]),c(k,{bordered:!1,"body-style":{flex:1,overflow:"hidden"},class:"table-card flex-col-stretch sm:flex-1-hidden card-wrapper"},{title:d((()=>t[4]||(t[4]=[]))),extra:d((()=>[c(h,{columns:s.value,"onUpdate:columns":t[3]||(t[3]=e=>s.value=e)},null,8,["columns"])])),default:d((()=>[c(m,{columns:s.value,"data-source":o.value,size:"small","custom-row":p,bordered:"",loading:r.value,"default-expanded-row-keys":u.value,"row-key":"hotMeltXlUuid","default-expand-all-rows":!0,scroll:{x:"auto",y:"auto"},pagination:i,class:"h-full","row-height":23},null,8,["columns","data-source","loading","default-expanded-row-keys","pagination"])])),_:1})])}}});export{R as default};
