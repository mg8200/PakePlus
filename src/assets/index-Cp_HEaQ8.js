import{_ as e}from"./table-DoFSI9NT.js";import{_ as a}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{Z as t,r as n,g as l,dI as i,o as c,e as s,a5 as o}from"./index-B3PZsRwT.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const r={class:"device-setup-page jl-main-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},d=Object.assign({name:"manage_drilling-machine-configuration"},{__name:"index",setup(d){const m=n(null),h=n(null),u=n({machineNo:null,machineState:null}),p=[{type:"input",key:"machineNo",label:"机台号",placeholder:"请输入机台号",span:24,md:12,lg:5,xl:5,xxl:4},{type:"select",key:"machineState",label:"状态",placeholder:"请选择状态",span:24,clear:!1,md:12,lg:5,xl:5,xxl:4,clear:!0,selectOptions:[{label:"启用",value:"true"},{label:"禁用",value:"false"}],change(){f()}}],g=n([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"machineNo",dataIndex:"machineNo",title:"机台号",align:"center",width:300,checked:!0,ellipsis:!0},{key:"machineIp",dataIndex:"machineIp",title:"机台ip",width:350,align:"center",checked:!0,ellipsis:!0},{key:"machinePositionWait",dataIndex:"machinePositionWait",title:"待钻位坐标",width:350,align:"center",checked:!0,ellipsis:!0},{key:"machinePositionReady",dataIndex:"machinePositionReady",title:"已钻位坐标",width:350,align:"center",checked:!0,ellipsis:!0},{key:"machineState",dataIndex:"machineState",title:"状态",align:"center",checked:!0,ellipsis:!0,customRender:({record:e,index:a})=>(e.rowStatusChecked=1==e.machineState,l(i,{checked:e.rowStatusChecked,onChange:a=>{var n;null==(n=window.$modal)||n.confirm({title:"确认要".concat(a?"启用":"停用",'"机台号').concat(e.machineNo,'"吗？'),onOk:()=>{const n=a?"true":"false";(function(e,a){return t({url:"mes/jlagv/machine/woker/update",method:"post",data:{machineId:e,machineState:a}})})(e.machineId,n).then((({data:e,error:a})=>{var t;a||(null==(t=window.$message)||t.success("操作成功"),f())}))},onCancel:()=>{}})}},null))}]);function f(){h.value.getData()}function x(){o((()=>{u.value={machineNo:null},f()}))}return(t,n)=>{const i=a,o=e;return c(),s("div",r,[l(i,{ref_key:"commonSearchRef",ref:m,searchParams:u.value,"onUpdate:searchParams":n[0]||(n[0]=e=>u.value=e),"form-list":p,"is-search":!0,onSearch:f,onReset:x},null,8,["searchParams"]),l(o,{ref_key:"tableRef",ref:h,searchParams:u.value,"onUpdate:searchParams":n[1]||(n[1]=e=>u.value=e),column:g.value,"show-row-selection":!1,"auto-generate-uuid":"",scroll:{x:"auto",y:"auto"},"is-init-get-data":"","row-height":50,url:"/mes/jlagv/machine/woker/findAll"},null,8,["searchParams","column"])])}}});export{d as default};
