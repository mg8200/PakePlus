import{_ as e}from"./table-DoFSI9NT.js";import{_ as l}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{r as a,b as t,aa as s,o as n,e as i,g as r,a5 as c}from"./index-B3PZsRwT.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const d={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},m=Object.assign({name:"collection-management_electrical-fixture-testing"},{__name:"index",setup(m){const u=a(null),o=a({machineId:null,S0001:null,S0002:null,S0001:null,time:null}),p=[{type:"input",key:"machineId",label:"设备编码",placeholder:"请输入设备编码",span:24,md:12,lg:8,xl:8,xxl:4},{type:"input",key:"S0001",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:4},{type:"input",key:"S0002",label:"批次号",placeholder:"请输入批次号",span:24,md:12,lg:8,xl:8,xxl:4},{type:"dateRangePicker",key:"time",label:"时间",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],x=a(null),h=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"s0001",dataIndex:"s0001",title:"生产型号",align:"center",checked:!0,ellipsis:!0},{key:"s0002",dataIndex:"s0002",title:"批次号",align:"center",checked:!0,ellipsis:!0},{key:"s0003",dataIndex:"s0003",title:"二维码",align:"center",checked:!0,ellipsis:!0},{key:"s0004",dataIndex:"s0004",title:"测试结果",align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>"NG"===e.s0004?r("span",{class:"text-red-500"},[e.s0004]):r("span",{class:"text-green-500"},[e.s0004])},{key:"s0005",dataIndex:"s0005",title:"缺陷类型",align:"center",checked:!0,ellipsis:!0},{key:"s0006",dataIndex:"s0006",title:"导通阈值",align:"center",checked:!0,ellipsis:!0},{key:"s0007",dataIndex:"s0007",title:"绝缘阈值",align:"center",checked:!0,ellipsis:!0},{key:"s0008",dataIndex:"s0008",title:"绝缘电压",align:"center",checked:!0,ellipsis:!0},{key:"subEqpId",dataIndex:"subEqpId",title:"设备编码",align:"center",checked:!0,ellipsis:!0},{key:"dateTime",dataIndex:"dateTime",title:"检测日期",align:"center",checked:!0,ellipsis:!0}],k=t((()=>{var e,l;const a={...o.value};return(null==(l=null==(e=o.value)?void 0:e.time)?void 0:l[0])?(a.startTime=s(o.value.time[0]).format("YYYY-MM-DD HH:mm:ss"),a.endTime=s(o.value.time[1]).format("YYYY-MM-DD HH:mm:ss")):(a.startTime=null,a.endTime=null),delete a.time,a}));function g(){x.value.getData(1)}function y(){c((()=>{o.value.itemName=null,o.value.meshCount=null,g()}))}return(a,t)=>{const s=l,c=e;return n(),i("div",d,[r(s,{ref_key:"commonSearchRef",ref:u,searchParams:o.value,"onUpdate:searchParams":t[0]||(t[0]=e=>o.value=e),"form-list":p,"is-search":!0,onSearch:g,onReset:y},null,8,["searchParams"]),r(c,{ref_key:"tableRef",ref:x,searchParams:k.value,"onUpdate:searchParams":t[1]||(t[1]=e=>k.value=e),column:h,"show-row-selection":!1,"row-key":"id","auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",url:"/eap/mx320/findAll"},null,8,["searchParams"])])}}});export{m as default};
