import{r as a,a9 as i,b as l,o as e,e as n,g as s,w as t,f as o,h as c,aj as d,al as r,c as m,ac as p,t as v,B as h,ah as u,ai as f,cH as g,J as w}from"./index-B3PZsRwT.js";import{g as x,p as y}from"./api-By23aosn.js";import{C as k}from"./index-BThgVJ70.js";const B={class:"top"},F={class:"grinding-room-feed-drill-content"},M={class:"content flex gap-15px"},_={class:"data w-full pl-15px"},z={class:"data-item flex"},b={class:"value"},P={class:"data-item flex"},j={class:"value font-800"},E=w(Object.assign({name:"intelligent-iogistics_grinding-room-feed-drill"},{__name:"index",setup(w){const E=a([]),C=a(null),D=a(null),{width:H}=i(C);function $(){x("/mes/jlagv/machine/woker/selectDrillBit").then((({error:a,data:i})=>{if(!a){const a=(null==i?void 0:i.map((a=>({...a,loading:!1}))))||[];E.value=function(a){const i=[],l={};a.forEach((a=>{var i;(null==(i=l[a.machinePositions])?void 0:i.machinePositions)===a.machinePositions?l[a.machinePositions].list.push(a):l[a.machinePositions]={machinePositions:a.machinePositions,list:[a]}}));for(const e in l)i.push(l[e]);return i}(a),D.value=a[0].machinePositions}}))}$();const V=l((()=>({count:Math.floor(H.value/320),remainder:H.value%320})));const N=a(""),O=a(!1);function I(){window.$modal.confirm({title:"提示",content:"确定调用缓存位托盘吗？",onOk:()=>{O.value=!0,N.value="调用中...",x("/mes/jlagv/machine/woker/returnBitToElevator",{},1e6).then((({error:a})=>{a||(window.$message.success("操作成功"),$())})).finally((()=>{O.value=!1}))}})}function K(){window.$modal.confirm({title:"提示",content:"确定归还缓存位托盘吗？",onOk:()=>{O.value=!0,N.value="归还中...",x("/mes/jlagv/machine/woker/sendBitToElevator",{},1e6).then((({error:a})=>{a||(window.$message.success("操作成功"),$())})).finally((()=>{O.value=!1}))}})}return(a,i)=>{const l=h,w=k,x=u,H=f,L=g;return e(),n("div",{class:"grinding-room-feed-drill-page",ref_key:"contentRef",ref:C},[s(L,{tip:N.value,spinning:O.value,class:"w-full h-full"},{default:t((()=>[o("div",B,[s(l,{type:"primary",onClick:$,class:"mr-15px"},{default:t((()=>i[1]||(i[1]=[c("刷新")]))),_:1}),s(l,{type:"primary",onClick:I,class:"mr-15px"},{default:t((()=>i[2]||(i[2]=[c("研磨房调用缓存位托盘")]))),_:1}),s(l,{type:"primary",onClick:K},{default:t((()=>i[3]||(i[3]=[c("托盘送回到钻咀缓存位")]))),_:1})]),s(H,{activeKey:D.value,"onUpdate:activeKey":i[0]||(i[0]=a=>D.value=a),type:"card",class:"w-full my-tabs"},{default:t((()=>[(e(!0),n(d,null,r(E.value,(a=>(e(),m(x,{key:a.machinePositions,tab:"".concat(a.machinePositions,"期")},{default:t((()=>[o("div",F,[(e(!0),n(d,null,r(a.list,((a,r)=>(e(),n("div",{key:a.machineId,class:"content-item mb-8px",style:p({width:"".concat(100/V.value.count,"% "),paddingRight:(r+1)%V.value.count==0?0:" ".concat(V.value.remainder/4,"px")})},[s(w,{class:"w-320px"},{actions:t((()=>[s(l,{type:"primary",loading:a.loading,onClick:i=>function(a){window.$modal.confirm({title:"提示",content:()=>s(d,null,[c("确定将钻咀托运到机台号为"),s("span",{class:"color-blue font-bold"},[a.machineNo]),c("吗？")]),onOk:()=>{a.loading=!0,y("/mes/jlagv/machine/woker/sendDrillBit",{machineNo:a.machineNo}).then((({error:a})=>{a||(window.$message.success("操作成功"),$())})).finally((()=>{a.loading=!1}))}})}(a)},{default:t((()=>i[8]||(i[8]=[c("钻咀托运")]))),_:2},1032,["loading","onClick"])])),default:t((()=>[o("div",M,[i[7]||(i[7]=o("div",{class:"img"},[o("svg",{t:"1742888227633",class:"icon",viewBox:"0 0 1489 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10876",width:"80",height:"80"},[o("path",{d:"M1466.181818 834.094545H907.636364V209.454545h368.407272L1466.181818 512v322.094545z",fill:"#D1EBF2","p-id":"10877"}),o("path",{d:"M23.272727 23.272727h872.727273v810.821818H23.272727z",fill:"#FFFFFF","p-id":"10878"}),o("path",{d:"M1466.181818 861.090909H23.272727a23.272727 23.272727 0 0 1-23.272727-23.272727V23.272727a23.272727 23.272727 0 0 1 23.272727-23.272727h884.363637a23.272727 23.272727 0 0 1 23.272727 23.272727v162.909091h340.712727a23.272727 23.272727 0 0 1 19.316364 10.472727l194.56 294.167273a23.272727 23.272727 0 0 1 3.956363 12.8V837.818182a23.272727 23.272727 0 0 1-23.272727 23.272727zM46.545455 814.545455h1396.363636V510.603636L1259.054545 232.727273H907.636364a23.272727 23.272727 0 0 1-23.272728-23.272728V46.545455H46.545455z",fill:"#007FB7","p-id":"10879"}),o("path",{d:"M295.563636 322.327273l76.8 199.214545h-34.909091l-18.152727-49.803636h-84.014545l-18.152728 49.803636h-34.90909l76.334545-199.214545z m13.498182 122.647272l-31.418182-87.505454-31.650909 87.505454zM538.530909 335.36a76.101818 76.101818 0 0 1 26.763636 50.036364h-32.814545a46.545455 46.545455 0 0 0-17.92-28.625455 62.138182 62.138182 0 0 0-36.538182-9.541818 54.923636 54.923636 0 0 0-44.450909 18.850909 82.618182 82.618182 0 0 0-17.92 56.785455 81.454545 81.454545 0 0 0 16.058182 54.225454 67.025455 67.025455 0 0 0 53.527273 20.014546 109.614545 109.614545 0 0 0 26.763636-3.258182 88.901818 88.901818 0 0 0 21.410909-9.309091v-40.96h-52.596364v-27.927273h85.41091v84.247273a114.501818 114.501818 0 0 1-36.305455 18.850909 157.090909 157.090909 0 0 1-48.407273 6.749091 93.090909 93.090909 0 0 1-73.774545-30.021818 106.123636 106.123636 0 0 1-24.669091-72.610909A109.614545 109.614545 0 0 1 407.738182 349.090909a86.341818 86.341818 0 0 1 69.818182-30.72 96.814545 96.814545 0 0 1 60.974545 16.989091zM619.985455 322.327273l54.690909 162.909091 54.690909-162.909091h36.305454l-69.818182 199.214545h-40.494545l-70.981818-199.214545z",fill:"#007FB7","p-id":"10880"}),o("path",{d:"M325.818182 837.818182m-162.909091 0a162.909091 162.909091 0 1 0 325.818182 0 162.909091 162.909091 0 1 0-325.818182 0Z",fill:"#D1EBF2","p-id":"10881"}),o("path",{d:"M325.818182 1024a186.181818 186.181818 0 1 1 186.181818-186.181818 186.181818 186.181818 0 0 1-186.181818 186.181818z m0-325.818182a139.636364 139.636364 0 1 0 139.636363 139.636364 139.636364 139.636364 0 0 0-139.636363-139.636364z",fill:"#007FB7","p-id":"10882"}),o("path",{d:"M1186.909091 837.818182m-162.909091 0a162.909091 162.909091 0 1 0 325.818182 0 162.909091 162.909091 0 1 0-325.818182 0Z",fill:"#D1EBF2","p-id":"10883"}),o("path",{d:"M1186.909091 1024a186.181818 186.181818 0 1 1 186.181818-186.181818 186.181818 186.181818 0 0 1-186.181818 186.181818z m0-325.818182a139.636364 139.636364 0 1 0 139.636364 139.636364 139.636364 139.636364 0 0 0-139.636364-139.636364z",fill:"#007FB7","p-id":"10884"}),o("path",{d:"M896 174.545455v674.90909",fill:"#D1EBF2","p-id":"10885"}),o("path",{d:"M896 861.090909a11.636364 11.636364 0 0 1-11.636364-11.636364v-674.90909a11.636364 11.636364 0 0 1 23.272728 0v674.90909a11.636364 11.636364 0 0 1-11.636364 11.636364z",fill:"#007FB7","p-id":"10886"})])],-1)),o("div",_,[o("div",z,[i[4]||(i[4]=o("div",{class:"label w-60px"},"机台编号",-1)),o("div",b,v(a.machineNo),1)]),o("div",P,[i[5]||(i[5]=o("div",{class:"label w-60px"},"区　　域",-1)),o("div",j,v(a.machineIp),1)]),i[6]||(i[6]=o("div",{class:"data-item flex"},[o("div",{class:"label w-60px"},"当前状态"),o("div",{class:"value color-green font-800"},"正常")],-1))])])])),_:2},1024)],4)))),128))])])),_:2},1032,["tab"])))),128))])),_:1},8,["activeKey"])])),_:1},8,["tip","spinning"])],512)}}}),[["__scopeId","data-v-8e6a7869"]]);export{E as default};
