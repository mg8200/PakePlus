import{_ as e}from"./modal.vue_vue_type_style_index_0_lang-Gjmj9w7c.js";import{_ as t}from"./pdf-viewer-DuGSG8WR.js";import{d as a,K as i,L as l,b as r,o as s,c as n,w as u,e as p,a6 as o,Z as f,ag as d}from"./index-B3PZsRwT.js";const m=["src"],c=a({__name:"file-viwer",props:i({url:{},title:{default:"文件预览"},height:{default:"80vh"},width:{default:"1200px"},type:{default:null},pdfUseIframe:{type:Boolean,default:!1}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(a){const i=l(a,"visible"),f=a,d=["jpg","jpeg","png","gif","bmp","webp"],c=r((()=>{var e,t;return f.type?null==(e=f.type)?void 0:e.toLowerCase():null==(t=f.url.split(".").pop())?void 0:t.toLowerCase()}));return(a,l)=>{const r=t,f=e;return s(),n(f,{visible:i.value,"onUpdate:visible":l[0]||(l[0]=e=>i.value=e),title:a.title,height:a.height,width:a.width,"destroy-on-close":"","show-confirm-btn":!1,"cancel-btn-text":"关闭","modal-warp-style":{padding:"0"}},{default:u((()=>["pdf"===c.value?(s(),n(r,{key:0,url:a.url,"use-iframe":a.pdfUseIframe},null,8,["url","use-iframe"])):d.includes(c.value)?(s(),p("img",{key:1,src:a.url,alt:"",class:"h-full w-full"},null,8,m)):o("",!0)])),_:1},8,["visible","title","height","width"])}}});function v(e){return f({url:"/rcerp/erpMiFile/getLaminationByProdNo",params:e})}function g(e){return d({url:"/rcerp/erpMiFile/downMiFile",params:e,fileName:e.fileName})}function h(e){return f({url:"/erpsyncmes/Mi/findMiData2Title",params:e})}function y(e,t){return d({url:"/erpsyncmes/mi/print/getPdf",params:e,fileName:"".concat(t,"工程指示数据.pdf")})}function w(e,t){return d({url:"/erpsyncmes/mi/print/getMiPdf",params:e,fileName:"".concat(t,"MI数据.pdf")})}export{c as _,v as a,w as b,g as d,h as g,y as p};
