import{g as e,d as a,_ as t,a as l,p as i,b as n}from"./engineering-data-inquiry-BIeYOUOZ.js";import{_ as c}from"./table-DoFSI9NT.js";import{r as s,b as d,o as r,e as o,f as u,g as p,w as h,a1 as m,a3 as f,bh as k,a5 as g,c as v,aa as y,h as w,aj as x,_ as I,cF as _,i as b,a9 as D,p as N,V as P,al as R,t as M,cs as C,ac as T,ad as S,ae as F,B as Y,N as j,ah as B,ai as E,Q,J as H}from"./index-B3PZsRwT.js";import{_ as U}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{u as A}from"./resetTableRef-DZjcvemm.js";import{I as K}from"./index-I_sO5Oju.js";import{C as z}from"./index-BThgVJ70.js";import"./modal.vue_vue_type_style_index_0_lang-Gjmj9w7c.js";import"./pdf-viewer-DuGSG8WR.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./isNumber-v5vW-SxR.js";import"./SwapOutlined-WSjUvGaB.js";const L={class:"h-full w-full"},O={class:"h-49.5%"},q={__name:"engineering-instruction",setup(a,{expose:t}){const l=s(null),i=s({prodId:null,techId:null}),n=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"miName",dataIndex:"miName",title:"项目名称",align:"center",checked:!0,ellipsis:!0,width:130},{key:"miData",dataIndex:"miData",title:"数据项",align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"编写",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"编写日期",align:"center",checked:!0,ellipsis:!0,width:160},{key:"updateDate",dataIndex:"updateDate",title:"最后修改日期",align:"center",checked:!0,ellipsis:!0,width:160}],v=s(null),y=s([]);const w=d((()=>y.value.length?"mb-1% h-49.5%":"h-full"));return t({getData:function(a){i.value=a,g((()=>{l.value.getData(1),v.value.getData(1),e({techId:a.techId}).then((({data:e,error:a})=>{if(!a&&e.length){const a=e.map((e=>({key:e.fieldName,dataIndex:e.fieldName,title:e.caption,align:"center",checked:!0,ellipsis:!0,width:130})));y.value=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},...a]}else y.value=[]}))}))}}),(e,a)=>{const t=c;return r(),o("div",L,[u("div",{class:m(w.value)},[p(t,{ref_key:"topTableRef",ref:l,searchParams:i.value,"onUpdate:searchParams":a[0]||(a[0]=e=>i.value=e),class:"h-full",column:n,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/erpsyncmes/Mi/findMiData","auto-generate-uuid":!0,"is-pagination":!1},{title:h((()=>a[2]||(a[2]=[u("span",{class:"color-#646cff"},"工程指示",-1)]))),_:1},8,["searchParams"])],2),f(u("div",O,[p(t,{ref_key:"bottomTableRef",ref:v,searchParams:i.value,"onUpdate:searchParams":a[1]||(a[1]=e=>i.value=e),class:"h-full",column:y.value,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/erpsyncmes/Mi/findMiData2","auto-generate-uuid":!0,"is-pagination":!1},{title:h((()=>a[3]||(a[3]=[u("span",{class:"color-#646cff"},"工程数据",-1)]))),_:1},8,["searchParams","column"])],512),[[k,y.value.length]])])}}},J={__name:"production-tools",setup(e,{expose:a}){const t=s(null),l=s({}),i=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"toolsMouldName",dataIndex:"toolsMouldName",title:"项目名称",align:"center",checked:!0,ellipsis:!0,width:130},{key:"toolsData",dataIndex:"toolsData",title:"数据项",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.createDate).format("YYYY-MM-DD HH:mm:ss")},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.updateDate).format("YYYY-MM-DD HH:mm:ss")}];return a({getData:function(e){l.value=e,g((()=>{t.value.getData()}))}}),(e,a)=>{const n=c;return r(),v(n,{ref_key:"tableRef",ref:t,searchParams:l.value,"onUpdate:searchParams":a[0]||(a[0]=e=>l.value=e),class:"h-full",column:i,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/erpsyncmes/mi/tools/mould/list","auto-generate-uuid":!0,"is-pagination":!1},{title:h((()=>a[1]||(a[1]=[u("span",{class:"color-#646cff"},"生产工具",-1)]))),_:1},8,["searchParams"])}}},G={__name:"process-engineering-document",setup(e,{expose:a}){const t=s(null),l=s({techId:null}),i=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"fileMouldName",dataIndex:"fileMouldName",title:"项目名称",align:"center",checked:!0,ellipsis:!0,width:130},{key:"fileName",dataIndex:"fileName",title:"文件名",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.createDate).format("YYYY-MM-DD HH:mm:ss")},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.updateDate).format("YYYY-MM-DD HH:mm:ss")}];return a({getData:function(e){l.value=e,g((()=>{t.value.getData()}))}}),(e,a)=>{const n=c;return r(),v(n,{ref_key:"tableRef",ref:t,searchParams:l.value,"onUpdate:searchParams":a[0]||(a[0]=e=>l.value=e),class:"h-full",column:i,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/erpsyncmes/mi/file/mould/list","is-pagination":!1,"auto-generate-uuid":!0},{title:h((()=>a[1]||(a[1]=[u("span",{class:"color-#646cff"},"工艺工程文件",-1)]))),_:1},8,["searchParams"])}}},V=["onClick"],W=["onClick"],X={__name:"engineering-document",setup(e,{expose:l}){const i="localhost"===window.location.hostname,n=s(null),d=s({prodNo:null}),m=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"fileName",dataIndex:"fileName",title:"文件名",align:"center",checked:!0,ellipsis:!0,customRender:({record:e})=>p("span",{class:"cursor-pointer color-blue",onClick:()=>v({record:e})},[e.fileName])},{key:"fileSizeKb",dataIndex:"fileSizeKb",title:"文件大小",align:"center",checked:!0,ellipsis:!0,width:130,customRender:({record:e})=>"".concat(e.fileSizeKb,"KB")},{key:"fileModifiedTime",dataIndex:"fileModifiedTime",title:"更改时间",align:"center",checked:!0,ellipsis:!0,width:160}];const f=s(!1),k=s(null);function v(e){f.value=!0,k.value="".concat(i?"http://192.168.166.169:9999/prod-api/":"/prod-api/","rcerp/erpMiFile/downMiFile?prodNo=").concat(e.record.prodNo,"&fileName=").concat(e.record.fileName),e.hidePopup()}return l({getData:function(e){d.value=e,g((()=>{n.value.getData()}))}}),(e,l)=>{const i=I,s=c,g=t;return r(),o(x,null,[p(s,{ref_key:"tableRef",ref:n,searchParams:d.value,"onUpdate:searchParams":l[0]||(l[0]=e=>d.value=e),class:"h-full",column:m,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/rcerp/erpMiFile/getMiFileList","auto-generate-uuid":!0,"is-pagination":!1,onTableRowDblclick:l[1]||(l[1]=e=>v({record:e}))},{title:h((()=>l[3]||(l[3]=[u("span",{class:"color-#646cff"},"工程文件",-1)]))),"contextmenuPopup-orter":h((({args:e})=>[u("li",{class:"popup-item",onClick:t=>{return a({prodNo:(l=e).record.prodNo,fileName:l.record.fileName}),void l.hidePopup();var l}},[p(i,{"local-icon":"download",class:"text-16px"}),l[4]||(l[4]=w(" 下载 "))],8,V),u("li",{class:"popup-item",onClick:a=>v(e)},[p(i,{"local-icon":"preview",class:"text-16px"}),l[5]||(l[5]=w(" 预览 "))],8,W)])),_:1},8,["searchParams"]),p(g,{visible:f.value,"onUpdate:visible":l[2]||(l[2]=e=>f.value=e),url:k.value,"pdf-use-iframe":""},null,8,["visible","url"])],64)}}},Z={class:"h-full w-full flex-center"},$={__name:"engineering-drawing",setup(e,{expose:a}){const t=_.PRESENTED_IMAGE_SIMPLE,i=s(null),n="localhost"===window.location.hostname;return a({getData:function(e){l(e).then((({data:e,error:a})=>{a||(e.image?i.value="".concat(n?"http://192.168.166.166/prod-api/":"/prod-api/").concat(e.image):i.value=null)}))}}),(e,a)=>{const l=K,n=_;return r(),o("div",Z,[i.value?(r(),v(l,{key:0,src:i.value},null,8,["src"])):(r(),v(n,{key:1,image:b(t),description:"暂无工程图纸"},null,8,["image"]))])}}},ee={class:"min-h-500px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},ae={class:"p-8px"},te=["onClick"],le=["onClick"],ie={class:"module-no-info flex"},ne={class:"content"},ce={class:"data"},se={class:"module-no-info flex"},de={class:"content"},re={class:"data"},oe={class:"module-no-info flex"},ue={class:"content"},pe={class:"data"},he={class:"module-no-info flex"},me={class:"content"},fe={class:"data"},ke={class:"module-no-info flex"},ge={class:"content"},ve={class:"data"},ye={class:"module-no-info flex"},we={class:"content"},xe={class:"data"},Ie=["innerHTML"],_e=["onClick"],be=["onClick"],De=H(Object.assign({name:"engineering-manage_engineering-data-inquiry"},{__name:"index",setup(e){const a=s(null),[l,d]=A({moduleNo:null,moduleNoState:"8"}),{height:m}=D(a),f={0:"编写",1:"更改",2:"待处理",3:"编写中",4:"暂停",5:"已回退",6:"反审核",7:"审核中",8:"已上网",9:"完成",10:"取消",11:"外部ECN",12:"外部ECN待处理",13:"内部ECN",19:"样板转生产",20:"ENC更改",25:"报废",27:"申请",28:"入库",29:"发放",34:"归还",35:"接收",36:"审核",37:"确认",100:"PPC审核"},k=s(null),g=[{type:"input",key:"moduleNo",label:"生产型号",span:24,md:12,lg:8,xl:8,xxl:4,placeholder:"请输入生产型号",showTime:!0},{type:"select",key:"moduleNoState",label:"状态",placeholder:"请选择状态",span:24,md:12,lg:8,xl:8,xxl:4,selectOptions:H()}];function _(e){let a=Number(e);switch(140917104644e4===a||160913164544e4===a?a=2:140917104654e4===a||140919111754e4===a?a=3:161013095348e4!==a&&140919111738e4!==a||(a=4),Number(a)){case-1:return"#FF0000";case 0:return"#0080FF";case 1:return"#FFA500";case 2:return"#FF8000";case 3:return"#B15BFF";case 4:return"#73BF00";case 5:return"#8E8E8E";case 6:return"#BEBEBE";case 7:return"#FF0000";case 8:return"#4682B4";case 9:return"#0000FF";case 10:return"#007500";default:return"#0000FF"}}function H(){return Object.entries(f).map((([e,a])=>8===e?{label:"已上网",value:e}:{label:a,value:e}))}const K=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,customFilterDropdown:!0,width:130,onFilter:(e,a)=>{let t=Number(a.state);return 140917104644e4===t||160913164544e4===t?t=2:140917104654e4===t||140919111754e4===t?t=3:161013095348e4!==t&&140919111738e4!==t||(t=4),!e||Number(e)===Number(t)},customRender:({record:e})=>{let a=Number(e.state);return 140917104644e4===a||160913164544e4===a?a=2:140917104654e4===a||140919111754e4===a?a=3:161013095348e4!==a&&140919111738e4!==a||(a=4),8===a?p("div",{class:"h-full w-full",title:"已上网",style:{color:_(e.state)}},[w("已上网")]):p("div",{class:"h-full w-full",title:f[a]||"",style:{color:_(e.state)}},[f[a]||""])}},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>p("span",{class:"fonw-800 color-#646cff"},[e.moduleNo])},{key:"pnType",dataIndex:"pnType",title:"类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodType",dataIndex:"prodType",title:"产品类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"surfTrea1",dataIndex:"surfTrea1",title:"表面处理1",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peType",dataIndex:"peType",title:"板类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peDifficulty",dataIndex:"peDifficulty",title:"开发等级",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peState",dataIndex:"peState",title:"生产稿状态",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peSpecial",dataIndex:"peSpecial",title:"特殊周期",align:"center",checked:!0,ellipsis:!0,width:130},{key:"pemark",dataIndex:"pemark",title:"水印",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peRemark",dataIndex:"peRemark",title:"工程备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"targetName",dataIndex:"targetName",title:"终端客户",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custNo",dataIndex:"custNo",title:"客户编码",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNo",dataIndex:"custProdNo",title:"客户型号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNoAdd",dataIndex:"custProdNoAdd",title:"物料号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peActive",dataIndex:"peActive",title:"PE状态",align:"center",checked:!0,ellipsis:!0,width:130,customRender:({record:e})=>e.peactive?"有效":"过期"},{key:"activeRemark",dataIndex:"activeRemark",title:"操作备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"mktActive",dataIndex:"mktActive",title:"MIKT投产",align:"center",checked:!0,ellipsis:!0,width:130,customRender:({record:e})=>e.mktactive?"是":"否"},{key:"weight",dataIndex:"weight",title:"单重",align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.createDate).format("YYYY-MM-DD HH:mm:ss")},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:({record:e})=>y(e.updateDate).format("YYYY-MM-DD HH:mm:ss")}],L=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,width:130,customRender:({record:e})=>{let a=Number(e.state);return 140917104644e4===a||160913164544e4===a?a=2:140917104654e4===a||140919111754e4===a?a=3:161013095348e4!==a&&140919111738e4!==a||(a=4),8===a?p("div",{class:"h-full w-full",title:"已上网",style:{color:_(e.state)}},[w("已上网")]):p("div",{class:"h-full w-full",title:f[a]||"",style:{color:_(e.state)}},[f[a]||""])}},{key:"techName",dataIndex:"techName",title:"工艺名称",align:"center",checked:!0,ellipsis:!0,width:130},{key:"repeatCount",dataIndex:"repeatCount",title:"工步",align:"center",checked:!0,ellipsis:!0,width:130},{key:"wipPnlQty",dataIndex:"wipPnlQty",title:"PNL结存",align:"center",checked:!0,ellipsis:!0,width:130},{key:"wipSetQty",dataIndex:"wipSetQty",title:"SET结存",align:"center",checked:!0,ellipsis:!0,width:130},{key:"wipScrapSet",dataIndex:"wipScrapSet",title:"含废SET",align:"center",checked:!0,ellipsis:!0,width:130},{key:"wipscrapPcs",dataIndex:"wipscrapPcs",title:"含废PCS",align:"center",checked:!0,ellipsis:!0,width:130},{key:"waitQty",dataIndex:"waitQty",title:"待产数量",align:"center",checked:!0,ellipsis:!0,width:130},{key:"workQty",dataIndex:"workQty",title:"在产数量",align:"center",checked:!0,ellipsis:!0,width:130},{key:"finishQty",dataIndex:"finishQty",title:"完成数量",align:"center",checked:!0,ellipsis:!0,width:130},{key:"applyScrapQty",dataIndex:"applyScrapQty",title:"报废申请",align:"center",checked:!0,ellipsis:!0,width:130},{key:"applyReworkQty",dataIndex:"applyReworkQty",title:"重工申请",align:"center",checked:!0,ellipsis:!0,width:130},{key:"assitQty",dataIndex:"assitQty",title:"外发数量",align:"center",checked:!0,ellipsis:!0,width:130},{key:"delayDate",dataIndex:"delayDate",title:"结存小时",align:"center",checked:!0,ellipsis:!0,width:130}],O=N({searchText:"",searchedColumn:""}),V=s(null),W=s("工艺备注"),Z=s(null),De=s({prodId:null}),Ne=s("1"),Pe=s({}),Re=s(null),Me=s(null),Ce=s(null),Te=s(null),Se=s(null);function Fe(){k.value.getData(1)}function Ye(){d(),Fe()}function je(e){return e.peactive&&0==e.issActive&&0==e.lotActive?{class:"red"}:{}}function Be(e){(null==e?void 0:e.length)&&(k.value.setCurrentRowId(e[0]),Ee(e[0]))}function Ee(e){Pe.value=e,De.value.prodId=e.prodId,W.value="工艺备注",Z.value.getData(1),Me.value.getData({prodNo:Pe.value.moduleNo})}function Qe(e){var a;W.value=null==(a=null==e?void 0:e.remark)?void 0:a.replace(/\n/g,"<br>"),Re.value.getData({prodId:De.value.prodId,techId:e.techId}),Se.value.getData({techId:e.techId}),Te.value.getData({techId:e.techId}),Ce.value.getData({prodNo:Pe.value.moduleNo,techId:e.techId})}function He(e){(null==e?void 0:e.length)&&(Z.value.setCurrentRowId(e[0]),Qe(e[0]))}const Ue="localhost"===window.location.hostname,Ae=s(!1),Ke=s(null),ze=s(null);return(e,s)=>{const d=U,f=S,y=F,_=Y,D=I,N=c,A=z,Le=j,Oe=B,qe=E,Je=Q,Ge=t;return r(),o("div",ee,[p(d,{ref_key:"commonSearchRef",ref:a,searchParams:b(l),"onUpdate:searchParams":s[0]||(s[0]=e=>P(l)?l.value=e:null),"form-list":g,onSearch:Fe,onReset:Ye},null,8,["searchParams"]),p(Je,{gutter:8,class:"h-full w-full",style:T({height:"calc(100% - ".concat(b(m),"px)")})},{default:h((()=>[p(Le,{span:6,class:"h-full min-h-500px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},{default:h((()=>[p(N,{ref_key:"tableRef",ref:k,searchParams:b(l),"onUpdate:searchParams":s[1]||(s[1]=e=>P(l)?l.value=e:null),column:K,"show-row-selection":!1,"row-key":"prodId",scroll:{y:"auto"},"is-init-get-data":"",url:"/erpsyncmes/Mi/findModuleNo","auto-generate-uuid":!1,class:"h-full","table-custom-cell":je,"show-quick-jumper":!1,"default-expand-all-rows":!0,onTableRowClick:Ee,onTableDataLoadSucess:Be},{title:h((()=>s[5]||(s[5]=[u("span",{class:"color-#646cff"},"生产型号",-1)]))),filterDropdown:h((({setSelectedKeys:e,selectedKeys:a,confirm:t,clearFilters:l,column:i})=>[u("div",ae,[p(y,{ref_key:"selectRef",ref:V,class:"mb-8px block w-188px",placeholder:"请选择状态","show-search":"",value:a[0],"allow-clear":"",onChange:a=>{e([a])}},{default:h((()=>[(r(!0),o(x,null,R(H(),(e=>(r(),v(f,{key:e.value,value:e.value},{default:h((()=>[w(M(e.label),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["value","onChange"]),p(_,{type:"primary",size:"small",class:"mr-8px w-90px",onClick:e=>((e,a,t)=>{a(),O.searchText=e[0],O.searchedColumn=t})(a,t,i.dataIndex)},{icon:h((()=>[p(b(C))])),default:h((()=>[s[6]||(s[6]=w(" 搜索 "))])),_:2},1032,["onClick"]),p(_,{size:"small",class:"w-90px",onClick:e=>(e=>{e(),O.searchText=""})(l)},{default:h((()=>s[7]||(s[7]=[w("重置")]))),_:2},1032,["onClick"])])])),"contextmenuPopup-orter":h((({args:e})=>[u("li",{class:"popup-item",onClick:a=>{return t=e,n({prodId:Pe.value.prodId},t.record.moduleNo),void t.hidePopup();var t}},[p(D,{"local-icon":"download",class:"text-16px"}),s[8]||(s[8]=w(" 下载 "))],8,te),u("li",{class:"popup-item",onClick:a=>{return t=e,Ae.value=!0,ze.value="".concat(Pe.value.moduleNo,"MI文件.pdf 预览"),Ke.value="".concat(Ue?"http://192.168.166.169:9999/prod-api/":"/prod-api/","erpsyncmes/mi/print/getMiPdf?prodId=").concat(Pe.value.prodId),void t.hidePopup();var t}},[p(D,{"local-icon":"preview",class:"text-16px"}),s[9]||(s[9]=w(" 预览 "))],8,le)])),_:1},8,["searchParams"]),p(A,{class:"min-h-60px","body-style":{padding:"15px",paddingBottom:"25px"}},{default:h((()=>[u("div",ie,[s[11]||(s[11]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-kehuxinghao"})])],-1)),u("div",ne,[s[10]||(s[10]=u("div",{class:"label"},"终端客户型号",-1)),u("div",ce,M(Pe.value.targetProdNo),1)])]),u("div",se,[s[13]||(s[13]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-kehubianma"})])],-1)),u("div",de,[s[12]||(s[12]=u("div",{class:"label"},"客户型号",-1)),u("div",re,M(Pe.value.custProdNo),1)])]),u("div",oe,[s[15]||(s[15]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-pnlshuliang"})])],-1)),u("div",ue,[s[14]||(s[14]=u("div",{class:"label"},"产品类型",-1)),u("div",pe,M(Pe.value.prodType),1)])]),u("div",he,[s[17]||(s[17]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-kaifadengji"})])],-1)),u("div",me,[s[16]||(s[16]=u("div",{class:"label"},"开发等级",-1)),u("div",fe,M(Pe.value.peDifficulty),1)])]),u("div",ke,[s[19]||(s[19]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-shengchanxinghao"})])],-1)),u("div",ge,[s[18]||(s[18]=u("div",{class:"label"},"板上型号",-1)),u("div",ve,M(Pe.value.peTab),1)])]),u("div",ye,[s[21]||(s[21]=u("div",{class:"icon"},[u("div",{class:"icon-warp"},[u("span",{class:"iconfont icon-kehumingcheng"})])],-1)),u("div",we,[s[20]||(s[20]=u("div",{class:"label"},"板子特性",-1)),u("div",xe,M(Pe.value.features),1)])])])),_:1})])),_:1}),p(Le,{span:9,class:"h-full"},{default:h((()=>[p(N,{ref_key:"centerTableRef",ref:Z,searchParams:De.value,"onUpdate:searchParams":s[2]||(s[2]=e=>De.value=e),column:L,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/erpsyncmes/Mi/findPubtechnology","auto-generate-uuid":!0,"is-pagination":!1,class:"h-full","table-custom-cell":je,onTableRowClick:Qe,onTableDataLoadSucess:He},{title:h((()=>s[22]||(s[22]=[u("span",{class:"color-#646cff"},"制作流程",-1)]))),footer:h((()=>[u("div",{class:"footer-content h-170px overflow-auto p-b-30px text-12px",innerHTML:W.value},null,8,Ie)])),"contextmenuPopup-orter":h((({args:e})=>[u("li",{class:"popup-item",onClick:a=>{return t=e,i({prodId:Pe.value.prodId,techId:t.record.techId},"".concat(Pe.value.moduleNo,"-").concat(t.record.techName)),void t.hidePopup();var t}},[p(D,{"local-icon":"download",class:"text-16px"}),s[23]||(s[23]=w(" 下载 "))],8,_e),u("li",{class:"popup-item",onClick:a=>{return t=e,Ae.value=!0,ze.value="".concat(Pe.value.moduleNo,"-").concat(t.record.techName,"工程指示数据.pdf 预览"),Ke.value="".concat(Ue?"http://192.168.166.169:9999/prod-api/":"/prod-api/","erpsyncmes/mi/print/getPdf?prodId=").concat(Pe.value.prodId,"&techId=").concat(t.record.techId),void t.hidePopup();var t}},[p(D,{"local-icon":"preview",class:"text-16px"}),s[24]||(s[24]=w(" 预览 "))],8,be)])),_:1},8,["searchParams"])])),_:1}),p(Le,{span:9,class:"right-table h-full"},{default:h((()=>[p(qe,{activeKey:Ne.value,"onUpdate:activeKey":s[3]||(s[3]=e=>Ne.value=e),type:"card",class:"my-tabs h-full"},{default:h((()=>[p(Oe,{key:"1","force-render":""},{tab:h((()=>s[25]||(s[25]=[u("span",null,[u("span",{class:"iconfont icon-gongchengzhishi"}),w(" 工程指示 ")],-1)]))),default:h((()=>[p(q,{ref_key:"engineeringInstructionTableRef",ref:Re},null,512)])),_:1}),p(Oe,{key:"2","force-render":""},{tab:h((()=>s[26]||(s[26]=[u("span",null,[u("span",{class:"iconfont icon-shengchangongju"}),w(" 生产工具 ")],-1)]))),default:h((()=>[p(J,{ref_key:"productionToolsRef",ref:Se},null,512)])),_:1}),p(Oe,{key:"3","force-render":""},{tab:h((()=>s[27]||(s[27]=[u("span",null,[u("span",{class:"iconfont icon-gongyiwenjian"}),w(" 工艺工程文件 ")],-1)]))),default:h((()=>[p(G,{ref_key:"processEngineeringDocumentRef",ref:Te},null,512)])),_:1}),p(Oe,{key:"4","force-render":""},{tab:h((()=>s[28]||(s[28]=[u("span",null,[u("span",{class:"iconfont icon-gongchengwenjian"}),w(" 工程文件 ")],-1)]))),default:h((()=>[p(X,{ref_key:"engineeringDocumentRef",ref:Me},null,512)])),_:1}),p(Oe,{key:"5","force-render":""},{tab:h((()=>s[29]||(s[29]=[u("span",null,[u("span",{class:"iconfont icon-gongchengtuzhi"}),w(" 工程图纸 ")],-1)]))),default:h((()=>[p($,{ref_key:"engineeringDrawingRef",ref:Ce},null,512)])),_:1})])),_:1},8,["activeKey"])])),_:1})])),_:1},8,["style"]),p(Ge,{visible:Ae.value,"onUpdate:visible":s[4]||(s[4]=e=>Ae.value=e),url:Ke.value,type:"pdf","pdf-use-iframe":"",title:ze.value},null,8,["visible","url","title"])])}}}),[["__scopeId","data-v-67b0d031"]]);export{De as default};
