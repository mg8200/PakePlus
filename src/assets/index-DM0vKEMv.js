import{_ as e}from"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import{d as l,K as a,L as t,o,c as s,w as n,g as c,f as d,s as i,t as r,aa as u,I as m,v as p,N as f,M as v,O as x,B as y,P as h,Q as g,F as N,r as w,p as k,h as _,e as b}from"./index-B3PZsRwT.js";import{g as Y}from"./api-By23aosn.js";import{C as z}from"./index-BThgVJ70.js";import{_ as M}from"./index-Cn-BWYp5.js";import"./fromPairs-BI-MgVCs.js";const D={class:"w-full flex"},I={class:"flex"},O={class:"w-full flex-y-center justify-end gap-12px"},S={class:"ml-3px;"},j={class:"ml-3px"},U=l({__name:"search",props:{model:{required:!0},modelModifiers:{}},emits:a(["search","reset"],["update:model"]),setup(e,{emit:l}){const a=l,w=t(e,"model");function k(){a("search",w.value)}function _(){w.value.prodNo=null,w.value.lotNo=null,w.value.packNo=null,w.value.time=[u().startOf("day").format("YYYY-MM-DD"),u().endOf("day").format("YYYY-MM-DD")],a("reset",w.value)}return(e,l)=>{const a=m,t=p,u=f,b=v,Y=x,M=y,U=h,C=g,T=N,B=z;return o(),s(B,{title:null,bordered:!1,class:"search-card card-wrapper"},{default:n((()=>[c(T,{model:w.value,"label-col":{span:5,md:7},class:"search-form"},{default:n((()=>[d("div",D,[c(C,{gutter:[15,8],wrap:"",class:"w-full"},{default:n((()=>[c(u,{span:24,md:12,lg:8,xl:8,xxl:5},{default:n((()=>[c(t,{label:"生产型号",name:"prodNo",class:"m-0","label-col":{}},{default:n((()=>[c(a,{value:w.value.prodNo,"onUpdate:value":l[0]||(l[0]=e=>w.value.prodNo=e),placeholder:"请输入生产型号",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:i(k,["enter"])},null,8,["value"])])),_:1})])),_:1}),c(u,{span:24,md:12,lg:8,xl:8,xxl:5},{default:n((()=>[c(t,{label:"LOT号",name:"lotNo",class:"m-0","label-col":{}},{default:n((()=>[c(a,{value:w.value.lotNo,"onUpdate:value":l[1]||(l[1]=e=>w.value.lotNo=e),placeholder:"请输入LOT号",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:i(k,["enter"])},null,8,["value"])])),_:1})])),_:1}),c(u,{span:24,md:12,lg:8,xl:8,xxl:5},{default:n((()=>[c(t,{label:"箱标签",name:"packNo",class:"m-0","label-col":{}},{default:n((()=>[c(a,{value:w.value.packNo,"onUpdate:value":l[2]||(l[2]=e=>w.value.packNo=e),placeholder:"请输入箱标签",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:i(k,["enter"])},null,8,["value"])])),_:1})])),_:1}),c(u,{span:24,md:12,lg:8,xl:8,xxl:5},{default:n((()=>[c(t,{label:"时间范围",name:"time",class:"m-0","label-col":{}},{default:n((()=>[c(b,{value:w.value.time,"onUpdate:value":l[3]||(l[3]=e=>w.value.time=e),format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"min-form-control"},null,8,["value"])])),_:1})])),_:1}),d("div",I,[c(t,{class:"m-0"},{default:n((()=>[d("div",O,[c(M,{type:"primary",ghost:"",class:"mini-btn",onClick:k},{icon:n((()=>[c(Y,{class:"align-sub text-icon"})])),default:n((()=>[d("span",S,r(e.$t("common.search")),1)])),_:1}),c(M,{class:"mini-btn",onClick:_},{icon:n((()=>[c(U,{class:"align-sub text-icon"})])),default:n((()=>[d("span",j,r(e.$t("common.reset")),1)])),_:1})])])),_:1})])])),_:1})])])),_:1},8,["model"])])),_:1})}}}),C={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},T={__name:"index",setup(l){const a=w(null),t=w({prodNo:null,lotNo:null,packNo:null,time:[u().startOf("day").format("YYYY-MM-DD"),u().endOf("day").format("YYYY-MM-DD")]}),s=k({current:1,pageSize:200,showSizeChanger:!0,pageSizeOptions:["50","100","200","300","500"],showQuickJumper:!0,showTotal:e=>"共".concat(e,"条"),total:0,onChange:async(e,l)=>{s.current=e,s.pageSize=l,m()}});w(null);const d=w([{key:"prodNo",dataIndex:"prodNo",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("生产型号")]),width:160,align:"center",checked:!0,ellipsis:!0,className:"data-cell"},{key:"lotNo",dataIndex:"lotNo",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("lot卡号")]),align:"center",width:150,checked:!0,ellipsis:!0,className:"data-cell"},{key:"custProdNo",dataIndex:"custProdNo",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("客户型号")]),align:"center",width:400,checked:!0,ellipsis:!0,className:"data-cell-many"},{key:"packNo",dataIndex:"packNo",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("箱标签")]),align:"center",width:200,checked:!0,ellipsis:!0,className:"data-cell"},{key:"qty",dataIndex:"qty",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("出货数量")]),align:"center",width:100,checked:!0,ellipsis:!0,className:"data-cell-sun"},{key:"unit",dataIndex:"unit",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("( 单位 )")]),align:"center",width:120,checked:!0,ellipsis:!0,className:"data-cell-many"},{key:"createBy",dataIndex:"createBy",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("出货人")]),align:"center",checked:!0,width:120,ellipsis:!0,className:"data-cell-many"},{key:"updateDate",dataIndex:"updateDate",title:c("span",{style:"color: #19418d; font-weight: bold; font-size: 16px;font-family: 黑体;"},[_("出货时间")]),align:"center",width:180,checked:!0,ellipsis:!0,className:"data-cell-many"}]),i=w([]),r=w(!1);function m(){var e;r.value=!0;const l={};(null==(e=t.value.time)?void 0:e[0])&&(l.startTime=t.value.time[0],l.endTime=t.value.time[1]),Y("rcerp/passStationRecord/selectBoxFollow",{pageSize:s.pageSize,pageNum:s.current,prodNo:t.value.prodNo,lotNo:t.value.lotNo,packNo:t.value.packNo,time:t.value.time,...l}).then((({data:e,error:l})=>{l||(i.value=e.list,s.total=e.total)})).finally((()=>{r.value=!1}))}return w([]),m(),(l,u)=>{const p=e,f=M,v=z;return o(),b("div",C,[c(U,{model:t.value,"onUpdate:model":u[0]||(u[0]=e=>t.value=e),onReset:u[1]||(u[1]=e=>m()),onSearch:u[2]||(u[2]=e=>m())},null,8,["model"]),c(v,{bordered:!1,"body-style":{flex:1,overflow:"hidden"},class:"table-card flex-col-stretch sm:flex-1-hidden card-wrapper"},{extra:n((()=>[c(p,{columns:d.value,"onUpdate:columns":u[3]||(u[3]=e=>d.value=e)},null,8,["columns"])])),default:n((()=>[c(f,{ref_key:"tableRef",ref:a,columns:d.value,"data-source":i.value,size:"small",loading:r.value,"default-expand-all-rows":!0,pagination:s,"row-key":"uuid",scroll:{x:"auto",y:"auto"},class:"h-full","row-class-name":(e,l)=>"custom-row","expand-icon-column-index":3},null,8,["columns","data-source","loading","pagination"])])),_:1})])}}};export{T as default};
