!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r,i,c=[],o=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=r.call(n)).done)&&(c.push(a.value),c.length!==t);o=!0);}catch(e){u=!0,l=e}finally{try{if(!o&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}System.register(["./engineering-data-inquiry-legacy-dLfUXwjS.js","./table-legacy-BfQK1xrs.js","./index-legacy-BH1Y34Mi.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./resetTableRef-legacy-BB5avnzc.js","./EditOutlined-legacy-Dr9RC9gg.js","./DeleteOutlined-legacy-BQoR-sCc.js","./index-legacy-JzSJVdOM.js","./modal.vue_vue_type_style_index_0_lang-legacy-DP5xhvDE.js","./pdf-viewer-legacy-DG9HKUu-.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js"],(function(t,n){"use strict";var a,l,r,i,c,o,u,s,d,f,p,m,h,v,g,y,b,k,x,w,I,_,N,C,D,P,S,j,F,R,T,z,A,O,M,B,E;return{setters:[function(e){a=e.d,l=e._,r=e.b},function(e){i=e._},function(e){c=e.g,o=e.Y,u=e.r,s=e.o,d=e.e,f=e.w,p=e.f,m=e.h,h=e.aj,v=e.a5,g=e._,y=e.a9,b=e.p,k=e.i,x=e.V,w=e.X,I=e.al,_=e.c,N=e.t,C=e.cs,D=e.ac,P=e.aa,S=e.B,j=e.ad,F=e.ae,R=e.N,T=e.Q,z=e.J},function(e){A=e._},function(e){O=e.u},function(e){M=e.E},function(e){B=e.D},function(e){E=e.C},null,null,null,null],execute:function(){var n=document.createElement("style");n.textContent='.module-no-info[data-v-8cf79ac4]{align-items:center;margin-bottom:5px}.module-no-info[data-v-8cf79ac4]:last-child{margin-bottom:0}.module-no-info .icon[data-v-8cf79ac4]{display:flex;align-items:center;margin-right:15px}.module-no-info .icon .icon-warp[data-v-8cf79ac4]{width:24px;height:24px;text-align:center;line-height:24px;border-radius:6px;background:#e6f4ff}.module-no-info .icon .icon-warp .iconfont[data-v-8cf79ac4]{color:#0958d9;font-size:14px}.module-no-info .content[data-v-8cf79ac4]{font-size:14px;display:flex}.module-no-info .content .label[data-v-8cf79ac4]{margin-right:5px;font-weight:700}.module-no-info .content .label[data-v-8cf79ac4]:after{content:":"}.module-no-info .content .data[data-v-8cf79ac4]{-webkit-text-decoration:underline;text-decoration:underline;color:#646cff}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-nav{margin-bottom:0}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-content-holder{height:calc(100% - 40px)}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-content-holder .ant-tabs-content,.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-content-holder .ant-tabs-content .ant-tabs-tabpane{height:100%}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-nav-list .ant-tabs-tab{border-radius:6px 6px 0 0}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-nav-list .ant-tabs-tab-active{background:#646cff}.right-table[data-v-8cf79ac4] .ant-tabs .ant-tabs-nav-list .ant-tabs-tab-active .ant-tabs-tab-btn{color:#fff}\n',document.head.appendChild(n);var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"};function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){L(e,t,n[t])}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e,t){var n=Y({},e,t.attrs);return c(o,Y({},n,{icon:K}),null)};U.displayName="ArrowDownOutlined",U.inheritAttrs=!1;var H=["onClick"],q=["onClick"],V={__name:"customer-complaint-pictures",setup:function(e,t){var n=t.expose,r="localhost"===window.location.hostname,o=u(null),y=u({prodNo:null}),b=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"fileName",dataIndex:"fileName",title:"图片路径",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return c("span",{class:"cursor-pointer color-blue",onClick:function(){return w({record:t})}},[t.fileName])}},{key:"fileSizeKb",dataIndex:"fileSizeKb",title:"图片大小",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(t.fileSizeKb,"KB")}},{key:"fileSizeKb",dataIndex:"fileSizeKb",title:"上传人",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(t.fileSizeKb,"KB")}},{key:"fileSizeKb",dataIndex:"fileSizeKb",title:"上传日期",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(t.fileSizeKb,"KB")}},{key:"fileModifiedTime",dataIndex:"fileModifiedTime",title:"更改时间",align:"center",checked:!0,ellipsis:!0}];var k=u(!1),x=u(null);function w(e){k.value=!0,x.value="".concat(r?"http://192.168.166.169:9999/prod-api/":"/prod-api/","rcerp/erpMiFile/downMiFile?prodNo=").concat(e.record.prodNo,"&fileName=").concat(e.record.fileName),e.hidePopup()}return n({getData:function(e){y.value=e,v((function(){o.value.getData()}))}}),function(e,t){var n=g,r=i,u=l;return s(),d(h,null,[c(r,{ref_key:"tableRef",ref:o,searchParams:y.value,"onUpdate:searchParams":t[0]||(t[0]=function(e){return y.value=e}),class:"h-full",column:b,"show-row-selection":!1,"row-key":"id",scroll:{y:"auto"},"is-init-get-data":!1,url:"/rcerp/erpMiFile/getMiFileList","auto-generate-uuid":!0,"is-pagination":!1,onTableRowDblclick:t[1]||(t[1]=function(e){return w({record:e})})},{title:f((function(){return t[3]||(t[3]=[p("span",{class:"color-#646cff"},"客诉图片",-1)])})),"contextmenuPopup-orter":f((function(e){var l=e.args;return[p("li",{class:"popup-item",onClick:function(e){return a({prodNo:(t=l).record.prodNo,fileName:t.record.fileName}),void t.hidePopup();var t}},[c(n,{"local-icon":"download",class:"text-16px"}),t[4]||(t[4]=m(" 下载 "))],8,H),p("li",{class:"popup-item",onClick:function(e){return w(l)}},[c(n,{"local-icon":"preview",class:"text-16px"}),t[5]||(t[5]=m(" 预览 "))],8,q)]})),_:1},8,["searchParams"]),c(u,{visible:k.value,"onUpdate:visible":t[2]||(t[2]=function(e){return k.value=e}),url:x.value,"pdf-use-iframe":""},null,8,["visible","url"])],64)}}},J={class:"min-h-500px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},Q={class:"p-8px"},X=["onClick"],$=["onClick"];t("default",z(Object.assign({name:"quality-management_customer-complaint-input"},{__name:"index",setup:function(t){var n=u(null),a=e(O({moduleNo:null,moduleNoState:"8"}),2),o=a[0],v=a[1],z=y(n).height,K={0:"编写",1:"更改",2:"待处理",3:"编写中",4:"暂停",5:"已回退",6:"反审核",7:"审核中",8:"已上网",9:"完成",10:"取消",11:"外部ECN",12:"外部ECN待处理",13:"内部ECN",19:"样板转生产",20:"ENC更改",25:"报废",27:"申请",28:"入库",29:"发放",34:"归还",35:"接收",36:"审核",37:"确认",100:"PPC审核"},Y=u(null),L=[{type:"input",key:"moduleNo",label:"生产型号",span:24,md:12,lg:8,xl:8,xxl:4,placeholder:"请输入生产型号",showTime:!0},{type:"input",key:"moduleNo",label:"客诉编号",span:24,md:12,lg:8,xl:8,xxl:4,placeholder:"请输入客诉编号",showTime:!0},{type:"input",key:"moduleNo",label:"日期范围",span:24,md:12,lg:8,xl:8,xxl:4,placeholder:"请选择日期范围",showTime:!0},{type:"select",key:"moduleNoState",label:"查看方式",placeholder:"请选择查看方式",span:24,md:12,lg:8,xl:8,xxl:4,selectOptions:q()}];function H(e){var t=Number(e);switch(140917104644e4===t||160913164544e4===t?t=2:140917104654e4===t||140919111754e4===t?t=3:161013095348e4!==t&&140919111738e4!==t||(t=4),Number(t)){case-1:return"#FF0000";case 0:return"#0080FF";case 1:return"#FFA500";case 2:return"#FF8000";case 3:return"#B15BFF";case 4:return"#73BF00";case 5:return"#8E8E8E";case 6:return"#BEBEBE";case 7:return"#FF0000";case 8:return"#4682B4";case 9:return"#0000FF";case 10:return"#007500";default:return"#0000FF"}}function q(){return Object.entries(K).map((function(t){var n=e(t,2),a=n[0],l=n[1];return 8===a?{label:"全部",value:a}:{label:l,value:a}}))}var G=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,customFilterDropdown:!0,width:130,onFilter:function(e,t){var n=Number(t.state);return 140917104644e4===n||160913164544e4===n?n=2:140917104654e4===n||140919111754e4===n?n=3:161013095348e4!==n&&140919111738e4!==n||(n=4),!e||Number(e)===Number(n)},customRender:function(e){var t=e.record,n=Number(t.state);return 140917104644e4===n||160913164544e4===n?n=2:140917104654e4===n||140919111754e4===n?n=3:161013095348e4!==n&&140919111738e4!==n||(n=4),8===n?c("div",{class:"h-full w-full",title:"已上网",style:{color:H(t.state)}},[m("已上网")]):c("div",{class:"h-full w-full",title:K[n]||"",style:{color:H(t.state)}},[K[n]||""])}},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return c("span",{class:"fonw-800 color-#646cff"},[t.moduleNo])}},{key:"pnType",dataIndex:"pnType",title:"类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"prodType",dataIndex:"prodType",title:"产品类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"surfTrea1",dataIndex:"surfTrea1",title:"表面处理1",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peType",dataIndex:"peType",title:"板类型",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peDifficulty",dataIndex:"peDifficulty",title:"开发等级",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peState",dataIndex:"peState",title:"生产稿状态",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peSpecial",dataIndex:"peSpecial",title:"特殊周期",align:"center",checked:!0,ellipsis:!0,width:130},{key:"pemark",dataIndex:"pemark",title:"水印",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peRemark",dataIndex:"peRemark",title:"工程备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"targetName",dataIndex:"targetName",title:"终端客户",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custNo",dataIndex:"custNo",title:"客户编码",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNo",dataIndex:"custProdNo",title:"客户型号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"custProdNoAdd",dataIndex:"custProdNoAdd",title:"物料号",align:"center",checked:!0,ellipsis:!0,width:130},{key:"peActive",dataIndex:"peActive",title:"PE状态",align:"center",checked:!0,ellipsis:!0,width:130,customRender:function(e){return e.record.peactive?"有效":"过期"}},{key:"activeRemark",dataIndex:"activeRemark",title:"操作备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"mktActive",dataIndex:"mktActive",title:"MIKT投产",align:"center",checked:!0,ellipsis:!0,width:130,customRender:function(e){return e.record.mktactive?"是":"否"}},{key:"weight",dataIndex:"weight",title:"单重",align:"center",checked:!0,ellipsis:!0,width:130},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:130},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return P(t.createDate).format("YYYY-MM-DD HH:mm:ss")}},{key:"updateDate",dataIndex:"updateDate",title:"最后修改时间",align:"center",checked:!0,ellipsis:!0,width:160,customRender:function(e){var t=e.record;return P(t.updateDate).format("YYYY-MM-DD HH:mm:ss")}}],W=b({searchText:"",searchedColumn:""}),Z=u(null),ee=u("工艺备注"),te=u(null),ne=u({prodId:null});u("1");var ae=u({});u(null);var le=u(null);function re(){Y.value.getData(1)}function ie(){v(),re()}function ce(e){return e.peactive&&0==e.issActive&&0==e.lotActive?{class:"red"}:{}}function oe(e){null!=e&&e.length&&(Y.value.setCurrentRowId(e[0]),ue(e[0]))}function ue(e){ae.value=e,ne.value.prodId=e.prodId,ee.value="工艺备注",te.value.getData(1),le.value.getData({prodNo:ae.value.moduleNo})}u(null),u(null),u(null);var se="localhost"===window.location.hostname,de=u(!1),fe=u(null),pe=u(null);return function(e,t){var a=A,u=S,v=j,y=F,b=g,P=i,O=E,K=R,H=T,ee=l;return s(),d("div",J,[c(a,{ref_key:"commonSearchRef",ref:n,searchParams:k(o),"onUpdate:searchParams":t[0]||(t[0]=function(e){return x(o)?o.value=e:null}),"form-list":L,onSearch:re,onReset:ie},null,8,["searchParams"]),c(H,{gutter:8,class:"h-full w-full",style:D({height:"calc(100% - ".concat(k(z),"px)")})},{default:f((function(){return[c(K,{span:16,class:"h-full min-h-500px flex-col-stretch gap-8px overflow-hidden lt-sm:overflow-auto"},{default:f((function(){return[c(P,{ref_key:"tableRef",ref:Y,searchParams:k(o),"onUpdate:searchParams":t[1]||(t[1]=function(e){return x(o)?o.value=e:null}),column:G,"show-row-selection":!1,"row-key":"prodId",scroll:{y:"auto"},"is-init-get-data":"",url:"/erpsyncmes/Mi/findModuleNo","auto-generate-uuid":!1,class:"h-full","table-custom-cell":ce,"show-quick-jumper":!1,"default-expand-all-rows":!0,onTableRowClick:ue,onTableDataLoadSucess:oe},{title:f((function(){return[t[7]||(t[7]=p("span",{class:"mr-8px color-#646cff"},"客诉信息",-1)),c(u,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:e.addData},{icon:f((function(){return[c(k(w),{class:"align-sub"})]})),default:f((function(){return[t[3]||(t[3]=m(" 新增 "))]})),_:1},8,["onClick"]),c(u,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:e.updata},{icon:f((function(){return[c(k(M),{class:"align-sub"})]})),default:f((function(){return[t[4]||(t[4]=m(" 修改 "))]})),_:1},8,["onClick"]),c(u,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:e.deleteData},{icon:f((function(){return[c(k(B),{class:"align-sub"})]})),default:f((function(){return[t[5]||(t[5]=m(" 删除 "))]})),_:1},8,["onClick"]),c(u,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:e.deleteData},{icon:f((function(){return[c(k(U),{class:"align-sub"})]})),default:f((function(){return[t[6]||(t[6]=m(" 导出 "))]})),_:1},8,["onClick"])]})),filterDropdown:f((function(e){var n=e.setSelectedKeys,a=e.selectedKeys,l=e.confirm,r=e.clearFilters,i=e.column;return[p("div",Q,[c(y,{ref_key:"selectRef",ref:Z,class:"mb-8px block w-188px",placeholder:"请选择查看方式","show-search":"",value:a[0],"allow-clear":"",onChange:function(e){n([e])}},{default:f((function(){return[(s(!0),d(h,null,I(q(),(function(e){return s(),_(v,{key:e.value,value:e.value},{default:f((function(){return[m(N(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["value","onChange"]),c(u,{type:"primary",size:"small",class:"mr-8px w-90px",onClick:function(e){return function(e,t,n){t(),W.searchText=e[0],W.searchedColumn=n}(a,l,i.dataIndex)}},{icon:f((function(){return[c(k(C))]})),default:f((function(){return[t[8]||(t[8]=m(" 搜索 "))]})),_:2},1032,["onClick"]),c(u,{size:"small",class:"w-90px",onClick:function(e){return function(e){e(),W.searchText=""}(r)}},{default:f((function(){return t[9]||(t[9]=[m("重置")])})),_:2},1032,["onClick"])])]})),"contextmenuPopup-orter":f((function(e){var n=e.args;return[p("li",{class:"popup-item",onClick:function(e){return t=n,r({prodId:ae.value.prodId},t.record.moduleNo),void t.hidePopup();var t}},[c(b,{"local-icon":"download",class:"text-16px"}),t[10]||(t[10]=m(" 下载 "))],8,X),p("li",{class:"popup-item",onClick:function(e){return t=n,de.value=!0,pe.value="".concat(ae.value.moduleNo,"MI文件.pdf 预览"),fe.value="".concat(se?"http://192.168.166.169:9999/prod-api/":"/prod-api/","erpsyncmes/mi/print/getMiPdf?prodId=").concat(ae.value.prodId),void t.hidePopup();var t}},[c(b,{"local-icon":"preview",class:"text-16px"}),t[11]||(t[11]=m(" 预览 "))],8,$)]})),_:1},8,["searchParams"]),c(O,{class:"min-h-300px","body-style":{padding:"15px",paddingBottom:"25px"}},{default:f((function(){return t[12]||(t[12]=[p("div",null,"客诉图表统计",-1)])})),_:1})]})),_:1}),c(K,{span:8,class:"right-table h-full"},{default:f((function(){return[c(V,{ref_key:"customerComplaintPicturesRef",ref:le},null,512)]})),_:1})]})),_:1},8,["style"]),c(ee,{visible:de.value,"onUpdate:visible":t[2]||(t[2]=function(e){return de.value=e}),url:fe.value,type:"pdf","pdf-use-iframe":"",title:pe.value},null,8,["visible","url","title"])])}}}),[["__scopeId","data-v-8cf79ac4"]]))}}}))}();
