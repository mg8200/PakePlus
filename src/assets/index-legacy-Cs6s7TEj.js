System.register(["./index-legacy-BH1Y34Mi.js","./api-legacy-B6UkH1eb.js"],(function(e,t){"use strict";var n,a,l,c,u,o,r,s,i,d,f,v,p,m,g,h,x,w,_,b,y,C;return{setters:[function(e){n=e.r,a=e.a2,l=e.o,c=e.e,u=e.f,o=e.t,r=e.g,s=e.w,i=e.s,d=e.a3,f=e.c,v=e.b6,p=e.I,m=e.v,g=e.N,h=e.Q,x=e.d6,w=e.B,_=e.F,b=e.J},function(e){y=e.g,C=e.p}],execute:function(){var t=document.createElement("style");t.textContent=".bodyClass[data-v-f6e2c6c4]{width:99%;height:90%;border:1px solid rgb(167,172,255)}.titClass[data-v-f6e2c6c4]{height:60px;color:#fff;font-weight:500;background-color:#a7acff;text-align:center;font-weight:800;line-height:30px}\n",document.head.appendChild(t);var I={class:"bodyClass"},S={class:"titClass"},j={class:"mt20px"},k={class:"ml-20px flex"},F={class:"w-full flex-y-center justify-end gap-12px"};e("default",b(Object.assign({name:"electrical-measurement_vcp-parameter-issuance"},{__name:"index",setup:function(e){var t=n({lotId:""}),b=n(""),M=n("");function N(){var e=new Date,t=e.getFullYear(),n="0".concat(e.getMonth()+1).slice(-2),a="0".concat(e.getDate()).slice(-2),l="0".concat(e.getHours()).slice(-2),c="0".concat(e.getMinutes()).slice(-2),u="0".concat(e.getSeconds()).slice(-2),o="".concat(t,"-").concat(n,"-").concat(a," ").concat(l,":").concat(c,":").concat(u);M.value=o}function O(){var e;b.value?v.confirm({title:"是否确认下发参数吗?",onOk:function(){var e=JSON.parse(b.value);e.machineNo="麦逊MV320S",C("/mes/PFixtureTest/add",e).then((function(e){var n,a=e.error;e.data,e.otherData,a||(b.value=[],t.value.lotId="",null===(n=window.$message)||void 0===n||n.success("下发成功!"))}))},onCancel:function(){}}):null===(e=window.$message)||void 0===e||e.error("请先查询料号再确定下发!")}function D(){b.value=""}return setInterval(N,1e3),N(),function(e,n){var v=p,C=m,N=g,J=h,P=x,$=w,T=_,U=a("hasAuth");return l(),c("div",I,[u("div",S,[n[3]||(n[3]=u("span",{class:"ml-10px"},"参数下发麦逊MV320S(夹具测试)",-1)),u("p",null,o(M.value),1)]),u("div",j,[r(T,{model:t.value,"label-col":{span:5,md:7}},{default:s((function(){return[r(J,{gutter:[15,8],wrap:"",justify:"center"},{default:s((function(){return[r(N,{span:24,md:12,lg:6,xl:6,xxl:4},{default:s((function(){return[r(C,{label:"批卡号",name:"lotId",class:"m-0","label-col":{}},{default:s((function(){return[r(v,{value:t.value.lotId,"onUpdate:value":n[0]||(n[0]=function(e){return t.value.lotId=e}),placeholder:"请输入批卡号","allow-clear":"",autocomplete:"off",onKeypress:n[1]||(n[1]=i((function(e){var n;13===t.value.lotId.length?y("/mes/PFixtureTest/selectParam",t.value).then((function(e){var t=e.error,n=e.data;t||(b.value=JSON.stringify(n,null,2))})):null===(n=window.$message)||void 0===n||n.error("请输入正确的料号查询!")}),["enter"]))},null,8,["value"])]})),_:1})]})),_:1})]})),_:1}),r(J,{wrap:"",class:"ml-20px mt-20px"},{default:s((function(){return[r(N,{span:16},{default:s((function(){return[r(C,{label:"",name:"",class:"m-0","label-col":{}},{default:s((function(){return[r(P,{value:b.value,"onUpdate:value":n[2]||(n[2]=function(e){return b.value=e}),style:{"font-size":"16px","font-weight":"600",color:"brown"},placeholder:"",rows:28},null,8,["value"])]})),_:1})]})),_:1}),r(N,{span:8},{default:s((function(){return[u("div",k,[r(C,{class:"m-0"},{default:s((function(){return[u("div",F,[d((l(),f($,{class:"mini-btn",style:{height:"40px !important",width:"200px","margin-left":"10px","line-height":"0"},onClick:O},{default:s((function(){return n[4]||(n[4]=[u("span",{class:"m-auto"},"确定下发",-1)])})),_:1})),[[U,["vcp-parameter-issuance:confirm-delivery"]]]),r($,{class:"mini-btn",style:{height:"40px !important",width:"200px","margin-left":"10px","line-height":"0"},onClick:D},{default:s((function(){return n[5]||(n[5]=[u("span",{class:"m-auto"},"清除",-1)])})),_:1})])]})),_:1})])]})),_:1})]})),_:1})]})),_:1},8,["model"])])])}}}),[["__scopeId","data-v-f6e2c6c4"]]))}}}));
