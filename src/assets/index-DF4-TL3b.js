import{r as a,o as e,e as l,f as s,t,g as n,w as c,s as o,b6 as u,I as i,v as r,N as d,Q as m,d6 as p,B as v,F as f,J as g}from"./index-B3PZsRwT.js";import{g as w,p as _}from"./api-By23aosn.js";const x={class:"bodyClass"},b={class:"titClass"},h={class:"mt20px"},y={class:"ml-20px flex"},I={class:"w-full flex-y-center justify-end gap-12px"},S=g(Object.assign({name:"issuance-management_text-silk-screen-delivery_down"},{__name:"index",setup(g){const S=a({lotId:null}),k=a("");function j(){w("/mes/automaticSilkScreenPrintingMachine/provide",S.value).then((({data:a,error:e})=>{e||(k.value=JSON.stringify(a,null,2))}))}function C(){var a;k.value?u.confirm({title:"是否确认下发参数吗?",onOk:()=>{const a=JSON.parse(k.value);_("/mes/automaticSilkScreenPrintingMachine/add/new",a).then((({error:a,data:e,otherData:l})=>{var s;a||(k.value=[],S.value.liaohao="",null==(s=window.$message)||s.success("下发成功!"))}))},onCancel:()=>{}}):null==(a=window.$message)||a.error("请先查询料号再确定下发!")}const M=a("");function O(){const a=new Date,e=a.getFullYear(),l="0".concat(a.getMonth()+1).slice(-2),s="0".concat(a.getDate()).slice(-2),t="0".concat(a.getHours()).slice(-2),n="0".concat(a.getMinutes()).slice(-2),c="0".concat(a.getSeconds()).slice(-2),o="".concat(e,"-").concat(l,"-").concat(s," ").concat(t,":").concat(n,":").concat(c);M.value=o}function D(){k.value=""}return setInterval(O,1e3),O(),(a,u)=>{const g=i,w=r,_=d,O=m,J=p,N=v,F=f;return e(),l("div",x,[s("div",b,[u[2]||(u[2]=s("p",null,"文字丝印下发",-1)),s("p",null,t(M.value),1)]),s("div",h,[n(F,{model:S.value,"label-col":{span:5,md:7}},{default:c((()=>[n(O,{gutter:[15,8],wrap:"",justify:"center"},{default:c((()=>[n(_,{span:24,md:12,lg:6,xl:6,xxl:4},{default:c((()=>[n(w,{label:"批卡号",name:"lotId",class:"m-0","label-col":{}},{default:c((()=>[n(g,{value:S.value.lotId,"onUpdate:value":u[0]||(u[0]=a=>S.value.lotId=a),placeholder:"请输入批卡号","allow-clear":"",autocomplete:"off",onKeypress:o(j,["enter"])},null,8,["value"])])),_:1})])),_:1})])),_:1}),n(O,{wrap:"",class:"ml-20px mt-20px"},{default:c((()=>[n(_,{span:16},{default:c((()=>[n(w,{label:"",name:"",class:"m-0","label-col":{}},{default:c((()=>[n(J,{value:k.value,"onUpdate:value":u[1]||(u[1]=a=>k.value=a),class:"color-brown text-size-16px font-600",style:{color:"brown"},placeholder:"",rows:28},null,8,["value"])])),_:1})])),_:1}),n(_,{span:8},{default:c((()=>[s("div",y,[n(w,{class:"m-0"},{default:c((()=>[s("div",I,[n(N,{class:"mini-btn down-btn",onClick:C},{default:c((()=>u[3]||(u[3]=[s("span",{class:"m-auto"},"确定下发",-1)]))),_:1}),n(N,{class:"mini-btn down-btn",onClick:D},{default:c((()=>u[4]||(u[4]=[s("span",{class:"m-auto"},"清除",-1)]))),_:1})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["model"])])])}}}),[["__scopeId","data-v-703e6d0c"]]);export{S as default};
