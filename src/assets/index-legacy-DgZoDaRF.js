!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?t(Object(l),!0).forEach((function(t){i(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):t(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function i(t,n,i){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,n||"default");if("object"!=e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}System.register(["./round-download-legacy-CSJIDl7v.js","./index-legacy-BH1Y34Mi.js","./table-legacy-BfQK1xrs.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./DeleteOutlined-legacy-BQoR-sCc.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js","./index-legacy-JzSJVdOM.js"],(function(e,t){"use strict";var i,l,a,r,c,o,s,d,u,p,h,m,y,f,g,k,x,v,b,w,O;return{setters:[function(e){i=e._},function(e){l=e.ag,a=e.aa,r=e.Z,c=e.r,o=e.b,s=e.a2,d=e.o,u=e.e,p=e.g,h=e.w,m=e.a3,y=e.c,f=e.i,g=e.h,k=e.f,x=e.a5,v=e.B},function(e){b=e._},function(e){w=e._},function(e){O=e.D},null,null,null],execute:function(){var t={class:"message jl-main-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};e("default",Object.assign({name:"material-management_open-sheet-use-record"},{__name:"index",setup:function(e){var I=c(null),D=c(null),N=c({prodNo:null,lotNo:null,matNo:null,time:null}),j=[{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:5},{type:"input",key:"lotNo",label:"LOT号",placeholder:"请输入LOT号",span:24,md:12,lg:8,xl:8,xxl:5},{type:"input",key:"matNo",label:"物料编码",placeholder:"请输入物料编码",span:24,md:12,lg:8,xl:8,xxl:5},{type:"dateRangePicker",key:"time",label:"时间",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],Y=o((function(){var e,t=n({},N.value);return null!==(e=N.value)&&void 0!==e&&null!==(e=e.time)&&void 0!==e&&e[0]&&(t.beginTime=a(N.value.time[0]).format("YYYY-MM-DD"),t.endTime=a(N.value.time[0]).format("YYYY-MM-DD")),delete t.time,t})),_=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"fullProdNo",dataIndex:"fullProdNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:180},{key:"lotNo",dataIndex:"lotNo",title:"Lot号",align:"center",checked:!0,ellipsis:!0,width:160},{key:"matNo",dataIndex:"matNo",title:"物料编码",align:"center",checked:!0,ellipsis:!0,width:320},{key:"matName",dataIndex:"matName",title:"物料名称",align:"center",checked:!0,ellipsis:!0,width:110},{key:"sheetChange",dataIndex:"sheetChange",title:"板材型号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"sheetType",dataIndex:"sheetType",title:"物料板材类型",align:"center",checked:!0,ellipsis:!0,width:120},{key:"miSheetType",dataIndex:"miSheetType",title:"产品板材类型",align:"center",checked:!0,ellipsis:!0,width:120},{key:"thickness",dataIndex:"thickness",title:"板厚",align:"center",checked:!0,ellipsis:!0,width:100},{key:"copperThickness",dataIndex:"copperThickness",title:"底铜厚度",align:"center",checked:!0,ellipsis:!0,width:100},{key:"length",dataIndex:"length",title:"长(径向)",align:"center",checked:!0,ellipsis:!0,width:130},{key:"width",dataIndex:"width",title:"宽(玮向)",align:"center",checked:!0,ellipsis:!0,width:130},{key:"copperBearing",dataIndex:"copperBearing",title:"是否含铜",align:"center",checked:!0,ellipsis:!0,width:130},{key:"halogen",dataIndex:"halogen",title:"有无卤素",align:"center",checked:!0,ellipsis:!0,width:90},{key:"tg",dataIndex:"tg",title:"TG值",align:"center",checked:!0,ellipsis:!0,width:100},{key:"copperFoilType",dataIndex:"copperFoilType",title:"铜箔类型",align:"center",checked:!0,ellipsis:!0,width:120},{key:"prodDate",dataIndex:"prodDate",title:"生产日期",align:"center",checked:!0,ellipsis:!0,width:110,customRender:function(e){var t=e.record;return a(t.prodDate).format("YYYY-MM-DD")}},{key:"expiryDate",dataIndex:"expiryDate",title:"失效日期",align:"center",checked:!0,ellipsis:!0,width:110,customRender:function(e){var t=e.record;return a(t.expiryDate).format("YYYY-MM-DD")}},{key:"batchNo",dataIndex:"batchNo",title:"供应商批次",align:"center",checked:!0,ellipsis:!0,width:170},{key:"splOrderNo",dataIndex:"splOrderNo",title:"采购单号",align:"center",checked:!0,ellipsis:!0,width:160},{key:"supplierNo",dataIndex:"supplierNo",title:"供应商编码",align:"center",checked:!0,ellipsis:!0,width:140},{key:"barcode",dataIndex:"barcode",title:"物料批次",align:"center",checked:!0,ellipsis:!0,width:170},{key:"deliveryOrder",dataIndex:"deliveryOrder",title:"送货单号",align:"center",checked:!0,ellipsis:!0,width:160},{key:"createUser",dataIndex:"createUser",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"createTime",dataIndex:"createTime",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:180,customRender:function(e){var t=e.record;return a(t.createTime).format("YYYY-MM-DD HH:mm:ss")}}];function P(){D.value.getData(1)}function T(){x((function(){N.value={prodNo:null,lotNo:null,matNo:null,time:null},P()}))}function S(){var e;e=n({},Y.value),l({url:"/mes/cutting-sheet-materials-record/export",method:"POST",data:e,fileName:"开料板材使用记录导出".concat(a().format("YYYY-MM-DD HH:mm:ss"),".xlsx")})}var M=c([]);function R(e){M.value=e}var C=c(!1);function U(){0!==M.value.length?(C.value=!0,window.$modal.confirm({title:"确定删除所选中的记录吗?",onOk:function(){var e;(e=M.value,r({url:"/mes/cutting-sheet-materials-record/delete-batch",method:"post",data:e})).then((function(e){e.data;e.error||(window.$message.success("删除成功"),D.value.getData(1),M.value=[])})).finally((function(){C.value=!1}))},onCancel:function(){}})):window.$message.error("请选择需要删除的记录")}return function(e,n){var l=v,a=i,r=s("hasAuth");return d(),u("div",t,[p(w,{ref_key:"commonSearchRef",ref:I,searchParams:N.value,"onUpdate:searchParams":n[0]||(n[0]=function(e){return N.value=e}),"form-list":j,"is-search":!0,onSearch:P,onReset:T},null,8,["searchParams"]),p(b,{ref_key:"tableRef",ref:D,searchParams:Y.value,"onUpdate:searchParams":n[2]||(n[2]=function(e){return Y.value=e}),column:_,"show-row-selection":!0,"row-key":"tableUuid",scroll:{y:"auto"},"is-init-get-data":"",url:"/mes/cutting-sheet-materials-record/list","auto-generate-uuid":!0,onTableSelectChange:R},{title:h((function(){return[m((d(),y(l,{type:"primary",danger:"",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!M.value.length,onClick:n[1]||(n[1]=function(e){return U()})},{icon:h((function(){return[p(f(O),{class:"align-sub"})]})),default:h((function(){return[n[3]||(n[3]=g(" 删除 "))]})),_:1},8,["disabled"])),[[r,["material-management:open-sheet-use-record:delete"]]]),p(l,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:S},{icon:h((function(){return[p(a,{class:"align-sub text-icon"})]})),default:h((function(){return[n[4]||(n[4]=k("span",{class:"ml-3px"},"导出",-1))]})),_:1})]})),_:1},8,["searchParams"])])}}}))}}}))}();
