import{_ as e}from"./modal.vue_vue_type_style_index_0_lang-Gjmj9w7c.js";import{U as t,r as l,p as a,o as i,e as n,g as d,i as s,V as p,w as c,X as r,h as o,f as h,c as u,B as y,W as k,J as m}from"./index-B3PZsRwT.js";import{_ as g}from"./table-DoFSI9NT.js";import{_ as w}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{u as b}from"./resetTableRef-DZjcvemm.js";import{u as x}from"./searchData-DpjdfxBw.js";import{v as f}from"./index-DqnulfE2.js";import{E as v}from"./EditOutlined-5FYoGiVM.js";import{D as I}from"./DeleteOutlined-CWT7lRAZ.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const _={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},T={key:0,class:"event-form"},C={key:1,class:"event-form"},M={class:"modal-footer"},P=m(Object.assign({name:"business-anagement_production-model-management_model-definition"},{__name:"index",setup(m){t((e=>({"7020660f":e.footerHeight})));const[P,S]=b({moduleNo:null,state:null,time:null}),j=l(null),A=x(P),N=[{type:"input",key:"moduleNo",label:"料号",span:24,md:12,lg:10,xl:8,xxl:6,placeholder:"请输入料号",showTime:!0},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],B=a({current:1,pageSize:200,showSizeChanger:!0,pageSizeOptions:["50","100","200","300","500"],showQuickJumper:!0,showTotal:e=>"共".concat(e,"条"),total:0,onChange:async(e,t)=>{B.current=e,B.pageSize=t,getData()}}),D=l([{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:100,align:"center",checked:!0},{key:"prodNo",dataIndex:"prodNo",title:"生产型号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"customerName",dataIndex:"customerName",title:"客户名称",width:130,align:"center",checked:!0,ellipsis:!0},{key:"modelType",dataIndex:"modelType",title:"型号类型",width:130,align:"center",checked:!0,ellipsis:!0},{key:"surfaceTreatment",dataIndex:"surfaceTreatment",title:"表面处理",width:130,align:"center",checked:!0,ellipsis:!0},{key:"tg",dataIndex:"tg",title:"tg",width:130,align:"center",checked:!0,ellipsis:!0},{key:"cti",dataIndex:"cti",title:"cti",width:130,align:"center",checked:!0,ellipsis:!0},{key:"setToPcs",dataIndex:"setToPcs",title:"1set=?pcs",width:130,align:"center",checked:!0,ellipsis:!0},{key:"setL",dataIndex:"setL",title:"set长",width:130,align:"center",checked:!0,ellipsis:!0},{key:"setW",dataIndex:"setW",title:"set宽",width:130,align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建者",width:130,align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"创建日期",width:130,align:"center",checked:!0,ellipsis:!0},{key:"updateDate",dataIndex:"updateDate",title:"最后修改日期",width:130,align:"center",checked:!0,ellipsis:!0},{key:"state",dataIndex:"state",title:"状态",width:130,align:"center",checked:!0,ellipsis:!0},{key:"mktAllowed",dataIndex:"mktAllowed",title:"mkt可投产",width:130,align:"center",checked:!0,ellipsis:!0},{key:"allowed",dataIndex:"allowed",title:"可投产",width:130,align:"center",checked:!0,ellipsis:!0},{key:"takeMaterials",dataIndex:"takeMaterials",title:"可领料",width:130,align:"center",checked:!0,ellipsis:!0},{key:"consignment",dataIndex:"consignment",title:"寄售",width:130,align:"center",checked:!0,ellipsis:!0},{key:"quotationOrderNo",dataIndex:"quotationOrderNo",title:"报价单号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"customerCode",dataIndex:"customerCode",title:"客户编码",width:130,align:"center",checked:!0,ellipsis:!0},{key:"terminalCustomer",dataIndex:"terminalCustomer",title:"终端客户",width:130,align:"center",checked:!0,ellipsis:!0},{key:"company",dataIndex:"company",title:"公司主体",width:130,align:"center",checked:!0,ellipsis:!0},{key:"factory",dataIndex:"factory",title:"生产厂区",width:130,align:"center",checked:!0,ellipsis:!0},{key:"layer",dataIndex:"layer",title:"层数",width:130,align:"center",checked:!0,ellipsis:!0},{key:"customerModel",dataIndex:"customerModel",title:"客户型号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"materialNo",dataIndex:"materialNo",title:"物料号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"terminalModel",dataIndex:"terminalModel",title:"终端型号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"terminalVersion",dataIndex:"terminalVersion",title:"终端版本",width:130,align:"center",checked:!0,ellipsis:!0},{key:"sowFile",dataIndex:"sowFile",title:"sow文件",width:130,align:"center",checked:!0,ellipsis:!0},{key:"otherAdditions",dataIndex:"otherAdditions",title:"其他附加",width:130,align:"center",checked:!0,ellipsis:!0},{key:"ptlNum",dataIndex:"ptlNum",title:"ptl数量",width:130,align:"center",checked:!0,ellipsis:!0},{key:"ptlRemark",dataIndex:"ptlRemark",title:"ptl备注",width:130,align:"center",checked:!0,ellipsis:!0},{key:"ptlSquareMetre",dataIndex:"ptlSquareMetre",title:"ptl平米",width:130,align:"center",checked:!0,ellipsis:!0},{key:"productType",dataIndex:"productType",title:"产品类型",width:130,align:"center",checked:!0,ellipsis:!0},{key:"surfaceTreatment1",dataIndex:"surfaceTreatment1",title:"表面处理1",width:130,align:"center",checked:!0,ellipsis:!0},{key:"surfaceTreatment2",dataIndex:"surfaceTreatment2",title:"表面处理2",width:130,align:"center",checked:!0,ellipsis:!0},{key:"specialProcess",dataIndex:"specialProcess",title:"特殊工艺",width:130,align:"center",checked:!0,ellipsis:!0},{key:"unit",dataIndex:"unit",title:"单位",width:130,align:"center",checked:!0,ellipsis:!0},{key:"customerShipUnit",dataIndex:"customerShipUnit",title:"客户出货单位",width:130,align:"center",checked:!0,ellipsis:!0},{key:"unitWeight",dataIndex:"unitWeight",title:"单重",width:130,align:"center",checked:!0,ellipsis:!0},{key:"unitArea",dataIndex:"unitArea",title:"单元面积",width:130,align:"center",checked:!0,ellipsis:!0},{key:"commonModel",dataIndex:"commonModel",title:"共同型号",width:130,align:"center",checked:!0,ellipsis:!0},{key:"plateThickness",dataIndex:"plateThickness",title:"板厚",width:130,align:"center",checked:!0,ellipsis:!0},{key:"plateMaterial",dataIndex:"plateMaterial",title:"板材",width:130,align:"center",checked:!0,ellipsis:!0},{key:"environmental",dataIndex:"environmental",title:"环保料",width:130,align:"center",checked:!0,ellipsis:!0},{key:"customerPanelAssembly",dataIndex:"customerPanelAssembly",title:"客户拼板",width:130,align:"center",checked:!0,ellipsis:!0},{key:"sampleApprovalTime",dataIndex:"sampleApprovalTime",title:"样板承认时间",width:130,align:"center",checked:!0,ellipsis:!0},{key:"massProductionTime",dataIndex:"massProductionTime",title:"量产时间",width:130,align:"center",checked:!0,ellipsis:!0},{key:"hdi",dataIndex:"hdi",title:"hdi",width:130,align:"center",checked:!0,ellipsis:!0},{key:"hdiStructure",dataIndex:"hdiStructure",title:"hdi结构",width:130,align:"center",checked:!0,ellipsis:!0},{key:"mechanicalBlindHole",dataIndex:"mechanicalBlindHole",title:"机械盲孔",width:130,align:"center",checked:!0,ellipsis:!0},{key:"flexibleBoard",dataIndex:"flexibleBoard",title:"软板",width:130,align:"center",checked:!0,ellipsis:!0},{key:"productFeatures",dataIndex:"productFeatures",title:"产品特征",width:130,align:"center",checked:!0,ellipsis:!0},{key:"wb",dataIndex:"wb",title:"WB",width:130,align:"center",checked:!0,ellipsis:!0},{key:"safetyClimbManagement",dataIndex:"safetyClimbManagement",title:"安全爬坡管理",width:130,align:"center",checked:!0,ellipsis:!0},{key:"safetyComponent",dataIndex:"safetyComponent",title:"安全件",width:130,align:"center",checked:!0,ellipsis:!0},{key:"rpoth",dataIndex:"rpoth",title:"通孔塞树脂",width:130,align:"center",checked:!0,ellipsis:!0},{key:"scheduledScrapping",dataIndex:"scheduledScrapping",title:"预定报废",width:130,align:"center",checked:!0,ellipsis:!0},{key:"remark",dataIndex:"remark",title:"备注",width:130,align:"center",checked:!0,ellipsis:!0}]),W=[{type:"input",key:"state",label:"状态",placeholder:"请选择状态",span:8},{type:"input",key:"mktAllowed",label:"mkt可投产",placeholder:"请选择是否mkt可投产",span:8},{type:"input",key:"allowed",label:"可投产",placeholder:"请选择是否可投产",span:8},{type:"input",key:"takeMaterials",label:"可领料",placeholder:"请选择是否可领料",span:8},{type:"input",key:"consignment",label:"寄售",placeholder:"请输入寄售",span:8},{type:"input",key:"quotationOrderNo",label:"报价单号",placeholder:"请输入报价单号",span:8},{type:"input",key:"customerCode",label:"客户编码",placeholder:"请输入客户编码",span:8},{type:"input",key:"customerName",label:"客户名称",placeholder:"请输入客户名称",span:8},{type:"input",key:"terminalCustomer",label:"终端客户",placeholder:"请输入终端客户",span:8},{type:"input",key:"company",label:"公司主体",placeholder:"请输入公司主体",span:8},{type:"input",key:"factory",label:"生产厂区",placeholder:"请输入生产厂区",span:8},{type:"input",key:"layer",label:"层数",placeholder:"请输入层数",span:8},{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:8},{type:"input",key:"customerModel",label:"客户型号",placeholder:"请输入客户型号",span:8},{type:"input",key:"materialNo",label:"物料号",placeholder:"请输入物料号",span:8},{type:"input",key:"terminalModel",label:"终端型号",placeholder:"请输入终端型号",span:8},{type:"input",key:"terminalVersion",label:"终端版本",placeholder:"请输入终端版本",span:8},{type:"input",key:"sowFile",label:"sow文件",placeholder:"请输入sow文件",span:8},{type:"input",key:"otherAdditions",label:"其他附加",placeholder:"请输入其他附加",span:8},{type:"input",key:"ptlNum",label:"ptl数量",placeholder:"请输入ptl数量",span:8},{type:"input",key:"ptlRemark",label:"ptl备注",placeholder:"请输入ptl备注",span:8},{type:"input",key:"ptlSquareMetre",label:"ptl平米",placeholder:"请输入ptl平米",span:8},{type:"input",key:"modelType",label:"型号类型",placeholder:"请输入型号类型",span:8},{type:"input",key:"productType",label:"产品类型",placeholder:"请输入产品类型",span:8},{type:"input",key:"surfaceTreatment",label:"表面处理",placeholder:"请输入表面处理",span:8},{type:"input",key:"surfaceTreatment1",label:"表面处理1",placeholder:"请输入表面处理1",span:8},{type:"input",key:"surfaceTreatment2",label:"表面处理2",placeholder:"请输入表面处理2",span:8},{type:"input",key:"specialProcess",label:"特殊工艺",placeholder:"请输入特殊工艺",span:8},{type:"input",key:"unit",label:"单位",placeholder:"请输入单位",span:8},{type:"input",key:"customerShipUnit",label:"客户出货单位",placeholder:"请输入客户出货单位",span:8},{type:"input",key:"unitWeight",label:"单重",placeholder:"请输入单重",span:8},{type:"input",key:"unitArea",label:"单元面积",placeholder:"请输入单元面积",span:8},{type:"input",key:"commonModel",label:"共同型号",placeholder:"请输入共同型号",span:8},{type:"input",key:"plateThickness",label:"板厚",placeholder:"请输入板厚",span:8},{type:"input",key:"plateMaterial",label:"板材",placeholder:"请输入板材",span:8},{type:"input",key:"tg",label:"tg",placeholder:"请输入tg",span:8},{type:"input",key:"cti",label:"cti",placeholder:"请输入cti",span:8},{type:"input",key:"environmental",label:"环保料",placeholder:"请输入环保料",span:8},{type:"input",key:"setToPcs",label:"1set=?pcs",placeholder:"请输入1set=?pcs",span:8},{type:"input",key:"customerPanelAssembly",label:"客户拼板",placeholder:"请输入客户拼板",span:8},{type:"input",key:"setL",label:"set长",placeholder:"请输入set长",span:8},{type:"input",key:"setW",label:"set宽",placeholder:"请输入set宽",span:8},{type:"input",key:"sampleApprovalTime",label:"样板承认时间",placeholder:"请输入样板承认时间",span:8},{type:"input",key:"massProductionTime",label:"量产时间",placeholder:"请输入量产时间",span:8},{type:"input",key:"hdi",label:"hdi",placeholder:"请输入hdi",span:8},{type:"input",key:"hdiStructure",label:"hdi结构",placeholder:"请输入hdi结构",span:8},{type:"input",key:"mechanicalBlindHole",label:"机械盲孔",placeholder:"请输入机械盲孔",span:8},{type:"input",key:"flexibleBoard",label:"软板",placeholder:"请输入软板",span:8},{type:"input",key:"productFeatures",label:"产品特征",placeholder:"请输入产品特征",span:8},{type:"input",key:"wb",label:"WB",placeholder:"请输入WB",span:8},{type:"input",key:"safetyClimbManagement",label:"安全爬坡管理",placeholder:"请输入安全爬坡管理",span:8},{type:"input",key:"safetyComponent",label:"安全件",placeholder:"请输入安全件",span:8},{type:"input",key:"rpoth",label:"通孔塞树脂",placeholder:"请输入通孔塞树脂",span:8},{type:"input",key:"scheduledScrapping",label:"预定报废",placeholder:"请输入预定报废",span:8},{type:"input",key:"remark",label:"备注",placeholder:"请输入备注",span:8},{type:"input",key:"createBy",label:"创建者",placeholder:"请输入创建者",span:8}],U=l([]),O=l(!1),z=l(""),F=l(""),R=l("");function $(){var e;if(1!=U.value.length)return null==(e=window.$message)?void 0:e.error("请先选择一条数据");R.value="型号定义修改",z.value=j.value.tableData.find((e=>U.value[0].prodId==e.prodId)),O.value=!0}function q(){R.value="型号定义新增",F.value={},O.value=!0}function H(){f("/jlerp/prodInfo/update",z.value).then((({data:e,error:t})=>{var l;t||(O.value=!1,z.value="",null==(l=window.$message)||l.success("修改成功"),U.value=[],j.value.getData())}))}function V(){f("/jlerp/prodInfo/add",F.value).then((({data:e,error:t})=>{var l;t||(O.value=!1,F.value="",null==(l=window.$message)||l.success("新增成功"),U.value=[],j.value.getData())}))}function E(){var e,t;if(0==U.value.length)return null==(e=window.$message)?void 0:e.error("请先选择一条数据");null==(t=window.$modal)||t.confirm({title:"是否确认删除数据?",onOk:()=>{const e=U.value;f("/jlerp/prodInfo/delete",e).then((({data:e,error:t})=>{var l,a;t?null==(a=window.$message)||a.error("删除失败!"):(U.value=[],j.value.getData(),null==(l=window.$message)||l.success("删除成功!"))}))},onCancel:()=>{}})}function L(){j.value.getData(1)}function J(){S(),L()}function Q(e){U.value=e}return(t,l)=>{const a=w,m=y,b=g,x=k,f=e;return i(),n("div",_,[d(a,{searchParams:s(P),"onUpdate:searchParams":l[0]||(l[0]=e=>p(P)?P.value=e:null),"form-list":N,onSearch:L,onReset:J},null,8,["searchParams"]),d(b,{ref_key:"tableRef",ref:j,searchParams:s(A),"onUpdate:searchParams":l[1]||(l[1]=e=>p(A)?A.value=e:null),column:D.value,"show-row-selection":!0,"auto-generate-uuid":!0,scroll:{y:"auto"},"is-init-get-data":"",url:"/jlerp/prodInfo/findAll",onTableSelectChange:Q},{title:c((()=>[d(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:q},{icon:c((()=>[d(s(r),{class:"align-sub"})])),default:c((()=>[l[6]||(l[6]=o(" 新增 "))])),_:1}),d(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:$},{icon:c((()=>[d(s(v),{class:"align-sub"})])),default:c((()=>[l[7]||(l[7]=o(" 修改 "))])),_:1}),d(m,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:E},{icon:c((()=>[d(s(I),{class:"align-sub"})])),default:c((()=>[l[8]||(l[8]=o(" 删除 "))])),_:1})])),_:1},8,["searchParams","column"]),d(f,{visible:O.value,"onUpdate:visible":l[5]||(l[5]=e=>O.value=e),"destroy-on-close":!0,centered:!0,title:R.value,width:"1050px",height:"550px"},{footer:c((()=>[h("div",M,[d(m,{onClick:l[4]||(l[4]=e=>O.value=!1)},{default:c((()=>l[9]||(l[9]=[o("关闭")]))),_:1}),"型号定义修改"==R.value?(i(),u(m,{key:0,onClick:H},{default:c((()=>l[10]||(l[10]=[o("保存")]))),_:1})):(i(),u(m,{key:1,onClick:V},{default:c((()=>l[11]||(l[11]=[o("保存")]))),_:1}))])])),default:c((()=>["型号定义修改"==R.value?(i(),n("div",T,[d(x,{model:z.value,"onUpdate:model":l[2]||(l[2]=e=>z.value=e),"form-list":W},null,8,["model"])])):(i(),n("div",C,[d(x,{model:F.value,"onUpdate:model":l[3]||(l[3]=e=>F.value=e),"form-list":W},null,8,["model"])]))])),_:1},8,["visible","title"])])}}}),[["__scopeId","data-v-fbdac25d"]]);export{P as default};
