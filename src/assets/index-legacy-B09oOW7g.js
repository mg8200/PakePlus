!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(t,n,a){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}System.register(["./table-legacy-BfQK1xrs.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./index-legacy-BH1Y34Mi.js","./downloadExcelByTable-legacy-Bsz7JyeX.js","./DownloadOutlined-legacy-DK9f6hNJ.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js","./index-legacy-JzSJVdOM.js"],(function(e,t){"use strict";var a,r,l,i,c,u,d,o,s,f,y,x,p,b,v,g,m;return{setters:[function(e){a=e._},function(e){r=e._},function(e){l=e.r,i=e.b,c=e.aa,u=e.S,d=e.o,o=e.e,s=e.g,f=e.w,y=e.i,x=e.f,p=e.h,b=e.t,v=e.B},function(e){g=e.d},function(e){m=e.D},null,null,null],execute:function(){var t={class:"jl-main-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};e("default",Object.assign({name:"collection-management_inner-yield-query"},{__name:"index",setup:function(e){var h=l(null),k=l({prodNo:null,time:null,isOuter:"0"}),P=[{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:6},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6}],_=i((function(){var e,t=n({},k.value);return null!==(e=k.value)&&void 0!==e&&null!==(e=e.time)&&void 0!==e&&e[0]?(t.startTime=c(k.value.time[0]).format("YYYY-MM-DD"),t.endTime=c(k.value.time[1]).format("YYYY-MM-DD")):(t.startTime=null,t.endTime=null),delete t.time,t})),w=l(null),Q=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"partNo",dataIndex:"partNo",title:"生产型号",align:"center",width:160,fixed:"left",checked:!0,ellipsis:!0},{key:"layers",dataIndex:"layers",title:"层别",align:"center",width:105,checked:!0,ellipsis:!0},{key:"panelQty",dataIndex:"panelQty",title:"PNL数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"setQty",dataIndex:"setQty",title:"SET数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"pcsQty",dataIndex:"pcsQty",title:"PCS数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"goodPanelQty",dataIndex:"goodPanelQty",title:"良品PNL数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"goodPanelRate",dataIndex:"goodPanelRate",title:"PNL良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.goodPanelRate).toFixed(2),"%")}},{key:"goodSetQty",dataIndex:"goodSetQty",title:"良品SET数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"goodPcsQty",dataIndex:"goodPcsQty",title:"良品PCS数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"goodPcsRate",dataIndex:"goodPcsRate",title:"PCS良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.goodPcsRate).toFixed(2),"%")}},{key:"failTotalQty",dataIndex:"failTotalQty",title:"不良点数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"failSetRate",dataIndex:"failSetRate",title:"SET不良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.failSetRate).toFixed(2),"%")}},{key:"failPcsRate",dataIndex:"failPcsRate",title:"PCS不良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.failPcsRate).toFixed(2),"%")}},{key:"failPanelQty",dataIndex:"failPanelQty",title:"PNL不良数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"failSetQty",dataIndex:"failSetQty",title:"SET不良数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"bad1",dataIndex:"bad1",title:"开路",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad2",dataIndex:"bad2",title:"短路",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad3",dataIndex:"bad3",title:"残铜",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad4",dataIndex:"bad4",title:"蚀刻不净",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad5",dataIndex:"bad5",title:"缺口",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad6",dataIndex:"bad6",title:"凹陷",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad7",dataIndex:"bad7",title:"油墨刮伤",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad8",dataIndex:"bad8",title:"曝光不良短路",align:"center",width:120,checked:!0,ellipsis:!0},{key:"bad9",dataIndex:"bad9",title:"线细",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad10",dataIndex:"bad10",title:"显影不洁",align:"center",width:100,checked:!0,ellipsis:!0},{key:"bad11",dataIndex:"bad11",title:"去膜不净",align:"center",width:100,checked:!0,ellipsis:!0},{key:"bad12",dataIndex:"bad12",title:"其它",align:"center",width:60,checked:!0,ellipsis:!0},{key:"startDate",dataIndex:"startDate",title:"操作开始时间",align:"center",width:170,checked:!0,ellipsis:!0},{key:"endDate",dataIndex:"endDate",title:"操作结束时间",align:"center",width:170,checked:!0,ellipsis:!0}];function S(){w.value.getData(1)}function R(){nextTick((function(){k.value.prodNo=null,k.value.time=null,S()}))}var I=l(0),j=l(0),N=l(0),O=l([]);function F(e){O.value=e;var t=e.reduce((function(e,t){return e+t.panelQty}),0),n=e.reduce((function(e,t){return e+t.goodPanelQty}),0);I.value="".concat(Number.parseFloat(n/t*100).toFixed(2),"%");var a=e.reduce((function(e,t){return e+t.setQty}),0),r=e.reduce((function(e,t){return e+t.goodSetQty}),0);j.value="".concat(Number.parseFloat(r/a*100).toFixed(2),"%");var l=e.reduce((function(e,t){return e+t.pcsQty}),0),i=e.reduce((function(e,t){return e+t.goodPcsQty}),0);N.value="".concat(Number.parseFloat(i/l*100).toFixed(2),"%")}function D(){var e=[{partNo:"总计",layers:"--",panelQty:O.value.reduce((function(e,t){return e+t.panelQty}),0),setQty:O.value.reduce((function(e,t){return e+t.setQty}),0),pcsQty:O.value.reduce((function(e,t){return e+t.pcsQty}),0),goodPanelQty:O.value.reduce((function(e,t){return e+t.goodPanelQty}),0),goodPanelRate:I.value,goodSetQty:O.value.reduce((function(e,t){return e+t.goodSetQty}),0),goodPcsQty:O.value.reduce((function(e,t){return e+t.goodPcsQty}),0),goodPcsRate:N.value,failTotalQty:O.value.reduce((function(e,t){return e+t.failTotalQty}),0),failSetRate:"--",failPcsRate:"--",failPanelQty:O.value.reduce((function(e,t){return e+t.failPanelQty}),0),failSetQty:O.value.reduce((function(e,t){return e+t.failSetQty}),0),bad1:O.value.reduce((function(e,t){return e+t.bad1}),0),bad2:O.value.reduce((function(e,t){return e+t.bad2}),0),bad3:O.value.reduce((function(e,t){return e+t.bad3}),0),bad4:O.value.reduce((function(e,t){return e+t.bad4}),0),bad5:O.value.reduce((function(e,t){return e+t.bad5}),0),bad6:O.value.reduce((function(e,t){return e+t.bad6}),0),bad7:O.value.reduce((function(e,t){return e+t.bad7}),0),bad8:O.value.reduce((function(e,t){return e+t.bad8}),0),bad9:O.value.reduce((function(e,t){return e+t.bad9}),0),bad10:O.value.reduce((function(e,t){return e+t.bad10}),0),bad11:O.value.reduce((function(e,t){return e+t.bad11}),0),bad12:O.value.reduce((function(e,t){return e+t.bad12}),0),startDate:"--",endDate:"--"}],t=O.value.map((function(e){return n(n({},e),{},{goodPanelRate:"".concat(Number.parseFloat(e.goodPanelRate).toFixed(2),"%"),goodPcsRate:"".concat(Number.parseFloat(e.goodPcsRate).toFixed(2),"%"),failSetRate:"".concat(Number.parseFloat(e.failSetRate).toFixed(2),"%"),failPcsRate:"".concat(Number.parseFloat(e.failPcsRate).toFixed(2),"%")})})),a=[{startCell:"A".concat(t.length+2),endCell:"B".concat(t.length+2),value:"合计"}];g({data:t,header:Q,fileName:"内层良率查询".concat(c().format("YYYY-MM-DD HH:mm:ss"),"导出.xlsx"),ortherData:e,mergeCellsArr:a})}return function(e,n){var l=r,i=v,c=u("STableSummaryCell"),g=u("STableSummaryRow"),j=a;return d(),o("div",t,[s(l,{ref_key:"commonSearchRef",ref:h,searchParams:k.value,"onUpdate:searchParams":n[0]||(n[0]=function(e){return k.value=e}),"form-list":P,"is-search":!0,onSearch:S,onReset:R},null,8,["searchParams"]),s(j,{ref_key:"tableRef",ref:w,searchParams:_.value,"onUpdate:searchParams":n[1]||(n[1]=function(e){return _.value=e}),column:Q,"show-row-selection":!1,"auto-generate-uuid":!0,"summary-fixed":!0,"is-pagination":!1,scroll:{y:"auto"},"is-init-get-data":"",url:"/qms/inOutYieldRate/inOutYieldRateList",onTableDataLoadSucess:F},{title:f((function(){return[s(i,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:D},{icon:f((function(){return[s(y(m))]})),default:f((function(){return[n[2]||(n[2]=x("span",{class:"ml-3px"},"导出",-1))]})),_:1})]})),summary:f((function(){return[s(g,null,{default:f((function(){return[s(c,{index:0,"col-span":2,class:"text-center"},{default:f((function(){return n[3]||(n[3]=[p("总计")])})),_:1}),s(c,{index:2,class:"text-center"},{default:f((function(){return n[4]||(n[4]=[p("--")])})),_:1}),s(c,{index:3,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:4,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:5,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:6,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:7,class:"text-center"},{default:f((function(){return[p(b(I.value),1)]})),_:1}),s(c,{index:8,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:9,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:10,class:"text-center"},{default:f((function(){return[p(b(N.value),1)]})),_:1}),s(c,{index:11,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:12,class:"text-center"},{default:f((function(){return n[5]||(n[5]=[p("--")])})),_:1}),s(c,{index:13,class:"text-center"},{default:f((function(){return n[6]||(n[6]=[p("--")])})),_:1}),s(c,{index:14,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:15,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:16,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:17,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:18,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:19,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:20,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:21,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:22,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:23,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:24,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:25,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:26,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:27,class:"text-center"},{default:f((function(e){var t=e.total;return[p(b(t),1)]})),_:1}),s(c,{index:28,class:"text-center"},{default:f((function(){return n[7]||(n[7]=[p("--")])})),_:1}),s(c,{index:29,class:"text-center"},{default:f((function(){return n[8]||(n[8]=[p("--")])})),_:1})]})),_:1})]})),_:1},8,["searchParams"])])}}}))}}}))}();
