!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){throw new TypeError('"'+e+'" is read-only')}function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return a};var t,a={},r=Object.prototype,l=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function p(e,t,n,a){var r=t&&t.prototype instanceof k?t:k,l=Object.create(r.prototype),o=new j(a||[]);return i(l,"_invoke",{value:O(e,n,o)}),l}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=p;var f="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function k(){}function w(){}function b(){}var x={};d(x,c,(function(){return this}));var I=Object.getPrototypeOf,N=I&&I(I(E([])));N&&N!==r&&l.call(N,c)&&(x=N);var _=b.prototype=k.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function D(t,n){function a(r,i,o,c){var u=h(t[r],t,i);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==e(d)&&l.call(d,"__await")?n.resolve(d.__await).then((function(e){a("next",e,o,c)}),(function(e){a("throw",e,o,c)})):n.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return a("throw",e,o,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,t){function l(){return new n((function(n,r){a(e,t,n,r)}))}return r=r?r.then(l,l):l()}})}function O(e,n,a){var r=f;return function(l,i){if(r===y)throw Error("Generator is already running");if(r===v){if("throw"===l)throw i;return{value:t,done:!0}}for(a.method=l,a.arg=i;;){var o=a.delegate;if(o){var c=L(o,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===f)throw r=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=y;var u=h(e,n,a);if("normal"===u.type){if(r=a.done?v:m,u.arg===g)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(r=v,a.method="throw",a.arg=u.arg)}}}function L(e,n){var a=n.method,r=e.iterator[a];if(r===t)return n.delegate=null,"throw"===a&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var l=h(r,e.iterator,n.arg);if("throw"===l.type)return n.method="throw",n.arg=l.arg,n.delegate=null,g;var i=l.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(n){if(n||""===n){var a=n[c];if(a)return a.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function e(){for(;++r<n.length;)if(l.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(e(n)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=d(b,s,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},a.awrap=function(e){return{__await:e}},C(D.prototype),d(D.prototype,u,(function(){return this})),a.AsyncIterator=D,a.async=function(e,t,n,r,l){void 0===l&&(l=Promise);var i=new D(p(e,t,n,r),l);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(_),d(_,s,"Generator"),d(_,c,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},a.values=E,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&l.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(a,r){return o.type="throw",o.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=l.call(i,"catchLoc"),u=l.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&l.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;T(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:E(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),g}},a}function a(e,t,n,a,r,l,i){try{var o=e[l](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,l){var i=e.apply(t,n);function o(e){a(i,r,l,o,c,"next",e)}function c(e){a(i,r,l,o,c,"throw",e)}o(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(t,n,a){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}System.register(["./table-legacy-BfQK1xrs.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./index-legacy-BH1Y34Mi.js","./board-management-legacy-BFHDS8MD.js","./modal.vue_vue_type_style_index_0_lang-legacy-DP5xhvDE.js","./EditOutlined-legacy-Dr9RC9gg.js","./DeleteOutlined-legacy-BQoR-sCc.js","./DownloadOutlined-legacy-DK9f6hNJ.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js","./index-legacy-JzSJVdOM.js"],(function(e,a){"use strict";var l,o,c,u,s,d,p,h,f,m,y,v,g,k,w,b,x,I,N,_,C,D,O,L,P,T,j,E,R,B,S,Y,U,F,q,M,A;return{setters:[function(e){l=e._},function(e){o=e._},function(e){c=e.r,u=e.o,s=e.c,d=e.w,p=e.f,h=e.g,f=e.a5,m=e.aa,y=e.e,v=e.W,g=e.ah,k=e.ai,w=e.J,b=e.u,x=e.a2,I=e.a3,N=e.i,_=e.X,C=e.h,D=e.B},function(e){O=e.g,L=e.b,P=e.c,T=e.e,j=e.f,E=e.s,R=e.r,B=e.h,S=e.i,Y=e.j,U=e.k},function(e){F=e._},function(e){q=e.E},function(e){M=e.D},function(e){A=e.D},null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".board-management-list-tabs[data-v-0b87d9d6]{height:100%}.board-management-list-tabs[data-v-0b87d9d6] .ant-tabs .ant-tabs-nav{margin-bottom:5px}.board-management-list-tabs[data-v-0b87d9d6] .ant-tabs-content-holder{height:calc(100% - 46px)}.board-management-list-tabs[data-v-0b87d9d6] .ant-tabs-content-holder .ant-tabs-content{height:100%}.popup-item[data-v-2599213a]{cursor:pointer;padding:8px}.popup-item[data-v-2599213a]:hover{background-color:var(--surely-table-row-hover-bg)}.popup-item.disabled[data-v-2599213a]{color:var(--surely-table-disabled-color);cursor:not-allowed}\n",document.head.appendChild(a);var W={class:"h-full min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},G={__name:"select-screen-type",emits:["select"],setup:function(e,t){var n=t.expose,a=t.emit,r=c(!1),i=a,m=c(null),y=c({itemName:null,meshCount:null}),v=[{type:"input",key:"itemName",label:"项目名称",placeholder:"请输入项目名称",span:8},{type:"input",key:"meshCount",label:"网目",placeholder:"请输入网目",span:8}],g=c(null),k=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"itemName",dataIndex:"itemName",title:"项目名称",align:"center",fixed:"left",checked:!0,ellipsis:!0},{key:"deptName",dataIndex:"deptName",title:"使用部门",align:"center",width:100,checked:!0,ellipsis:!0},{key:"meshCount",dataIndex:"meshCount",title:"网目",width:70,align:"center",checked:!0,ellipsis:!0},{key:"totalLive",dataIndex:"totalLive",title:"使用寿命",width:100,align:"center",checked:!0,ellipsis:!0},{key:"totalWc",dataIndex:"totalWc",title:"翻洗次数",width:100,align:"center",checked:!0,ellipsis:!0},{key:"newLower",dataIndex:"newLower",title:"新网张力下限",align:"center",width:120,checked:!0,ellipsis:!0},{key:"newUpper",dataIndex:"newUpper",title:"新网张力上限",align:"center",width:120,checked:!0,ellipsis:!0},{key:"oldUpper",dataIndex:"oldUpper",title:"旧网张力上限",align:"center",width:120,checked:!0,ellipsis:!0},{key:"oldLower",dataIndex:"oldLower",title:"旧网张力下限",align:"center",width:120,checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建人",width:90,align:"center",checked:!0,ellipsis:!0}];function w(){g.value.getData(1)}function b(){f((function(){y.value.itemName=null,y.value.meshCount=null,g.value.getData(1)}))}function x(e){i("select",e),r.value=!1}return n({handleOpen:function(e){y.value.itemName=e,r.value=!0}}),function(e,t){return u(),s(F,{visible:r.value,"onUpdate:visible":t[2]||(t[2]=function(e){return r.value=e}),title:"网板类型列表",height:"80vh",width:"1200px","destroy-on-close":!1,"show-confirm-btn":!1,"cancel-btn-text":"关闭"},{default:d((function(){return[p("div",W,[h(o,{ref_key:"commonSearchRef",ref:m,searchParams:y.value,"onUpdate:searchParams":t[0]||(t[0]=function(e){return y.value=e}),"form-list":v,"is-search":!0,onSearch:w,onReset:b},null,8,["searchParams"]),h(l,{ref_key:"tableRef",ref:g,searchParams:y.value,"onUpdate:searchParams":t[1]||(t[1]=function(e){return y.value=e}),column:k,"row-key":"id","show-row-selection":!1,"auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/qms/scrscreen/scrscreenType/pageList",onTableRowClick:x},null,8,["searchParams"])])]})),_:1},8,["visible"])}}},H={class:"h-full min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},z={__name:"select-module-No",emits:["select"],setup:function(e,t){var n=t.expose,a=t.emit,r=c(!1),i=a,m=c(null),y=c({moduleNo:null}),v=[{type:"input",key:"moduleNo",label:"生产型号",placeholder:"请输入生产型号",span:6}],g=c(null),k=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0},{key:"pnType",dataIndex:"pnType",title:"型号类型",align:"center",checked:!0,ellipsis:!0},{key:"custProdNo",dataIndex:"custProdNo",title:"客户类型",align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"创建时间",width:170,align:"center",checked:!0,ellipsis:!0}];function w(){g.value.getData(1)}function b(){f((function(){y.value.itemName=null,y.value.meshCount=null,w()}))}function x(e){i("select",e),r.value=!1}return n({handleOpen:function(e){y.value.moduleNo=e,r.value=!0}}),function(e,t){return u(),s(F,{visible:r.value,"onUpdate:visible":t[2]||(t[2]=function(e){return r.value=e}),title:"生产型号列表",height:"80vh",width:"1200px","destroy-on-close":!1,"show-confirm-btn":!1,"cancel-btn-text":"关闭"},{default:d((function(){return[p("div",H,[h(o,{ref_key:"commonSearchRef",ref:m,searchParams:y.value,"onUpdate:searchParams":t[0]||(t[0]=function(e){return y.value=e}),"form-list":v,"is-search":!0,onSearch:w,onReset:b},null,8,["searchParams"]),h(l,{ref_key:"tableRef",ref:g,searchParams:y.value,"onUpdate:searchParams":t[1]||(t[1]=function(e){return y.value=e}),column:k,"row-key":"id","show-row-selection":!1,"auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/qms/scrscreen/screenInfo/modulePageList",onTableRowClick:x},null,8,["searchParams"])])]})),_:1},8,["visible"])}}},$={class:"h-full w-full"},K={__name:"add",props:{rowData:{type:Object,default:function(){return null}}},setup:function(e,t){var a=t.expose,l=e,o=c(null),s=c(null),d=c([]),p=c([]),f=c([]),g=c(null),k=c(function(){if(l.rowData)return l.rowData;return{frame:null,frameNo:null,moduleNo:null,toolModel:null,dateCode:null,screenTypeName:null,screenTypeId:null,meshCount:null,totalLive:null,totalWc:null,usageProcess:null,face:null,locationName:null,location:null,locationId:null,useCount:null,washCount:null,tensionA:null,tensionB:null,tensionC:null,tensionD:null,tensionE:null,makeDate:m().format("YYYY-MM-DD HH:mm:ss"),makeBy:null,remark:null}}());function w(){L(k.value.moduleNo).then((function(e){var t=e.data;e.error||(f.value=t.map((function(e){return i(i({},e),{},{label:e.techName,value:e.techName})})))}))}function b(){return(b=r(n().mark((function e(){var t,a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},l.rowData&&(t.frameNo=l.rowData.frameNo),e.next=4,P(t);case 4:a=e.sent,r=a.data,a.error||(d.value=r.map((function(e){return i(i({},e),{},{label:"".concat(e.frameName),value:e.frameNo})})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O().then((function(e){var t,n=e.data;e.error||(p.value=null===(t=n.list)||void 0===t?void 0:t.map((function(e){return i(i({},e),{},{label:e.locationName,value:e.locationName})})))})),function(){b.apply(this,arguments)}(),l.rowData&&w();var x=[{label:"网框编码",key:"frameNo",span:12,type:"select",placeholder:"请输入网框编码",search:!0,selectOptions:d},{label:"生产型号",key:"moduleNo",span:12,type:"input",className:"cursor-pointer",placeholder:"请选择生产型号",readonly:!0,rule:[{required:!0,message:"请选择生产型号",trigger:"change"}],click:function(){s.value.handleOpen(k.value.moduleNo)}},{label:"周期",key:"dateCode",span:12,type:"input",placeholder:"请输入周期"},{label:"网板类型",key:"screenTypeName",span:12,type:"input",readonly:!0,placeholder:"请选择网板类型",className:"cursor-pointer",click:function(){o.value.handleOpen(k.value.screenTypeName)}},{label:"网纱T数",key:"meshCount",span:12,disabled:!0,type:"input"},{label:"使用寿命",key:"totalLive",span:12,disabled:!0,type:"input"},{label:"最大翻洗次数",key:"totalWc",span:12,disabled:!0,type:"input"},{label:"使用工艺",key:"techName",span:12,type:"select",search:!0,placeholder:"请选择使用工艺",selectOptions:f,change:function(e){k.value.techId=f.value.find((function(t){return t.label===e})).techId}},{label:"面向",key:"face",span:12,type:"dictionary",selectType:"select",showSearch:!0,placeholder:"请选择面向",dictCode:"board_facing"},{label:"存放区域",key:"locationName",span:12,type:"select",placeholder:"请选择存放区域",search:!0,selectOptions:p,change:function(){k.value.locationId=p.value.find((function(e){return e.label===k.value.locationName})).locationId}},{label:"印次",key:"useCount",span:12,type:"input",placeholder:"请输入印次"},{label:"A点张力",key:"tensionA",span:12,type:"input",placeholder:"请选择A点张力"},{label:"B点张力",key:"tensionB",span:12,type:"input",placeholder:"请选择B点张力"},{label:"C点张力",key:"tensionC",span:12,type:"input",placeholder:"请选择C点张力"},{label:"D点张力",key:"tensionD",span:12,type:"input",placeholder:"请选择D点张力"},{label:"E点张力",key:"tensionE",span:12,type:"input",placeholder:"请选择E点张力"},{label:"制作时间",key:"makeDate",span:12,type:"datePicker",placeholder:"请选择制作时间",showTime:!0},{label:"制作人",key:"makeBy",span:12,type:"dictionary",selectType:"select",showSearch:!0,placeholder:"请选择制作人",dictCode:"board_maker",rule:[{required:!0,message:"请选择制作人",trigger:"change"}]},{label:"备注",key:"remark",span:24,type:"textarea",placeholder:"请输入备注"}];function I(e){k.value.screenTypeName=e.itemName,k.value.screenTypeId=e.screenTypeId,k.value.meshCount=e.meshCount,k.value.totalLive=e.totalLive,k.value.totalWc=e.totalWc}function N(e){k.value.moduleNo=e.moduleNo,k.value.techName=null,w()}function _(){return(_=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.value.validateForm();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a({model:k.value,validateForm:function(){return _.apply(this,arguments)}}),function(e,t){var n=v;return u(),y("div",$,[h(n,{ref_key:"formRef",ref:g,model:k.value,"onUpdate:model":t[0]||(t[0]=function(e){return k.value=e}),"form-list":x},null,8,["model"]),h(G,{ref_key:"selectScreenTypeRef",ref:o,onSelect:I},null,512),h(z,{ref_key:"selectModuleNoRef",ref:s,onSelect:N},null,512)])}}},J=w({__name:"record-list",props:{rowData:{type:Object,default:function(){return null}}},setup:function(e){var n=e,a=c("1"),r=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"screenNo",dataIndex:"screenNo",title:"网板编号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"recDate",dataIndex:"recDate",title:"领取日期",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return m(t.recDate).format("YYYY-MM-DD HH:mm:ss")}},{key:"recBy",dataIndex:"recBy",title:"领取人",align:"center",checked:!0,ellipsis:!0},{key:"recRemark",dataIndex:"recRemark",title:"备注",align:"center",checked:!0,ellipsis:!0}],i=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"lotId",dataIndex:"lotId",title:"LOT号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"screenNo",dataIndex:"screenNo",title:"网板编号",align:"center",checked:!0,ellipsis:!0,width:180},{key:"userCount",dataIndex:"userCount",title:"使用次数",align:"center",checked:!0,ellipsis:!0},{key:"totalCount",dataIndex:"totalCount",title:"累计次数",align:"center",checked:!0,ellipsis:!0},{key:"useBy",dataIndex:"useBy",title:"使用人",align:"center",checked:!0,ellipsis:!0},{key:"useDate",dataIndex:"useDate",title:"使用时间",align:"center",checked:!0,ellipsis:!0,width:180},{key:"useRemark",dataIndex:"useRemark",title:"备注",align:"center",checked:!0,ellipsis:!0}],o=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"screenNo",dataIndex:"screenNo",title:"网板编号",align:"center",checked:!0,ellipsis:!0,width:150},{key:"locationName",dataIndex:"locationName",title:"归还仓位",align:"center",checked:!0,ellipsis:!0},{key:"inBy",dataIndex:"inBy",title:"归还人",align:"center",checked:!0,ellipsis:!0},{key:"inDate",dataIndex:"inDate",title:"归还时间",align:"center",checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return m(t.inDate).format("YYYY-MM-DD HH:mm:ss")}},{key:"inRemark",dataIndex:"inRemark",title:"备注",align:"center",checked:!0,ellipsis:!0}],p={recordType:0,screenNo:n.rowData.screenNo},f={recordType:1,screenNo:n.rowData.screenNo},y={recordType:2,screenNo:n.rowData.screenNo};return function(e,n){var c=l,m=g,v=k;return u(),s(v,{activeKey:a.value,"onUpdate:activeKey":n[3]||(n[3]=function(e){return a.value=e}),class:"board-management-list-tabs"},{default:d((function(){return[h(m,{key:"1",tab:"领取记录"},{default:d((function(){return[h(c,{searchParams:p,"onUpdate:searchParams":n[0]||(n[0]=function(e){return t("claimRecord")}),column:r,"row-key":"recordId","show-row-selection":!1,"auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/qms/scrscreen/bindRecord/pageList"})]})),_:1}),h(m,{key:"2",tab:"使用记录"},{default:d((function(){return[h(c,{searchParams:f,"onUpdate:searchParams":n[1]||(n[1]=function(e){return t("useRecord")}),column:i,"row-key":"recordId","show-row-selection":!1,"auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/qms/scrscreen/bindRecord/pageList"})]})),_:1}),h(m,{key:"3",tab:"归还记录"},{default:d((function(){return[h(c,{searchParams:y,"onUpdate:searchParams":n[2]||(n[2]=function(e){return t("returnRecord")}),column:o,"row-key":"recordId","show-row-selection":!1,"auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",class:"h-full",url:"/qms/scrscreen/bindRecord/pageList"})]})),_:1})]})),_:1},8,["activeKey"])}}},[["__scopeId","data-v-0b87d9d6"]]),X={class:"board-management-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},Q=["onClick"],V=["onClick"],Z=["onClick"],ee=["onClick"],te=["onClick"],ne=["onClick"],ae=Object.assign({name:"workwear_board-management"},{__name:"index",setup:function(e){var t=b(),a=window.$useModal,v=c(null),g=c({state:null,moduleNo:null,frameNo:null,screenTypeName:null}),k=[{label:"入库",value:"0"},{label:"领取",value:"1"},{label:"使用",value:"2"}],w=[{type:"select",key:"state",label:"状态",placeholder:"请选择状态",span:24,md:12,lg:8,xl:8,xxl:4,selectOptions:k},{type:"input",key:"moduleNo",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:4},{type:"input",key:"frameNo",label:"网框编码",placeholder:"请输入网框编码",span:24,md:12,lg:8,xl:8,xxl:4},{type:"input",key:"screenTypeName",label:"网板类型",placeholder:"请输入网板类型",span:24,md:12,lg:8,xl:8,xxl:4}],O=c(null),L=c(null),P=a({modalOption:{width:"1250px",height:"70vh",title:"记录",destroyOnClose:!0,cancelBtnText:"关闭",showConfirmBtn:!1},component:function(){return h(J,{"row-data":L.value},null)}}).handleShow;function F(e){L.value=e,P()}var W=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"screenNo",dataIndex:"screenNo",title:"网板编码",align:"center",checked:!0,fixed:"left",ellipsis:!0,width:160},{key:"frameNo",dataIndex:"frameNo",title:"网框编码",align:"center",checked:!0,ellipsis:!0,fixed:"left",width:100},{key:"moduleNo",dataIndex:"moduleNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,fixed:"left",width:150},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0,width:150},{key:"state",dataIndex:"state",title:"状态",align:"center",checked:!0,ellipsis:!0,width:70,customRender:function(e){var t,n=e.record;return(null===(t=k[Number(n.state)])||void 0===t?void 0:t.label)||""}},{key:"pntType",dataIndex:"pntType",title:"型号类型",align:"center",checked:!0,ellipsis:!0,width:75},{key:"screenTypeName",dataIndex:"screenTypeName",title:"网板类型",align:"center",checked:!0,ellipsis:!0,width:100},{key:"face",dataIndex:"face",title:"面向",align:"center",checked:!0,ellipsis:!0,width:75},{key:"dateCode",dataIndex:"dateCode",title:"周期",align:"center",checked:!0,ellipsis:!0,width:75},{key:"meshCount",dataIndex:"meshCount",title:"网纱T数",align:"center",checked:!0,ellipsis:!0,width:75},{key:"locationName",dataIndex:"locationName",title:"存放区域",align:"center",checked:!0,ellipsis:!0,width:100},{key:"techName",dataIndex:"techName",title:"使用工艺",align:"center",checked:!0,ellipsis:!0,width:100},{key:"totalLive",dataIndex:"totalLive",title:"使用寿命",align:"center",checked:!0,ellipsis:!0,width:75},{key:"useCount",dataIndex:"useCount",title:"印次",align:"center",checked:!0,ellipsis:!0,width:75},{key:"tensionA",dataIndex:"tensionA",title:"A点张力",align:"center",checked:!0,ellipsis:!0,width:75},{key:"tensionB",dataIndex:"tensionB",title:"B点张力",align:"center",checked:!0,ellipsis:!0,width:75},{key:"tensionC",dataIndex:"tensionC",title:"C点张力",align:"center",checked:!0,ellipsis:!0,width:75},{key:"tensionD",dataIndex:"tensionD",title:"D点张力",align:"center",checked:!0,ellipsis:!0,width:75},{key:"tensionE",dataIndex:"tensionE",title:"E点张力",align:"center",checked:!0,ellipsis:!0,width:75},{key:"totalWc",dataIndex:"totalWc",title:"最大翻洗次数",align:"center",checked:!0,ellipsis:!0,width:110},{key:"makeBy",dataIndex:"makeBy",title:"制作人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"makeDate",dataIndex:"makeDate",title:"制作日期",align:"center",checked:!0,ellipsis:!0,width:150},{key:"recBy",dataIndex:"recBy",title:"领取人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"recDate",dataIndex:"recDate",title:"领取日期",align:"center",checked:!0,ellipsis:!0,width:150},{key:"inBy",dataIndex:"inBy",title:"入库人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"inDate",dataIndex:"inDate",title:"入库日期",align:"center",checked:!0,ellipsis:!0,width:150},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",checked:!0,ellipsis:!0,width:150},{key:"updateBy",dataIndex:"updateBy",title:"修改人",align:"center",checked:!0,ellipsis:!0,width:100},{key:"updateDate",dataIndex:"updateDate",title:"修改时间",align:"center",checked:!0,ellipsis:!0,width:150}];function G(){O.value.getData(1)}function H(){f((function(){g.value={state:null,moduleNo:null,frameNo:null,screenTypeName:null},G()}))}var z=c([]);function $(e){z.value=e}var ae,re=c(null),le=c(null),ie=c("add"),oe=a({modalOption:{width:"800px",height:"650px",destroyOnClose:!0,title:"新增网板"},component:function(){return h(K,{ref:le,rowData:re.value},null)},onOk:(ae=r(n().mark((function e(){var t,a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i({},le.value),e.next=3,t.validateForm();case 3:if(ue(!0),e.prev=4,a=i({},t.model),"add"!==ie.value){e.next=12;break}return e.next=9,T(a);case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,j(i({},a));case 14:r=e.sent;case 15:return e.next=17,r;case 17:e.sent.error||(window.$message.success("操作成功"),ce(),G());case 20:return e.prev=20,ue(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,,20,23]])}))),function(){return ae.apply(this,arguments)})}),ce=oe.handleClose,ue=oe.handleLoading,se=oe.handleShow,de=oe.updateModalOptions;function pe(e){re.value=e,e?(ie.value="edit",de({title:"修改网板"})):(ie.value="add",de({title:"新增网板"})),se()}var he=c(null),fe=a({modalOption:{title:"报废网板",width:"600px",height:"300px",destroyOnClose:!0},formData:{scrapReason:null},formList:[{type:"dictionary",key:"scrapReason",label:"报废原因",dictCode:"board_cause_cancellation",selectType:"select",rule:{required:!0,message:"请选择报废原因",trigger:"blur"},placeholder:"请选择报废原因",span:24}],onOk:function(e){var n=[],a={scrapBy:t.userInfo.user.nickName||t.userInfo.user.userName,scrapDate:m().format("YYYY-MM-DD HH:mm:ss")};n=he.value?[i(i({},he.value),{},{scrapReason:e.scrapReason},a)]:z.value.map((function(t){return i(i({},t),{},{scrapReason:e.scrapReason},a)})),ye(!0),E(n).then((function(e){e.error||(window.$message.success("报废成功"),L.value=null,me(),G())})).finally((function(){ye(!1)}))},onCancel:function(){}}),me=fe.handleClose,ye=fe.handleLoading,ve=fe.handleShow;function ge(e){ve(),he.value=e}var ke=c(null),we=a({modalOption:{title:"网板领取",width:"600px",height:"330px",destroyOnClose:!0},formData:{operator:null,remark:null},formList:[{type:"dictionary",key:"operator",label:"领取人",span:24,placeholder:"请选择领取人",dictCode:"board_rec_return",selectType:"select"},{type:"textarea",key:"remark",label:"备注",span:24}],onOk:function(e){var t=[];t=ke.value?[i(i({},ke.value),e)]:z.value.map((function(t){return i(i({},t),e)})),xe(!0),R(t).then((function(e){e.error||(window.$message.success("领取成功"),L.value=null,be(),G())})).finally((function(){xe(!1)}))}}),be=we.handleClose,xe=we.handleLoading,Ie=we.handleShow;function Ne(e){Ie(),ke.value=e}var _e=c([]);S().then((function(e){var t=e.data;e.error||(_e.value=t.map((function(e){return{value:e.locationId,label:e.locationName}})))}));var Ce=c(null),De=c(null),Oe=a({modalOption:{title:"网板归还",width:"600px",height:"330px",destroyOnClose:!0},formData:{operator:null,remark:null,location:null,locationId:null},formList:[{type:"dictionary",key:"operator",label:"归还人",span:24,placeholder:"请选择归还人",dictCode:"board_rec_return",selectType:"select"},{type:"select",key:"locationId",label:"网板仓位",span:24,placeholder:"请选择网板仓位",rule:{required:!0,message:"请选择网板仓位",trigger:"blur"},selectOptions:_e,change:function(e){var t;De.value=null===(t=_e.value.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}},{type:"textarea",key:"remark",label:"备注",span:24}],onOk:function(e){var t=[];t=Ce.value?[i(i(i({},Ce.value),e),{},{locationName:De.value})]:z.value.map((function(t){return i(i(i({},t),e),{},{locationName:De.value})})),Pe(!0),B(t).then((function(e){e.error||(window.$message.success("归还成功"),L.value=null,De.value=null,Le(),G())})).finally((function(){Pe(!1)}))}}),Le=Oe.handleClose,Pe=Oe.handleLoading,Te=Oe.handleShow;function je(e){Te(),Ce.value=e}function Ee(e){var t;t=h("div",null,e?[C("确定"),h("span",{class:"color-red font-bold"},[C("删除")]),C('网板编号为"'),h("span",{class:"color-blue font-bold"},[e.screenNo]),C('"的记录吗？')]:[C("确定将所勾选的项进行"),h("span",{class:"color-red font-bold"},[C("删除")]),C("操作吗？")]),window.$modal.confirm({title:t,onOk:function(){var t=[];t=e?[e]:z.value,Y(t).then((function(e){e.error||(window.$message.success("删除成功"),G())}))},onCancel:function(){}})}function Re(e,t){switch(t){case"add":pe();break;case"edit":pe(e.record);break;case"scrap":ge(e.record);break;case"del":Ee(e.record);break;case"record":F(e.record);break;case"rec":Ne(e.record);break;case"return":je(e.record)}e.hidePopup()}function Be(e){return null!==e.useCount&&void 0!==e.useCount&&null!==e.totalLive&&void 0!==e.totalLive&&e.useCount>=.9*Number(e.totalLive)?{backgroundColor:"#EFEF88"}:{}}var Se=function(e){return{style:Be(e)}};return function(e,t){var n=o,a=D,r=l,i=x("hasAuth");return u(),y("div",X,[h(n,{ref_key:"commonSearchRef",ref:v,searchParams:g.value,"onUpdate:searchParams":t[0]||(t[0]=function(e){return g.value=e}),"form-list":w,"is-search":!0,onSearch:G,onReset:H},null,8,["searchParams"]),h(r,{ref_key:"tableRef",ref:O,searchParams:g.value,"onUpdate:searchParams":t[8]||(t[8]=function(e){return g.value=e}),column:W,"show-row-selection":"","auto-generate-uuid":"","row-key":"screenId",scroll:{y:"auto"},"is-init-get-data":"",url:"/qms/scrscreen/screenInfo/pageList","table-custom-row":Se,onTableSelectChange:$,onTableRowDblclick:F},{title:d((function(){return[I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[1]||(t[1]=function(e){return pe(null)})},{icon:d((function(){return[h(N(_),{class:"align-sub"})]})),default:d((function(){return[t[9]||(t[9]=C(" 新增 "))]})),_:1})),[[i,["workwear:board-management:add"]]]),I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:1!=z.value.length,onClick:t[2]||(t[2]=function(e){return pe(z.value[0])})},{icon:d((function(){return[h(N(q),{class:"align-sub"})]})),default:d((function(){return[t[10]||(t[10]=C(" 修改 "))]})),_:1},8,["disabled"])),[[i,["workwear:board-management:update"]]]),I((u(),s(a,{type:"primary",danger:"",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!z.value.length,onClick:t[3]||(t[3]=function(e){return Ee()})},{icon:d((function(){return[h(N(M),{class:"align-sub"})]})),default:d((function(){return[t[11]||(t[11]=C(" 批量删除 "))]})),_:1},8,["disabled"])),[[i,["workwear:board-management:delete"]]]),I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!z.value.length,onClick:t[4]||(t[4]=function(e){return ge()})},{icon:d((function(){return t[12]||(t[12]=[p("em",{class:"iconfont icon-baofei align-sub"},null,-1)])})),default:d((function(){return[t[13]||(t[13]=C(" 批量报废 "))]})),_:1},8,["disabled"])),[[i,["workwear:board-management:scrap"]]]),I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!z.value.length,onClick:t[5]||(t[5]=function(e){return Ne()})},{icon:d((function(){return t[14]||(t[14]=[p("em",{class:"iconfont icon-lingqu align-sub"},null,-1)])})),default:d((function(){return[t[15]||(t[15]=C(" 批量领取 "))]})),_:1},8,["disabled"])),[[i,["workwear:board-management:rec"]]]),I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!z.value.length,onClick:t[6]||(t[6]=function(e){return je()})},{icon:d((function(){return t[16]||(t[16]=[p("em",{class:"iconfont icon-guihuan align-sub"},null,-1)])})),default:d((function(){return[t[17]||(t[17]=C(" 批量归还 "))]})),_:1},8,["disabled"])),[[i,["workwear:board-management:return"]]]),I((u(),s(a,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:t[7]||(t[7]=function(e){U(g.value)})},{icon:d((function(){return[h(N(A),{class:"align-sub"})]})),default:d((function(){return[t[18]||(t[18]=C(" 导出 "))]})),_:1})),[[i,["workwear:board-management:download"]]])]})),"contextmenuPopup-orter":d((function(e){var n=e.args;return[I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"add")}},[h(N(_)),t[19]||(t[19]=C(" 新增 "))],8,Q)),[[i,["workwear:board-management:add"]]]),I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"edit")}},[h(N(q)),t[20]||(t[20]=C(" 修改 "))],8,V)),[[i,["workwear:board-management:update"]]]),I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"del")}},[h(N(M)),t[21]||(t[21]=C(" 删除 "))],8,Z)),[[i,["workwear:board-management:delete"]]]),I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"scrap")}},t[22]||(t[22]=[p("em",{class:"iconfont icon-baofei"},null,-1),C(" 报废 ")]),8,ee)),[[i,["workwear:board-management:scrap"]]]),I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"rec")}},t[23]||(t[23]=[p("em",{class:"iconfont icon-lingqu"},null,-1),C(" 领取 ")]),8,te)),[[i,["workwear:board-management:rec"]]]),I((u(),y("li",{class:"popup-item",onClick:function(e){return Re(n,"return")}},t[24]||(t[24]=[p("em",{class:"iconfont icon-guihuan"},null,-1),C(" 归还 ")]),8,ne)),[[i,["workwear:board-management:return"]]])]})),footer:d((function(){return t[25]||(t[25]=[p("div",{class:"flex gap-15px"},[p("div",{class:"mt5px flex line-height-14px"},[p("div",{class:"h14px w14px bg-#EFEF88"}),p("span",null,"背景为网板使用寿命≥90%")])],-1)])})),_:1},8,["searchParams"])])}}});e("default",w(ae,[["__scopeId","data-v-2599213a"]]))}}}))}();
