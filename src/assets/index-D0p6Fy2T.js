import{_ as e}from"./table-DoFSI9NT.js";import{_ as t}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{r as l,b as a,aa as i,o as n,e as s,g as d,a5 as r}from"./index-B3PZsRwT.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const o={class:"code-whitelist-page jl-main-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},c=Object.assign({name:"collection-management_dragon-alarm-query"},{__name:"index",setup(c){const u=l(null),m=l(null),p=l({moduleNo:null,lotId:null,pnlId:null,time:null}),h=[{type:"input",key:"subEqpName",label:"设备名称",span:24,md:12,lg:10,xl:8,xxl:6,placeholder:"请输入设备名称",showTime:!0},{type:"input",key:"lotNo",label:"批次号",span:24,md:12,lg:10,xl:8,xxl:6,placeholder:"请输入批次号",showTime:!0},{type:"dateRangePicker",key:"time",label:"报警日期",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],x=a((()=>{var e,t;const l={...p.value};return(null==(t=null==(e=p.value)?void 0:e.time)?void 0:t[0])&&(l.startTime=i(p.value.time[0]).format("YYYY-MM-DD"),l.endTime=i(p.value.time[0]).format("YYYY-MM-DD")),delete l.time,l})),f=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"fullProdNo",dataIndex:"fullProdNo",title:" 生产型号",width:150,align:"center",checked:!0,ellipsis:!0,fixed:"left"},{key:"lotNo",dataIndex:"lotNo",title:"批次号",width:150,align:"center",checked:!0,ellipsis:!0,fixed:"left"},{key:"subEqpName",dataIndex:"subEqpName",title:"设备名称",width:150,align:"center",checked:!0,ellipsis:!0,fixed:"left"},{key:"dateTime",dataIndex:"dateTime",title:"报警时间",width:170,align:"center",checked:!0,ellipsis:!0,fixed:"left"},{key:"alarmId",dataIndex:"alarmId",title:"报警ID",width:130,align:"center",checked:!0,ellipsis:!0,fixed:"left"},{key:"alarmText",dataIndex:"alarmText",title:"报警信息",width:300,align:"center",checked:!0,ellipsis:!0},{key:"prodOrderNo",dataIndex:"prodOrderNo",title:"工单",align:"center",width:150,checked:!0,ellipsis:!0},{key:"custName",dataIndex:"custName",title:"客户名称",align:"center",width:250,checked:!0,ellipsis:!0},{key:"custNo",dataIndex:"custNo",title:"客户编码",align:"center",width:150,checked:!0,ellipsis:!0},{key:"custProdNo",dataIndex:"custProdNo",title:"客户型号",align:"center",width:230,checked:!0,ellipsis:!0}];function g(){m.value.getData(1)}function k(){r((()=>{p.value={subEqpName:null,lotNo:null,time:null},g()}))}return(l,a)=>{const i=t,r=e;return n(),s("div",o,[d(i,{ref_key:"commonSearchRef",ref:u,searchParams:p.value,"onUpdate:searchParams":a[0]||(a[0]=e=>p.value=e),"form-list":h,"is-search":!0,onSearch:g,onReset:k},null,8,["searchParams"]),d(r,{ref_key:"tableRef",ref:m,searchParams:x.value,"onUpdate:searchParams":a[1]||(a[1]=e=>x.value=e),column:f,"show-row-selection":!1,"auto-generate-uuid":!0,scroll:{y:"auto"},"is-init-get-data":"",url:"eap/xueLong/codingAlarmInfo/list"},null,8,["searchParams"])])}}});export{c as default};
