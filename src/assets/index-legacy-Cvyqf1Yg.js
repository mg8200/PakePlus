!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(t,n,l){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var l=t[Symbol.toPrimitive];if(void 0!==l){var a=l.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}System.register(["./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./table-legacy-BfQK1xrs.js","./printed-code-legacy-Bpf3tG2Z.js","./index-legacy-BH1Y34Mi.js","./index-legacy-JzSJVdOM.js","./api-legacy-B6UkH1eb.js"],(function(e,t){"use strict";var l,a,r,o,u,i,c,d,s,f,p,m,v,h,y,x,g,b,w,k,_,I,j,S,N,O,P,C,D,Y,T,M,U;return{setters:[function(e){l=e._},function(e){a=e._},function(e){r=e.c},function(e){o=e.d,u=e.K,i=e.L,c=e.o,d=e.c,s=e.w,f=e.g,p=e.f,m=e.s,v=e.h,h=e.t,y=e.I,x=e.v,g=e.N,b=e.ad,w=e.ae,k=e.M,_=e.O,I=e.B,j=e.P,S=e.Q,N=e.F,O=e.r,P=e.b,C=e.a5,D=e.af,Y=e.S,T=e.e,M=e.ac},function(e){U=e.C},null],execute:function(){var t={class:"w-full flex"},q={class:"flex"},E={class:"w-full flex-y-center justify-end gap-12px"},R={class:"ml-3px"},L={class:"ml-3px"},z=o({__name:"search",props:{model:{required:!0},modelModifiers:{}},emits:u(["search"],["update:model"]),setup:function(e,n){var l=n.emit,a=i(e,"model");function r(){l("search",a.value)}function o(){a.value={prodNo:null,lotNo:null,printState:null,time:null},l("search",a.value)}return function(e,n){var l=y,u=x,i=g,O=b,P=w,C=k,D=_,Y=I,T=j,M=S,z=N,K=U;return c(),d(K,{title:null,bordered:!1,class:"search-card card-wrapper"},{default:s((function(){return[f(z,{ref:"formRef",model:a.value,"label-col":{span:5,md:7},class:"search-form"},{default:s((function(){return[p("div",t,[f(M,{gutter:[15,8],wrap:"",class:"w-full"},{default:s((function(){return[f(i,{span:24,md:12,lg:6,xl:6,xxl:4},{default:s((function(){return[f(u,{label:"生产批号",name:"lotNo",class:"m-0","label-col":{}},{default:s((function(){return[f(l,{value:a.value.lotNo,"onUpdate:value":n[0]||(n[0]=function(e){return a.value.lotNo=e}),placeholder:"请输入生产批号",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:m(r,["enter"])},null,8,["value"])]})),_:1})]})),_:1}),f(i,{span:24,md:12,lg:6,xl:6,xxl:4},{default:s((function(){return[f(u,{label:"生产型号",name:"prodNo",class:"m-0","label-col":{}},{default:s((function(){return[f(l,{value:a.value.prodNo,"onUpdate:value":n[1]||(n[1]=function(e){return a.value.prodNo=e}),placeholder:"请输入生产型号",class:"min-form-control","allow-clear":"",autocomplete:"off",onKeypress:m(r,["enter"])},null,8,["value"])]})),_:1})]})),_:1}),f(i,{span:24,md:12,lg:6,xl:6,xxl:4},{default:s((function(){return[f(u,{label:"打码状态",name:"model",class:"m-0","label-col":{}},{default:s((function(){return[f(P,{value:a.value.printState,"onUpdate:value":n[2]||(n[2]=function(e){return a.value.printState=e}),placeholder:"请选择打码状态",class:"min-form-control","allow-clear":""},{default:s((function(){return[f(O,{value:"已打码"},{default:s((function(){return n[4]||(n[4]=[v("已打码")])})),_:1}),f(O,{value:"已打码未完成"},{default:s((function(){return n[5]||(n[5]=[v("已打码未完成")])})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1}),f(i,{span:24,md:12,lg:6,xl:6,xxl:4},{default:s((function(){return[f(u,{label:"日期",name:"model",class:"m-0","label-col":{}},{default:s((function(){return[f(C,{value:a.value.time,"onUpdate:value":n[3]||(n[3]=function(e){return a.value.time=e}),"value-format":"YYYY-MM-DD",class:"min-form-control"},null,8,["value"])]})),_:1})]})),_:1}),p("div",q,[f(u,{class:"m-0"},{default:s((function(){return[p("div",E,[f(Y,{type:"primary",ghost:"",class:"mini-btn",onClick:r},{icon:s((function(){return[f(D,{class:"align-sub text-icon"})]})),default:s((function(){return[p("span",R,h(e.$t("common.search")),1)]})),_:1}),f(Y,{class:"mini-btn",onClick:o},{icon:s((function(){return[f(T,{class:"align-sub text-icon"})]})),default:s((function(){return[p("span",L,h(e.$t("common.reset")),1)]})),_:1})])]})),_:1})])]})),_:1})])]})),_:1},8,["model"])]})),_:1})}}}),K={class:"jl-main-page outer-printed-code h-full h-full min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};e("default",o(n(n({},{name:"code-management_x-ray-inside-out-search"}),{},{__name:"index",setup:function(e){var t=O({prodNo:null,lotNo:null,printState:null,time:null}),o=O(null),u=O([{key:"index",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0},{key:"lotId",dataIndex:"lotId",title:"生产批号",width:150,align:"center",checked:!0,ellipsis:!0},{key:"productName",dataIndex:"productName",title:"产品型号",width:140,align:"center",checked:!0,ellipsis:!0},{key:"qty",dataIndex:"qty",title:"批次数量",width:80,align:"center",checked:!0,ellipsis:!0},{key:"printCount",dataIndex:"printCount",title:"打码数量",width:80,align:"center",checked:!0,ellipsis:!0},{key:"printedCodeState",dataIndex:"printedCodeState",title:"打码状态",width:115,align:"center",checked:!0,ellipsis:!0},{key:"customerCode",dataIndex:"customerCode",title:"客户代码",width:100,align:"center",checked:!0,ellipsis:!0},{key:"customerName",dataIndex:"customerName",title:"客户名称",width:200,align:"center",checked:!0,ellipsis:!0},{key:"createTime",dataIndex:"createTime",title:"下发时间",width:180,align:"center",checked:!0,ellipsis:!0}]);function i(){C((function(){t.value={prodNo:null,lotNo:null,printState:null,time:null},d()}))}function d(){o.value.getData(1)}var p=O(!1),m=O([]),v=O([{key:"index",dataIndex:"index",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"pnlId",dataIndex:"pnlId",title:"外层曝光码",width:180,align:"center",checked:!0,ellipsis:!0},{key:"printStatus",dataIndex:"printStatus",title:"是否打码",width:100,align:"center",checked:!0,ellipsis:!0},{key:"printedTime",dataIndex:"printedTime",title:"打码时间",width:180,align:"center",checked:!0,ellipsis:!0},{key:"eqpId",dataIndex:"eqpId",title:"打码设备",width:130,align:"center",checked:!0,ellipsis:!0},{key:"innerCode",dataIndex:"innerCode",title:"内层PNL码",width:200,align:"center",checked:!0,ellipsis:!0}]);function h(e){p.value=!0,r(e).then((function(e){var t=e.data;e.error||(t.forEach((function(e,t){e.index=t+1})),m.value=t)})).finally((function(){return p.value=!1}))}function y(e){h(e.lotId)}function x(e){h(e[0].lotId),o.value.setCurrentRowId(e[0])}var b=P((function(){var e,l=n({},t.value);return null!==(e=t.value)&&void 0!==e&&null!==(e=e.time)&&void 0!==e&&e[0]&&(l.startTime=dayjs(t.value.time[0]).format("YYYY-MM-DD"),l.endTime=dayjs(t.value.time[0]).format("YYYY-MM-DD")),delete l.time,l})),w=O(42);return window.addEventListener("resize",(function(){C((function(){var e=document.querySelector(".outer-printed-code .search-box"),t=null==e?void 0:e.clientHeight;w.value=t||42}))})),D((function(){window.removeEventListener("resize",(function(){}))})),function(e,n){var r=a,h=g,k=l,_=Y("STable"),I=U,j=S;return c(),T("div",K,[f(z,{model:t.value,"onUpdate:model":n[0]||(n[0]=function(e){return t.value=e}),class:"search-box",onReset:i,onSearch:d},null,8,["model"]),f(j,{gutter:[15,8],wrap:"",class:"w-full",style:M({height:"calc(100% - ".concat(w.value,"px)")})},{default:s((function(){return[f(h,{span:12,class:"h-full"},{default:s((function(){return[f(r,{ref_key:"tableRef",ref:o,searchParams:b.value,"onUpdate:searchParams":n[1]||(n[1]=function(e){return b.value=e}),column:u.value,"show-row-selection":!1,"auto-generate-uuid":!1,"row-key":"lotId",scroll:{y:"auto"},"is-init-get-data":"",url:"/mes/printCode/outer/inner/list",class:"h-full",onTableRowClick:y,onTableDataLoadSucess:x},null,8,["searchParams","column"])]})),_:1}),f(h,{span:24,md:24,lg:24,xl:12,xxl:12,class:"h-fullmin-h-500px h-full flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},{default:s((function(){return[f(I,{bordered:!1,"body-style":{flex:1,overflow:"hidden"},class:"table-card h-full flex-col-stretch sm:flex-1-hidden card-wrapper"},{extra:s((function(){return[f(k,{columns:v.value,"onUpdate:columns":n[2]||(n[2]=function(e){return v.value=e})},null,8,["columns"])]})),default:s((function(){return[f(_,{ref:"tableWrapperRef",columns:v.value,"data-source":m.value,bordered:"",size:"small",loading:p.value,"row-key":"pnlId",pagination:!1,scroll:{x:"auto",y:2e3},class:"h-full","row-height":23},null,8,["columns","data-source","loading"])]})),_:1})]})),_:1})]})),_:1},8,["style"])])}}})))}}}))}();
