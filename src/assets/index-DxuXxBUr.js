import{r as a,o as e,e as l,f as t,t as s,g as n,w as o,s as c,b6 as u,I as i,v as r,N as d,Q as m,d6 as p,B as f,F as v,J as g}from"./index-B3PZsRwT.js";import{g as _,p as w}from"./api-By23aosn.js";const x={class:"bodyClass"},b={class:"titClass"},h={class:"mt20px"},y={class:"ml-20px flex"},N={class:"w-full flex-y-center justify-end gap-12px"},j=g(Object.assign({name:"issuance-management_automatic-opening-line_down"},{__name:"index",setup(g){const j=a({lotNo:null}),C=a("");function I(){_("/mes/cuttingMachine/getInfoByLotNo",j.value).then((({data:a,error:e})=>{e||(C.value=JSON.stringify(a,null,2))}))}function M(){var a;C.value?u.confirm({title:"是否确认下发参数吗?",onOk:()=>{const a=JSON.parse(C.value);w("/mes/cuttingMachine/add",a).then((({error:a,data:e,otherData:l})=>{var t;a||(C.value=[],j.value.liaohao="",null==(t=window.$message)||t.success("下发成功!"))}))},onCancel:()=>{}}):null==(a=window.$message)||a.error("请先查询料号再确定下发!")}const O=a("");function k(){const a=new Date,e=a.getFullYear(),l="0".concat(a.getMonth()+1).slice(-2),t="0".concat(a.getDate()).slice(-2),s="0".concat(a.getHours()).slice(-2),n="0".concat(a.getMinutes()).slice(-2),o="0".concat(a.getSeconds()).slice(-2),c="".concat(e,"-").concat(l,"-").concat(t," ").concat(s,":").concat(n,":").concat(o);O.value=c}function D(){C.value=""}return setInterval(k,1e3),k(),(a,u)=>{const g=i,_=r,w=d,k=m,J=p,S=f,B=v;return e(),l("div",x,[t("div",b,[u[2]||(u[2]=t("p",null,"自动开料线下发",-1)),t("p",null,s(O.value),1)]),t("div",h,[n(B,{model:j.value,"label-col":{span:5,md:7}},{default:o((()=>[n(k,{gutter:[15,8],wrap:"",justify:"center"},{default:o((()=>[n(w,{span:24,md:12,lg:6,xl:6,xxl:4},{default:o((()=>[n(_,{label:"批卡号",name:"lotNo",class:"m-0","label-col":{}},{default:o((()=>[n(g,{value:j.value.lotNo,"onUpdate:value":u[0]||(u[0]=a=>j.value.lotNo=a),placeholder:"请输入批卡号","allow-clear":"",autocomplete:"off",onKeypress:c(I,["enter"])},null,8,["value"])])),_:1})])),_:1})])),_:1}),n(k,{wrap:"",class:"ml-20px mt-20px"},{default:o((()=>[n(w,{span:16},{default:o((()=>[n(_,{label:"",name:"",class:"m-0","label-col":{}},{default:o((()=>[n(J,{value:C.value,"onUpdate:value":u[1]||(u[1]=a=>C.value=a),class:"color-brown text-size-16px font-600",style:{color:"brown"},placeholder:"",rows:28},null,8,["value"])])),_:1})])),_:1}),n(w,{span:8},{default:o((()=>[t("div",y,[n(_,{class:"m-0"},{default:o((()=>[t("div",N,[n(S,{class:"mini-btn down-btn",onClick:M},{default:o((()=>u[3]||(u[3]=[t("span",{class:"m-auto"},"确定下发",-1)]))),_:1}),n(S,{class:"mini-btn down-btn",onClick:D},{default:o((()=>u[4]||(u[4]=[t("span",{class:"m-auto"},"清除",-1)]))),_:1})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["model"])])])}}}),[["__scopeId","data-v-478ae8a0"]]);export{j as default};
