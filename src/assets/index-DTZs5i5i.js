import{r as a,o as e,e as l,f as s,t,g as n,w as o,s as c,b6 as u,I as d,v as r,N as i,Q as m,d6 as f,B as p,F as v,J as g}from"./index-B3PZsRwT.js";import{g as _,p as w}from"./api-By23aosn.js";const x={class:"bodyClass"},b={class:"titClass"},y={class:"mt20px"},h={class:"ml-20px flex"},I={class:"w-full flex-y-center justify-end gap-12px"},j=g(Object.assign({name:"issuance-management_flying-needle-test_down"},{__name:"index",setup(g){const j=a({lotId:null}),C=a("");function N(){_("/mes/PFlyingNeedle/selectParam",j.value).then((({data:a,error:e})=>{e||(C.value=JSON.stringify(a,null,2))}))}function F(){var a;C.value?u.confirm({title:"是否确认下发参数吗?",onOk:()=>{const a=JSON.parse(C.value);w("/mes/PFlyingNeedle/add",a).then((({error:a,data:e,otherData:l})=>{var s;a||(C.value=[],j.value.liaohao="",null==(s=window.$message)||s.success("下发成功!"))}))},onCancel:()=>{}}):null==(a=window.$message)||a.error("请先查询料号再确定下发!")}const O=a("");function k(){const a=new Date,e=a.getFullYear(),l="0".concat(a.getMonth()+1).slice(-2),s="0".concat(a.getDate()).slice(-2),t="0".concat(a.getHours()).slice(-2),n="0".concat(a.getMinutes()).slice(-2),o="0".concat(a.getSeconds()).slice(-2),c="".concat(e,"-").concat(l,"-").concat(s," ").concat(t,":").concat(n,":").concat(o);O.value=c}function D(){C.value=""}return setInterval(k,1e3),k(),(a,u)=>{const g=d,_=r,w=i,k=m,J=f,P=p,S=v;return e(),l("div",x,[s("div",b,[u[2]||(u[2]=s("p",null,"飞针测试下发",-1)),s("p",null,t(O.value),1)]),s("div",y,[n(S,{model:j.value,"label-col":{span:5,md:7}},{default:o((()=>[n(k,{gutter:[15,8],wrap:"",justify:"center"},{default:o((()=>[n(w,{span:24,md:12,lg:6,xl:6,xxl:4},{default:o((()=>[n(_,{label:"批卡号",name:"lotId",class:"m-0","label-col":{}},{default:o((()=>[n(g,{value:j.value.lotId,"onUpdate:value":u[0]||(u[0]=a=>j.value.lotId=a),placeholder:"请输入批卡号","allow-clear":"",autocomplete:"off",onKeypress:c(N,["enter"])},null,8,["value"])])),_:1})])),_:1})])),_:1}),n(k,{wrap:"",class:"ml-20px mt-20px"},{default:o((()=>[n(w,{span:16},{default:o((()=>[n(_,{label:"",name:"",class:"m-0","label-col":{}},{default:o((()=>[n(J,{value:C.value,"onUpdate:value":u[1]||(u[1]=a=>C.value=a),class:"color-brown text-size-16px font-600",style:{color:"brown"},placeholder:"",rows:28},null,8,["value"])])),_:1})])),_:1}),n(w,{span:8},{default:o((()=>[s("div",h,[n(_,{class:"m-0"},{default:o((()=>[s("div",I,[n(P,{class:"mini-btn down-btn",onClick:F},{default:o((()=>u[3]||(u[3]=[s("span",{class:"m-auto"},"确定下发",-1)]))),_:1}),n(P,{class:"mini-btn down-btn",onClick:D},{default:o((()=>u[4]||(u[4]=[s("span",{class:"m-auto"},"清除",-1)]))),_:1})])])),_:1})])])),_:1})])),_:1})])),_:1},8,["model"])])])}}}),[["__scopeId","data-v-15ae37cf"]]);export{j as default};
