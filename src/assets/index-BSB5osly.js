import{_ as e}from"./table-DoFSI9NT.js";import{_ as a}from"./common-search.vue_vue_type_script_setup_true_lang-BX9APgbN.js";import{a as t,u as l,d as s}from"./board-management-Dc4brWFm.js";import{r as n,o as i,e as o,g as r,w as d,i as c,X as u,h as m,a5 as p,B as h}from"./index-B3PZsRwT.js";import{E as g}from"./EditOutlined-5FYoGiVM.js";import{D as y}from"./DeleteOutlined-CWT7lRAZ.js";import"./table-column-setting.vue_vue_type_script_setup_true_lang-DaxmPPHo.js";import"./api-By23aosn.js";import"./index-BThgVJ70.js";const f={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},k=Object.assign({name:"manage_config-manage_board-type"},{__name:"index",setup(k){const x=n(null),b=n({itemName:null,meshCount:null}),v=[{type:"input",key:"itemName",label:"项目名称",placeholder:"请输入项目名称",span:24,md:12,lg:8,xl:8,xxl:4},{type:"input",key:"meshCount",label:"网目",placeholder:"请输入网目",span:24,md:12,lg:8,xl:8,xxl:4}],_=n(null),w=n([]),C=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",fixed:"left",width:70,align:"center",checked:!0,ellipsis:!0},{key:"itemName",dataIndex:"itemName",title:"项目名称",align:"center",checked:!0,ellipsis:!0},{key:"deptName",dataIndex:"deptName",title:"使用部门",align:"center",checked:!0,ellipsis:!0},{key:"meshCount",dataIndex:"meshCount",title:"网目",align:"center",checked:!0,ellipsis:!0},{key:"totalLive",dataIndex:"totalLive",title:"使用寿命",align:"center",checked:!0,ellipsis:!0},{key:"totalWc",dataIndex:"totalWc",title:"翻洗次数",align:"center",checked:!0,ellipsis:!0},{key:"createBy",dataIndex:"createBy",title:"创建人",align:"center",checked:!0,ellipsis:!0},{key:"createDate",dataIndex:"createDate",title:"创建时间",align:"center",width:170,checked:!0,ellipsis:!0},{key:"updateDate",dataIndex:"updateDate",title:"修改时间",width:170,align:"center",checked:!0,ellipsis:!0}];function I(e){w.value=e}const{handleClose:N,handleLoading:j,handleShow:D,updateModalOptions:O}=window.$useModal({modalOption:{title:"新增网板类型",width:"600px",height:"520px",destroyOnClose:!0},formData:{itemName:null,deptName:null,meshCount:null,totalLive:null,totalWc:null},formList:[{type:"input",key:"itemName",label:"项目名称",placeholder:"请输入项目名称",span:24,rule:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},{type:"dictionary",key:"deptName",label:"所属部门",placeholder:"请选择所属部门",dictCode:"board_use_dept",selectType:"select",span:24,rule:[{required:!0,message:"请选择所属部门",trigger:"blur"}]},{type:"input",key:"meshCount",label:"网目",placeholder:"请输入网目",span:24},{type:"input",key:"totalLive",label:"使用寿命",placeholder:"请输入使用寿命",span:24},{type:"input",key:"totalWc",label:"翻洗次数",placeholder:"请输入翻洗次数",span:24}],onClose:()=>{},onOk:e=>{let a;a="add"===L.value?t(e):l(e),j(!0),a.then((({data:e,error:a})=>{a||(window.$message.success("操作成功"),S(),N())})).finally((()=>{j(!1)}))}}),L=n("add");function P(e){"edit"===e?(O({title:"修改网板类型"}),D(w.value[0])):(O({title:"新增网板类型"}),D()),L.value=e}function B(){window.$modal.confirm({title:r("div",null,[m("确定将所勾选的项进行"),r("span",{class:"color-red font-bold"},[m("删除")]),m("操作吗？")]),onOk:()=>{s(w.value).then((({error:e})=>{e||(window.$message.success("删除成功"),S())}))},onCancel:()=>{}})}function S(){_.value.getData(1)}function W(){p((()=>{b.value.itemName=null,b.value.meshCount=null,S()}))}return(t,l)=>{const s=a,n=h,p=e;return i(),o("div",f,[r(s,{ref_key:"commonSearchRef",ref:x,searchParams:b.value,"onUpdate:searchParams":l[0]||(l[0]=e=>b.value=e),"form-list":v,"is-search":!0,onSearch:S,onReset:W},null,8,["searchParams"]),r(p,{ref_key:"tableRef",ref:_,searchParams:b.value,"onUpdate:searchParams":l[3]||(l[3]=e=>b.value=e),column:C,"show-row-selection":"","row-key":"id","auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",url:"/qms/scrscreen/scrscreenType/pageList",onTableSelectChange:I},{title:d((()=>[r(n,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",onClick:l[1]||(l[1]=e=>P("add"))},{icon:d((()=>[r(c(u),{class:"align-sub"})])),default:d((()=>[l[4]||(l[4]=m(" 新增 "))])),_:1}),r(n,{type:"primary",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:1!=w.value.length,onClick:l[2]||(l[2]=e=>P("edit"))},{icon:d((()=>[r(c(g),{class:"align-sub"})])),default:d((()=>[l[5]||(l[5]=m(" 修改 "))])),_:1},8,["disabled"]),r(n,{type:"primary",danger:"",class:"mini-btn mr-8px",size:"small",ghost:"",disabled:!w.value.length,onClick:B},{icon:d((()=>[r(c(y),{class:"align-sub"})])),default:d((()=>[l[6]||(l[6]=m(" 删除 "))])),_:1},8,["disabled"])])),_:1},8,["searchParams"])])}}});export{k as default};
