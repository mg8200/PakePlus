!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function a(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?t(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,a||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}System.register(["./table-legacy-BfQK1xrs.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./index-legacy-BH1Y34Mi.js","./downloadExcelByTable-legacy-Bsz7JyeX.js","./DownloadOutlined-legacy-DK9f6hNJ.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js","./index-legacy-JzSJVdOM.js"],(function(e,t){"use strict";var n,r,l,i,c,d,u,o,s,f,x,b,y,p,v,h,g;return{setters:[function(e){n=e._},function(e){r=e._},function(e){l=e.r,i=e.b,c=e.aa,d=e.S,u=e.o,o=e.e,s=e.g,f=e.w,x=e.i,b=e.f,y=e.h,p=e.t,v=e.B},function(e){h=e.d},function(e){g=e.D},null,null,null],execute:function(){var t={class:"jl-main-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};e("default",Object.assign({name:"collection-management_outer-yield-query"},{__name:"index",setup:function(e){var k=l(null),m=l({prodNo:null,time:null,isOuter:"1"}),_=[{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:6},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6}],w=i((function(){var e,t=a({},m.value);return null!==(e=m.value)&&void 0!==e&&null!==(e=e.time)&&void 0!==e&&e[0]?(t.startTime=c(m.value.time[0]).format("YYYY-MM-DD"),t.endTime=c(m.value.time[1]).format("YYYY-MM-DD")):(t.startTime=null,t.endTime=null),delete t.time,t})),P=l(null),S=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,fixed:"left",align:"center",checked:!0,ellipsis:!0},{key:"partNo",dataIndex:"partNo",title:"生产型号",align:"center",width:220,fixed:"left",checked:!0,ellipsis:!0},{key:"layers",dataIndex:"layers",title:"层别",align:"center",width:160,checked:!0,ellipsis:!0},{key:"panelQty",dataIndex:"panelQty",title:"PNL数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"setQty",dataIndex:"setQty",title:"SET数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"pcsQty",dataIndex:"pcsQty",title:"PCS数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"goodPanelQty",dataIndex:"goodPanelQty",title:"良品PNL数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"goodPanelRate",dataIndex:"goodPanelRate",title:"PNL良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.goodPanelRate).toFixed(2),"%")}},{key:"goodSetQty",dataIndex:"goodSetQty",title:"良品SET数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"goodSetRate",dataIndex:"goodSetRate",title:"SET良率",align:"center",width:100,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.goodSetRate).toFixed(2),"%")}},{key:"goodPcsQty",dataIndex:"goodPcsQty",title:"良品PCS数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"failTotalQty",dataIndex:"failTotalQty",title:"不良点数",align:"center",width:100,checked:!0,ellipsis:!0},{key:"failSetRate",dataIndex:"failSetRate",title:"SET不良率",align:"center",width:90,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.failSetRate).toFixed(2),"%")}},{key:"failPcsRate",dataIndex:"failPcsRate",title:"PCS不良率",align:"center",width:90,checked:!0,ellipsis:!0,customRender:function(e){var t=e.record;return"".concat(Number.parseFloat(t.failPcsRate).toFixed(2),"%")}},{key:"failPanelQty",dataIndex:"failPanelQty",title:"PNL不良数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"failSetQty",dataIndex:"failSetQty",title:"SET不良数",align:"center",width:90,checked:!0,ellipsis:!0},{key:"failPcsQty",dataIndex:"failPcsQty",title:"PCS不良数",align:"center",width:130,checked:!0,ellipsis:!0},{key:"bad1",dataIndex:"bad1",title:"开路",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad2",dataIndex:"bad2",title:"短路",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad3",dataIndex:"bad3",title:"铜渣",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad4",dataIndex:"bad4",title:"蚀刻不净",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad5",dataIndex:"bad5",title:"蚀刻后损伤",align:"center",width:110,checked:!0,ellipsis:!0},{key:"bad6",dataIndex:"bad6",title:"缺口",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad7",dataIndex:"bad7",title:"凹陷",align:"center",width:60,checked:!0,ellipsis:!0},{key:"bad8",dataIndex:"bad8",title:"贴膜不良",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad9",dataIndex:"bad9",title:"干膜刮伤",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad10",dataIndex:"bad10",title:"曝光不良短路",align:"center",width:110,checked:!0,ellipsis:!0},{key:"bad11",dataIndex:"bad11",title:"Mylar未撕净",align:"center",width:110,checked:!0,ellipsis:!0},{key:"bad12",dataIndex:"bad12",title:"PDA残缺",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad13",dataIndex:"bad13",title:"线细",align:"center",width:10,checked:!0,ellipsis:!0},{key:"bad14",dataIndex:"bad14",title:"显影不洁",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad15",dataIndex:"bad15",title:"去膜不净",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad16",dataIndex:"bad16",title:"镀铜不均",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad17",dataIndex:"bad17",title:"胶迹",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad18",dataIndex:"bad18",title:"电镀铜颗粒",align:"center",width:120,checked:!0,ellipsis:!0},{key:"bad19",dataIndex:"bad19",title:"撞断线",align:"center",width:100,checked:!0,ellipsis:!0},{key:"bad20",dataIndex:"bad20",title:"偏孔",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad21",dataIndex:"bad21",title:"三角擦花",align:"center",width:90,checked:!0,ellipsis:!0},{key:"bad22",dataIndex:"bad22",title:"刮伤",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad23",dataIndex:"bad23",title:"其它",align:"center",width:70,checked:!0,ellipsis:!0},{key:"bad24",dataIndex:"bad24",title:"孔内毛刺",align:"center",width:90,checked:!0,ellipsis:!0},{key:"startDate",dataIndex:"startDate",title:"操作开始时间",align:"center",width:170,checked:!0,ellipsis:!0},{key:"endDate",dataIndex:"endDate",title:"操作结束时间",align:"center",width:170,checked:!0,ellipsis:!0}];function I(){P.value.getData(1)}function Q(){nextTick((function(){m.value.prodNo=null,m.value.time=null,I()}))}var R=l(0),j=l(0),O=l([]);function D(e){O.value=e;var t=e.reduce((function(e,t){return e+t.panelQty}),0),a=e.reduce((function(e,t){return e+t.goodPanelQty}),0);R.value="".concat(Number.parseFloat(a/t*100).toFixed(2),"%");var n=e.reduce((function(e,t){return e+t.setQty}),0),r=e.reduce((function(e,t){return e+t.goodSetQty}),0);j.value="".concat(Number.parseFloat(r/n*100).toFixed(2),"%")}function N(){var e=[{partNo:"总计",layers:"--",panelQty:O.value.reduce((function(e,t){return e+t.panelQty}),0),setQty:O.value.reduce((function(e,t){return e+t.setQty}),0),pcsQty:O.value.reduce((function(e,t){return e+t.pcsQty}),0),goodPanelQty:O.value.reduce((function(e,t){return e+t.goodPanelQty}),0),goodPanelRate:R.value,goodSetQty:O.value.reduce((function(e,t){return e+t.goodSetQty}),0),goodSetRate:j.value,goodPcsQty:O.value.reduce((function(e,t){return e+t.goodPcsQty}),0),failTotalQty:"--",failSetRate:"--",failPcsRate:"--",failPanelQty:"--",failSetQty:O.value.reduce((function(e,t){return e+t.failSetQty}),0),failPcsQty:O.value.reduce((function(e,t){return e+t.failPcsQty}),0),bad1:O.value.reduce((function(e,t){return e+t.bad1}),0),bad2:O.value.reduce((function(e,t){return e+t.bad2}),0),bad3:O.value.reduce((function(e,t){return e+t.bad3}),0),bad4:O.value.reduce((function(e,t){return e+t.bad4}),0),bad5:O.value.reduce((function(e,t){return e+t.bad5}),0),bad6:O.value.reduce((function(e,t){return e+t.bad6}),0),bad7:O.value.reduce((function(e,t){return e+t.bad7}),0),bad8:O.value.reduce((function(e,t){return e+t.bad8}),0),bad9:O.value.reduce((function(e,t){return e+t.bad9}),0),bad10:O.value.reduce((function(e,t){return e+t.bad10}),0),bad11:O.value.reduce((function(e,t){return e+t.bad11}),0),bad12:O.value.reduce((function(e,t){return e+t.bad12}),0),bad13:"--",bad14:"--",bad15:"--",bad16:O.value.reduce((function(e,t){return e+t.bad16}),0),bad17:O.value.reduce((function(e,t){return e+t.bad17}),0),bad18:O.value.reduce((function(e,t){return e+t.bad18}),0),bad19:O.value.reduce((function(e,t){return e+t.bad19}),0),bad20:O.value.reduce((function(e,t){return e+t.bad20}),0),bad21:O.value.reduce((function(e,t){return e+t.bad21}),0),bad22:O.value.reduce((function(e,t){return e+t.bad22}),0),bad23:O.value.reduce((function(e,t){return e+t.bad23}),0),bad24:O.value.reduce((function(e,t){return e+t.bad24}),0),startDate:"--",endDate:"--"}],t=O.value.map((function(e){return a(a({},e),{},{goodPanelRate:"".concat(Number.parseFloat(e.goodPanelRate).toFixed(2),"%"),goodSetRate:"".concat(Number.parseFloat(e.goodSetRate).toFixed(2),"%"),failSetRate:"".concat(Number.parseFloat(e.failSetRate).toFixed(2),"%"),failPcsRate:"".concat(Number.parseFloat(e.failPcsRate).toFixed(2),"%")})})),n=[{startCell:"A".concat(t.length+2),endCell:"B".concat(t.length+2),value:"合计"}];h({data:t,header:S,fileName:"外层良率查询".concat(c().format("YYYY-MM-DD HH:mm:ss"),"导出.xlsx"),ortherData:e,mergeCellsArr:n})}return function(e,a){var l=r,i=v,c=d("STableSummaryCell"),h=d("STableSummaryRow"),O=n;return u(),o("div",t,[s(l,{ref_key:"commonSearchRef",ref:k,searchParams:m.value,"onUpdate:searchParams":a[0]||(a[0]=function(e){return m.value=e}),"form-list":_,"is-search":!0,onSearch:I,onReset:Q},null,8,["searchParams"]),s(O,{ref_key:"tableRef",ref:P,searchParams:w.value,"onUpdate:searchParams":a[1]||(a[1]=function(e){return w.value=e}),column:S,"show-row-selection":!1,"auto-generate-uuid":!0,"summary-fixed":!0,"is-pagination":!1,scroll:{y:"auto"},"is-init-get-data":"",url:"/qms/inOutYieldRate/inOutYieldRateList",onTableDataLoadSucess:D},{title:f((function(){return[s(i,{type:"primary",size:"small",ghost:"",class:"mini-btn mr-8px",onClick:N},{icon:f((function(){return[s(x(g))]})),default:f((function(){return[a[2]||(a[2]=b("span",{class:"ml-3px"},"导出",-1))]})),_:1})]})),summary:f((function(){return[s(h,null,{default:f((function(){return[s(c,{index:0,"col-span":2,class:"text-center"},{default:f((function(){return a[3]||(a[3]=[y("总计")])})),_:1}),s(c,{index:2,class:"text-center"},{default:f((function(){return a[4]||(a[4]=[y("--")])})),_:1}),s(c,{index:3,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:4,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:5,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:6,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:7,class:"text-center"},{default:f((function(){return[y(p(R.value),1)]})),_:1}),s(c,{index:8,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:9,class:"text-center"},{default:f((function(){return[y(p(j.value),1)]})),_:1}),s(c,{index:10,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:11,class:"text-center"},{default:f((function(){return a[5]||(a[5]=[y("--")])})),_:1}),s(c,{index:12,class:"text-center"},{default:f((function(){return a[6]||(a[6]=[y("--")])})),_:1}),s(c,{index:13,class:"text-center"},{default:f((function(){return a[7]||(a[7]=[y("--")])})),_:1}),s(c,{index:14,class:"text-center"},{default:f((function(){return a[8]||(a[8]=[y("--")])})),_:1}),s(c,{index:15,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:16,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:17,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:18,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:19,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:20,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:21,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:22,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:23,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:24,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:25,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:26,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:27,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:28,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:29,class:"text-center"},{default:f((function(){return a[9]||(a[9]=[y("--")])})),_:1}),s(c,{index:30,class:"text-center"},{default:f((function(){return a[10]||(a[10]=[y("--")])})),_:1}),s(c,{index:31,class:"text-center"},{default:f((function(){return a[11]||(a[11]=[y("--")])})),_:1}),s(c,{index:32,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:33,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:34,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:35,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:36,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:37,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:38,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:39,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:40,class:"text-center"},{default:f((function(e){var t=e.total;return[y(p(t),1)]})),_:1}),s(c,{index:41,class:"text-center"},{default:f((function(){return a[12]||(a[12]=[y("--")])})),_:1}),s(c,{index:42,class:"text-center"},{default:f((function(){return a[13]||(a[13]=[y("--")])})),_:1})]})),_:1})]})),_:1},8,["searchParams"])])}}}))}}}))}();
