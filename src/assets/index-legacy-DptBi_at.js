!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function a(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,a||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}System.register(["./table-legacy-BfQK1xrs.js","./common-search.vue_vue_type_script_setup_true_lang-legacy-BetNIGyO.js","./index-legacy-BH1Y34Mi.js","./index-legacy-a6h-Ydrn.js","./index-legacy-bnzDecSu.js","./index-legacy-JzSJVdOM.js","./installCanvasRenderer-legacy-DDAXrZCG.js","./table-column-setting.vue_vue_type_script_setup_true_lang-legacy-zNkjfv7c.js","./api-legacy-B6UkH1eb.js"],(function(e,n){"use strict";var r,l,o,i,c,u,s,d,p,f,m,v,y,g,h,b,x,w,k,j,_,O,P,N,S,I;return{setters:[function(e){r=e._},function(e){l=e._},function(e){o=e.J,i=e.r,c=e.aa,u=e.j,s=e.a0,d=e.o,p=e.e,f=e.f,m=e.a3,v=e.e1,y=e.aj,g=e.al,h=e.t,b=e.i,x=e.c,w=e.w,k=e.h,j=e.a1,_=e.b,O=e.g,P=e.a5},null,function(e){N=e.a},function(e){S=e.C},function(e){I=e.r},null,null],execute:function(){var n=document.createElement("style");n.textContent=".chart-container[data-v-e7685332]{height:500px;display:flex}.month[data-v-e7685332]{width:30%;height:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;padding:10px;box-sizing:border-box}.year-selector[data-v-e7685332]{width:100%;padding:10px;box-sizing:border-box}.year-selector select[data-v-e7685332]{width:100%;padding:8px;font-size:16px;border:2px solid rgb(225,235,253);border-radius:4px;text-align:center;font-style:italic;font-size:18px;font-weight:700;color:#95b3ec;-webkit-appearance:none;-moz-appearance:none;appearance:none}.year-selector select[data-v-e7685332]:focus{outline:none;border-color:#95b3ec}.month-item[data-v-e7685332]{width:calc(100% / 3 - 10px);height:90px;border-radius:6px;text-align:center;background-color:#e1ebfd;display:flex;align-items:center;justify-content:center;font-size:18px;border:1px solid rgb(225,235,253);margin:5px;cursor:pointer;font-weight:550;color:#779feb}.active[data-v-e7685332]{background-color:#b3c8ee}.month-item[data-v-e7685332]:hover{background-color:#b3c8ee;transform:scale(1.05)}.chart[data-v-e7685332]{width:70%;height:100%}\n",document.head.appendChild(n);var A={class:"chart-container"},D={class:"month"},Y={class:"year-selector"},C=["value"],z=o({__name:"day-echarts",setup:function(e){var t,a=i(),n=c(),r=i(n.year()),l=i(n.month()),o=i(Array.from({length:12}).fill(0).map((function(e,t){return t+1>9?"".concat(r.value,"-").concat(t+1):"".concat(r.value,"-0").concat(t+1)}))),_=i(o.value[l.value]),O=function(e){N("/erpsyncmes/baseData/bugRequestLog/view/imageDatas",{yearMonth:"".concat(e)}).then((function(a){var n=a.data.filter((function(e){return e.bugLogViewdetails.length>0})),r={title:{text:"月度缺陷数量统计（".concat(e,"）月"),left:"center",top:10},toolbox:{show:!0,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:[{type:"inside",start:0,end:30},{start:0,end:30}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{left:"center",top:30},xAxis:{type:"category",data:n.map((function(e){return e.day}))},yAxis:{type:"value",name:"单位（PCS）",nameGap:25,nameTextStyle:{fontSize:16},axisLine:{show:!0,symbol:["none","arrow"],symbolSize:[6,7]}},series:[0,1,2].map((function(e){return{type:"bar",label:{show:!0,position:"top",textStyle:{fontSize:"12px",color:"grey"}},data:n.map((function(t,a){return[a,t.bugLogViewdetails[e].pcsQty,t.bugLogViewdetails[e].ltBugName]})),encode:{tooltip:[2,1]}}}))};0===n.length&&(r.title.text="月度缺陷数量统计（".concat(e.slice(5)," 月） - 暂无数据"),r.series=[],r.graphic=[{type:"text",left:"center",top:"center"}]),t.setOption(r)}))};return u((function(){t=I(a.value),window.addEventListener("resize",t.resize);Array.from({length:n.year()-2020+1},(function(e,t){return 2020+t})),r.value=n.year(),o.value=Array.from({length:12}).fill(0).map((function(e,t){return t+1>9?"".concat(r.value,"-").concat(t+1):"".concat(r.value,"-0").concat(t+1)})),l.value=n.month(),_.value=o.value[l.value];var e=n.format("YYYY-MM"),i=o.value.indexOf(e);-1!==i?(_.value=o.value[i],l.value=i,O(e)):O(o.value[0])})),s(r,(function(e){o.value=Array.from({length:12}).fill(0).map((function(t,a){return a+1>9?"".concat(e,"-").concat(a+1):"".concat(e,"-0").concat(a+1)})),l.value=n.year()===e?n.month():0,_.value=o.value[l.value],O(_.value)})),function(e,t){var i=S;return d(),p("div",A,[f("div",D,[f("div",Y,[m(f("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.value=e}),onChange:t[1]||(t[1]=function(e){return t=r.value,r.value=t,o.value=Array.from({length:12}).fill(0).map((function(e,a){return a+1>9?"".concat(t,"-").concat(a+1):"".concat(t,"-0").concat(a+1)})),l.value=n.year()===t?n.month():0,_.value=o.value[l.value],void O(_.value);var t})},[(d(!0),p(y,null,g(Array.from({length:b(n).year()-2020+1},(function(e,t){return 2020+t})),(function(e){return d(),p("option",{key:e,value:e,class:"year-options"},h(e),9,C)})),128))],544),[[v,r.value]])]),(d(!0),p(y,null,g(o.value,(function(e,t){return d(),x(i,{key:t,title:"",class:j(["month-item iconfont icon-keshihuakanban",{active:t===l.value}]),onClick:function(t){return function(e){_.value=e,l.value=o.value.indexOf(e),O(e)}(e)}},{default:w((function(){return[k(h(e.slice(5))+" 月 ",1)]})),_:2},1032,["class","onClick"])})),128))]),f("div",{ref_key:"chartRef",ref:a,class:"chart"},null,512)])}}},[["__scopeId","data-v-e7685332"]]),R={class:"frame-management-page min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},B={class:"min-h-38% flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},L={class:"min-h-62% flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto",style:{"background-color":"rgb(250, 250, 250)"}};e("default",Object.assign({name:"quality-management_scrap-judgment-details"},{__name:"index",setup:function(e){var n=i({prodNo:null,lotNo:null,time:null}),o=[{type:"input",key:"prodNo",label:"生产型号",placeholder:"请输入生产型号",span:24,md:12,lg:8,xl:8,xxl:5},{type:"input",key:"lotNo",label:"批卡号",placeholder:"请输入批卡号",span:24,md:12,lg:8,xl:8,xxl:5},{type:"dateRangePicker",key:"time",label:"日期",span:24,md:12,lg:10,xl:8,xxl:6,showTime:!0}],u=_((function(){var e,r=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n.value);return null!==(e=n.value)&&void 0!==e&&e[0]&&(r.beginTime=c(n.value.time[0]).format("YYYY-MM-DD HH:mm:ss"),r.endTime=c(n.value.time[1]).format("YYYY-MM-DD HH:mm:ss")),delete r.time,r})),s=[{key:"dataIndex",dataIndex:"dataIndex",title:"序号",width:70,align:"center",checked:!0,ellipsis:!0},{key:"requestNo",dataIndex:"requestNo",title:"报废单号",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"lotNo",dataIndex:"lotNo",title:"批卡号",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"fullProdNo",dataIndex:"fullProdNo",title:"生产型号",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"ltBugName",dataIndex:"ltBugName",title:"缺陷名称",align:"center",checked:!0,ellipsis:!0,sorter:!0,customRender:function(e){var t=e.record;return O("span",{class:"fonw-900 color-red"},[t.ltBugName])}},{key:"deptCaption",dataIndex:"deptCaption",title:"责任部门",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"techName",dataIndex:"techName",title:"责任工艺",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"pcsQty",dataIndex:"pcsQty",title:"报废PCS数量",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"unitArea",dataIndex:"unitArea",title:"单元面积",align:"center",checked:!0,ellipsis:!0,sorter:!0},{key:"scrapArea",dataIndex:"scrapArea",title:"报废面积",align:"center",checked:!0,ellipsis:!0,sorter:!0,customRender:function(e){var t=e.record;return O("span",{class:"fonw-900 color-red"},[t.scrapArea])}},{key:"createBy",dataIndex:"createBy",title:"报废人",align:"center",checked:!0,ellipsis:!0,width:100,sorter:!0},{key:"createDate",dataIndex:"createDate",title:"报废时间",align:"center",checked:!0,ellipsis:!0,width:150,sorter:!0},{key:"remark",dataIndex:"remark",title:"备注",align:"center",checked:!0,ellipsis:!0}],m=i(null),v=i([]);function y(e){v.value=e}function g(){m.value.getData(1)}function h(){n.value={lotNo:null,prodNo:null,time:null},P((function(){g()}))}return function(e,t){var a=l,i=r;return d(),p("div",R,[O(a,{searchParams:n.value,"onUpdate:searchParams":t[0]||(t[0]=function(e){return n.value=e}),"form-list":o,"is-search":!0,onSearch:g,onReset:h},null,8,["searchParams"]),f("div",B,[O(i,{ref_key:"tableRef",ref:m,searchParams:u.value,"onUpdate:searchParams":t[1]||(t[1]=function(e){return u.value=e}),column:s,"show-row-selection":"","row-key":"frameId","auto-generate-uuid":"",scroll:{y:"auto"},"is-init-get-data":"",url:"/erpsyncmes/baseData/bugRequestLog/view/list",onTableSelectChange:y},null,8,["searchParams"])]),f("div",L,[O(z)])])}}}))}}}))}();
